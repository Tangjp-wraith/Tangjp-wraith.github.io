{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-]","pipeline":["stemmer"]},"docs":[{"location":"","title":"\ud83d\udc4b\u200b\u6b22\u8fce","text":"<p> \u200b\u7ea6\u200b 103 \u200b\u4e2a\u200b\u5b57\u200b </p>"},{"location":"#\u5173\u4e8e\u7b14\u8bb0","title":"\ud83d\udcd2\u200b\u5173\u4e8e\u200b\u7b14\u8bb0","text":"<p>\u200b\u8fd9\u4e2a\u200b\u7b14\u8bb0\u672c\u200b\u66f4\u200b\u50cf\u200b\u4e00\u4e2a\u200b\u52a9\u8bb0\u200b\u7c3f\u200b\uff0c\u200b\u53ea\u4f1a\u200b\u8bb0\u5f55\u200b\u5199\u200b\u81ea\u5df1\u200b\u5b66\u4e60\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u89c9\u5f97\u200b\u5341\u5206\u200b\u91cd\u8981\u200b\u7684\u200b\u77e5\u8bc6\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u81ea\u5df1\u200b\u67e5\u9605\u200b\u3002</p> \ud83d\udcda\u200b\u5185\u5bb9\u200b\u5206\u7c7b\u200b <ul> <li>C++<ul> <li>C++\u200b\u96f6\u788e\u200b\u6742\u8bb0\u200b</li> <li>Effective Modern C++ \u200b\u9605\u8bfb\u200b\u7b14\u8bb0\u200b</li> </ul> </li> <li>OS<ul> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\uff1a\u200b\u539f\u7406\u200b\u4e0e\u200b\u5b9e\u73b0\u200b\uff08\u200b\u94f6\u674f\u200b\u4e66\u200b\uff09\u200b\u5b66\u4e60\u200b\u7b14\u8bb0\u200b</li> </ul> </li> <li>Database<ul> <li>CMU 15-445 :: Intro to Database Systems</li> </ul> </li> </ul> <p>\u200b\u672c\u7ad9\u200b\u5171\u6709\u200b 30 \u200b\u4e2a\u200b\u9875\u9762\u200b\uff0c41450 \u200b\u4e2a\u200b\u5b57\u200b\uff0c759 \u200b\u884c\u200b\u4ee3\u7801\u200b\u3002</p>"},{"location":"cpp/","title":"C++\u200b\u5b66\u4e60","text":"<p> \u200b\u7ea6\u200b 121 \u200b\u4e2a\u200b\u5b57\u200b </p> C++ \u200b\u96f6\u788e\u200b\u6742\u8bb0\u200b <ul> <li>\u200b\u9876\u5c42\u200bconst\u200b\u4e0e\u200b\u5e95\u5c42\u200bconst</li> <li>\u200b\u503c\u200b\u7c7b\u578b\u200b\u4e0e\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b</li> <li>\u200b\u6570\u7ec4\u200b\u6307\u9488\u200b\u4e0e\u200b\u51fd\u6570\u6307\u9488\u200b</li> <li>C++\u200b\u7c7b\u200b\u5bf9\u8c61\u200b\u5e03\u5c40\u200b</li> <li>C++\u200b\u4e2d\u200b\u7684\u200b\u591a\u6001\u200b\u4e0e\u200bRTTI</li> </ul> Effective Modern C++ <p>Deducing Types</p> <ul> <li>item1\uff1a\u200b\u7406\u89e3\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b</li> <li>item2\uff1a\u200b\u7406\u89e3\u200bauto\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b</li> <li>item3\uff1a\u200b\u7406\u89e3\u200bdecltype</li> </ul> <p>auto</p> <p>Moving to Modern C++</p> <ul> <li>item7\uff1a\u200b\u533a\u522b\u200b\u4f7f\u7528\u200b()\u200b\u548c\u200b{}\u200b\u521b\u5efa\u5bf9\u8c61\u200b</li> <li>item9\uff1a\u200b\u4f18\u5148\u200b\u8003\u8651\u200b\u522b\u540d\u200b\u58f0\u660e\u200b\u800c\u200b\u975e\u200btypedef</li> </ul> <p>Smart Pointers</p> <p>Rvalue References, Move Semantics, and Perfect Forwarding</p> <ul> <li>item23\uff1a\u200b\u7406\u89e3\u200bstd::move\u200b\u548c\u200bstd::forward</li> </ul> <p>Lambda Expressions</p> <p>The Concurrency API</p> <p>Tweaks</p>"},{"location":"cpp/effective/item1/","title":"item1\uff1a\u200b\u7406\u89e3\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc","text":"<p> \u200b\u7ea6\u200b 418 \u200b\u4e2a\u200b\u5b57\u200b  280 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 5 \u200b\u5206\u949f\u200b</p> item1 <ul> <li>\u200b\u5728\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\u65f6\u200b\uff0c\u200b\u6709\u200b\u5f15\u7528\u200b\u7684\u200b\u5b9e\u200b\u53c2\u4f1a\u200b\u88ab\u200b\u89c6\u4e3a\u200b\u65e0\u200b\u5f15\u7528\u200b\uff0c\u200b\u4ed6\u4eec\u200b\u7684\u200b\u5f15\u7528\u200b\u4f1a\u200b\u88ab\u200b\u5ffd\u7565\u200b</li> <li>\u200b\u5bf9\u4e8e\u200b\u901a\u7528\u200b\u5f15\u7528\u200b\u7684\u200b\u63a8\u5bfc\u200b\uff0c\u200b\u5de6\u503c\u5b9e\u200b\u53c2\u4f1a\u200b\u88ab\u200b\u7279\u6b8a\u200b\u5bf9\u5f85\u200b</li> <li>\u200b\u5bf9\u4e8e\u200b\u4f20\u503c\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\uff0c<code>const</code>\u200b\u548c\u200b/\u200b\u6216\u200b<code>volatile</code>\u200b\u5b9e\u200b\u53c2\u4f1a\u200b\u88ab\u200b\u8ba4\u4e3a\u200b\u662f\u200bnon-<code>const</code>\u200b\u7684\u200b\u548c\u200bnon-<code>volatile</code>\u200b\u7684\u200b</li> <li>\u200b\u5728\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\u65f6\u200b\uff0c\u200b\u6570\u7ec4\u540d\u200b\u6216\u8005\u200b\u51fd\u6570\u200b\u540d\u5b9e\u200b\u53c2\u4f1a\u200b\u9000\u5316\u200b\u4e3a\u200b\u6307\u9488\u200b\uff0c\u200b\u9664\u975e\u200b\u5b83\u4eec\u200b\u88ab\u200b\u7528\u4e8e\u200b\u521d\u59cb\u5316\u200b\u5f15\u7528\u200b </li> </ul> <p>\u200b\u5bf9\u4e8e\u200b\u4e0b\u9762\u200b\u4e24\u79cd\u200b\u5199\u6cd5\u200b\uff0c\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff0cT\u200b\u90fd\u200b\u662f\u200b\u7528\u6765\u200b\u4fee\u9970\u200bparam\u200b\u7684\u200b\uff0c\u200b\u8fd9\u4e2a\u200bconst\u200b\u90fd\u200b\u4f5c\u4e3a\u200b\u9876\u5c42\u200bconst</p> <pre><code>template &lt;typename T&gt;\nvoid f(const T param);\nvoid f(T const param);\n</code></pre> <p>\u200b\u4e0b\u9762\u200b\u4e24\u4e2a\u200bfun\u200b\u51fd\u6570\u200b\u4e0d\u200b\u6784\u6210\u200b\u91cd\u8f7d\u200b\uff0c\u200b\u539f\u56e0\u200b\u662f\u200b\u9876\u5c42\u200bconst\u200b\u4e0d\u200b\u6784\u6210\u200b\u91cd\u8f7d\u200b</p> <pre><code>void fun(int a) {}\nvoid fun(const int a) {}\n</code></pre> <p>\u200b\u6307\u9488\u200b\u7684\u200b\u5f15\u7528\u200b\uff1a</p> <pre><code>int *a = &amp;b;\nint *&amp;c = a;\n</code></pre> <p>\u200b\u51fd\u6570\u6307\u9488\u200b\u4e0e\u200b\u51fd\u6570\u200b\u5f15\u7528\u200b\uff1a</p> <ul> <li>\u200b\u51fd\u6570\u6307\u9488\u200b\u7684\u200b\u5e95\u5c42\u200bconst\u200b\u4f3c\u4e4e\u200b\u53ea\u80fd\u200b\u7531\u200b\u7c7b\u578b\u200b\u522b\u540d\u200b\u8868\u793a\u200b\u51fa\u6765\u200b</li> <li>\u200b\u51fd\u6570\u200b\u5f15\u7528\u200b\u7684\u200b\u5e95\u5c42\u200bconst\u200b\u4f1a\u200b\u88ab\u200b\u7f16\u8bd1\u5668\u200b\u81ea\u52a8\u200b\u5ffd\u7565\u200b</li> </ul> <pre><code>int fun2(int) { return 10; }\nint (*fun2ptr)(int) = fun2;\nint (*const fun2ptr1)(int) = fun2;  // \u200b\u9876\u5c42\u200bconst\n// const int (*fun2ptr2)(int) = fun2;  \u200b\u5e95\u5c42\u200bconst\u200b\u62a5\u9519\u200b\nint (&amp;fun2ref)(int) = fun2;\nusing F = int(int);\nconst F *aaa = fun2;\nF *const bbb = fun2;\nconst F &amp;ccc = fun2;\n</code></pre> <pre><code>template &lt;typename T&gt; // \u200b\u5199\u6cd5\u200b\u56fa\u5b9a\u200b\nvoid f(ParamType param);\n\nf(expr); // \u200b\u8c03\u7528\u200b\n</code></pre> <p>ParamType: </p> <ul> <li>T; T*;</li> <li>T&amp;; T&amp;&amp;;</li> <li>const T; const T*;</li> <li>const T&amp;; const T&amp;&amp;;</li> <li>T* const; const T* const;</li> </ul> <p>expr:</p> <ul> <li>\u200b\u4e0a\u9762\u200b\u7684\u200bT\u200b\u5168\u200b\u6362\u6210\u200bint; \u200b\u5b57\u9762\u200b\u91cf\u200b;</li> <li>int[10]; int(*)[10];</li> <li>int(&amp;)[10]; bool(int,int);</li> <li>bool(*)(int,int); bool(&amp;)(int,int);</li> </ul> <p>Note</p> <p>1\u3001\u200b\u7406\u89e3\u200b\u9876\u5c42\u200b\u4e0e\u200b\u5e95\u5c42\u200bconst\uff0c\u200b\u7f3a\u200b\u5565\u200b\u8865\u200b\u5565\u200b: T;T*;T&amp;;const T;const T*;const T&amp;;T* const;const T* const;\u200b\u4e0a\u9762\u200b\u7684\u200bT\u200b\u5168\u200b\u6362\u6210\u200bint;\u200b\u5b57\u9762\u200b\u91cf\u200b;\u200b\u7531\u4e8e\u200b\u9876\u5c42\u200bconst\u200b\u4e0d\u200b\u6784\u6210\u200b\u91cd\u8f7d\u200b\uff0c\u200b\u4e8e\u662f\u200b const T = T\uff0cT* const = T*\uff0cconst T* const = const T*</p> <p>2\u3001\u200b\u7406\u89e3\u200b\u6570\u7ec4\u200b\u4e0e\u200b\u51fd\u6570\u200b\u80fd\u591f\u200b\u9000\u5316\u200b\u6210\u200b\u6307\u9488\u200b\u5373\u53ef\u200b int[10];int(*)[10];int(&amp;)[10];bool(int,int);bool(*)(int,int);bool(&amp;)(int,int);</p> <p>3\u3001\u200b\u901a\u7528\u200b\u5f15\u7528\u200b\uff08\u200b\u4e07\u80fd\u200b\u5f15\u7528\u200b\uff09\uff1a\u200b\u4f20\u5165\u200b\u5de6\u503c\u200b   ParamType\u200b\u4e3a\u200b\u5de6\u503c\u200b\u5f15\u7528\u200b\uff1b\u200b\u4f20\u5165\u200b\u53f3\u503c\u200b\uff0cParamType\u200b\u4e3a\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b   T&amp;&amp;;const T&amp;&amp;;  \u200b\u6ce8\u610f\u200b\u5f15\u7528\u200b\u6298\u53e0\u200b\uff0c\u200b\u5f53\u200bint &amp; \u200b\u548c\u200b &amp;&amp; \u200b\u53ef\u6298\u53e0\u200b\u4e3a\u200bint &amp; \uff0c\u200b\u4e07\u80fd\u200b\u5f15\u7528\u200b\u53ea\u80fd\u200b\u5199\u4f5c\u200b T&amp;&amp; \uff0cconst T&amp;&amp;\u200b\u53ea\u662f\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b</p> <p>\u200b\u5b8c\u6574\u200b\u793a\u4f8b\u200b\u4ee3\u7801\u200b</p> <pre><code>#include &lt;iostream&gt;\n\n// void fun(int a) {}\n// void fun(const int a) {} // \u200b\u62a5\u9519\u200b\uff0c\u200b\u9876\u5c42\u200bconst\u200b\u4e0d\u200b\u6784\u6210\u200b\u91cd\u8f7d\u200b\n\ntemplate &lt;typename T&gt;\nvoid f(T param) {\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\nvoid f(T *param) {\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\ntemplate &lt;typename T&gt;\nvoid h(const T *param) {\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\nvoid g(T &amp;param) {\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\nvoid k(const T &amp;param) {\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\nvoid q(T &amp;&amp;param) {\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\nvoid p(const T &amp;&amp;param) {\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\n\n// void f(const T param);\n// void f(T const param);\n\nvoid func(int, int) {}\n\n/*\nint fun2(int) { return 10; }\nint (*fun2ptr)(int) = fun2;\nint (*const fun2ptr1)(int) = fun2;  // \u200b\u9876\u5c42\u200bconst\n// const int (*fun2ptr2)(int) = fun2;  \u200b\u5e95\u5c42\u200bconst\u200b\u62a5\u9519\u200b\nint (&amp;fun2ref)(int) = fun2;\nusing F = int(int);\nconst F *aaa = fun2;\nF *const bbb = fun2;\nconst F &amp;ccc = fun2;\n*/\n\nint main() {\n  {  // void f(T param) \u200b\u5bf9\u5e94\u200b\u7684\u200b\u60c5\u51b5\u200b\n    int a = 10;\n    int *aptr = &amp;a;\n    int &amp;aref = a;\n    int &amp;&amp;arref = std::move(a);\n    f(a);      // void f&lt;int&gt;(int param)\n    f(aptr);   // void f&lt;int *&gt;(int *param)\n    f(aref);   // void f&lt;int&gt;(int param) \u200b\u5f15\u7528\u200b\u5728\u200b\u7b49\u200b\u53f7\u200b\u53f3\u4fa7\u200b\uff0c\u200b\u5ffd\u7565\u200b&amp;\n    f(arref);  // void f&lt;int&gt;(int param)\n\n    const int ca = 20;\n    const int *captr = &amp;ca;\n    const int &amp;caref = ca;\n    const int &amp;&amp;carref = std::move(ca);\n    int *const acptr = &amp;a;\n    const int *const cacptr = &amp;a;\n    f(ca);      // void f&lt;int&gt;(int param) \u200b\u9876\u5c42\u200bconst\n    f(captr);   // void f&lt;const int *&gt;(const int *param) \u200b\u5e95\u5c42\u200bconst\n    f(caref);   // void f&lt;int&gt;(int param)\n    f(carref);  // void f&lt;int&gt;(int param)\n    f(acptr);   // void f&lt;int *&gt;(int *param)\n    f(cacptr);  // void f&lt;const int *&gt;(const int *param)\n    f(10);      // void f&lt;int&gt;(int param)\n\n    int array[2] = {0, 1};\n    f(array);  // void f&lt;int *&gt;(int *param) \u200b\u9000\u5316\u200b\n    const char aaa[12] = \"hello world\";\n    // \u200b\u6570\u7ec4\u200b\u9000\u5316\u200b\u6210\u200b\u6307\u9488\u200b,\u200b\u9876\u5c42\u200bconst\u200b\u53d8\u6210\u200b\u5e95\u5c42\u200bconst\n    f(aaa);            // void f&lt;const char *&gt;(const char *param)\n    f(\"hello world\");  // void f&lt;const char *&gt;(const char *param)\n    int(*arrayptr)[2] = &amp;array;\n    int(&amp;arrayref)[2] = array;\n    f(arrayptr);  // void f&lt;int (*)[2]&gt;(int (*param)[2])\n    f(arrayref);  // void f&lt;int *&gt;(int *param)\n\n    f(func);  // void f&lt;void (*)(int, int)&gt;(void (*param)(int, int)) \u200b\u9000\u5316\u200b\u4e3a\u200b\u6307\u9488\u200b\n    void (*funcptr)(int, int) = func;\n    void (&amp;funcref)(int, int) = func;\n    f(funcptr);  // void f&lt;void (*)(int, int)&gt;(void (*param)(int, int))\n    f(funcref);  // void f&lt;void (*)(int, int)&gt;(void (*param)(int, int))\n  }\n\n  {  // void f(T* param) \u200b\u5bf9\u5e94\u200b\u7684\u200b\u60c5\u51b5\u200b\n    int a = 10;\n    int *aptr = &amp;a;\n    int &amp;aref = a;\n    int &amp;&amp;arref = std::move(a);\n    // f(a);      // \u200b\u62a5\u9519\u200b\n    f(aptr);  // void f&lt;int&gt;(int *param)\n    // f(aref);   // \u200b\u62a5\u9519\u200b\n    // f(arref);  // \u200b\u62a5\u9519\u200b\n\n    const int ca = 20;\n    const int *captr = &amp;ca;\n    const int &amp;caref = ca;\n    const int &amp;&amp;carref = std::move(ca);\n    int *const acptr = &amp;a;\n    const int *const cacptr = &amp;a;\n    // f(ca);      // \u200b\u62a5\u9519\u200b\n    // f(captr);   // \u200b\u62a5\u9519\u200b\n    // f(caref);   // \u200b\u62a5\u9519\u200b\n    // f(carref);  // \u200b\u62a5\u9519\u200b\n    f(acptr);   // void f&lt;int&gt;(int *param)\n    f(cacptr);  // void f&lt;const int&gt;(const int *param)\n    // f(10);      // \u200b\u62a5\u9519\u200b\n\n    int array[2] = {0, 1};\n    f(array);  // void f&lt;int&gt;(int *param) \u200b\u9000\u5316\u200b\n    const char aaa[12] = \"hello world\";\n    f(aaa);            // void f&lt;const char&gt;(const char *param)\n    f(\"hello world\");  // void f&lt;const char&gt;(const char *param)\n    int(*arrayptr)[2] = &amp;array;\n    int(&amp;arrayref)[2] = array;\n    f(arrayptr);  // void f&lt;int[2]&gt;(int *param[2])\n    f(arrayref);  // void f&lt;int&gt;(int *param)\n\n    f(func);  // void f&lt;void(int, int)&gt;(void (*param)(int, int)) \u200b\u9000\u5316\u200b\u4e3a\u200b\u6307\u9488\u200b\n    void (*funcptr)(int, int) = func;\n    void (&amp;funcref)(int, int) = func;\n    f(funcptr);  // void f&lt;void(int, int)&gt;(void (*param)(int, int))\n    f(funcref);  // void f&lt;void(int, int)&gt;(void (*param)(int, int))\n  }\n\n  {  // void g(T&amp; param) \u200b\u5bf9\u5e94\u200b\u7684\u200b\u60c5\u51b5\u200b\n    int a = 10;\n    int *aptr = &amp;a;\n    int &amp;aref = a;\n    int &amp;&amp;arref = std::move(a);\n    g(a);      // void g&lt;int&gt;(int param)\n    g(aptr);   // void g&lt;int *&gt;(int *param)\n    g(aref);   // void g&lt;int&gt;(int param) \u200b\u5f15\u7528\u200b\u5728\u200b\u7b49\u200b\u53f7\u200b\u53f3\u4fa7\u200b\uff0c\u200b\u5ffd\u7565\u200b&amp;\n    g(arref);  // void g&lt;int&gt;(int param)\n\n    const int ca = 20;\n    const int *captr = &amp;ca;\n    const int &amp;caref = ca;\n    const int &amp;&amp;carref = std::move(ca);\n    int *const acptr = &amp;a;\n    const int *const cacptr = &amp;a;\n    g(ca);      // void g&lt;const int&gt;(const int &amp;param)\n    g(captr);   // void g&lt;const int *&gt;(const int *&amp;param)\n    g(caref);   // void g&lt;const int&gt;(const int &amp;param)\n    g(carref);  // void g&lt;const int&gt;(const int &amp;param)\n    g(acptr);   // void g&lt;int *const&gt;(int *const &amp;param)\n    g(cacptr);  // void g&lt;const int *const&gt;(const int *const &amp;param)\n    // g(10);      // \u200b\u62a5\u9519\u200b\n\n    int array[2] = {0, 1};\n    g(array);  // void g&lt;int[2]&gt;(int &amp;param[2]) \u200b\u6570\u7ec4\u200b\u7684\u200b\u5f15\u7528\u200b\u4e0d\u200b\u53d1\u751f\u200b\u9000\u5316\u200b\n    const char aaa[12] = \"hello world\";\n    g(aaa);            // void g&lt;const char[12]&gt;(const char &amp;param[12])\n    g(\"hello world\");  // void g&lt;const char[12]&gt;(const char &amp;param[12])\n    int(*arrayptr)[2] = &amp;array;\n    int(&amp;arrayref)[2] = array;\n    g(arrayptr);  // void g&lt;int (*)[2]&gt;(int (*&amp;param)[2])\n    g(arrayref);  // void g&lt;int[2]&gt;(int &amp;param[2])\n\n    g(func);  // void g&lt;void(int, int)&gt;(void (&amp;param)(int, int)) \u200b\u5f15\u7528\u200b\u4e0d\u200b\u53d1\u751f\u200b\u9000\u5316\u200b\n    void (*funcptr)(int, int) = func;\n    void (&amp;funcref)(int, int) = func;\n    g(funcptr);  // void g&lt;void (*)(int, int)&gt;(void (*&amp;param)(int, int))\n    g(funcref);  // void g&lt;void(int, int)&gt;(void (&amp;param)(int, int))\n  }\n\n  {  // void h(const T* param) \u200b\u5bf9\u5e94\u200b\u7684\u200b\u60c5\u51b5\u200b\n    int a = 10;\n    int *aptr = &amp;a;\n    int &amp;aref = a;\n    int &amp;&amp;arref = std::move(a);\n    // h(a);      // \u200b\u62a5\u9519\u200b\n    h(aptr);  // void h&lt;int&gt;(const int *param)\n    // h(aref);   // \u200b\u62a5\u9519\u200b\n    // h(arref);  // \u200b\u62a5\u9519\u200b\n\n    const int ca = 20;\n    const int *captr = &amp;ca;\n    const int &amp;caref = ca;\n    const int &amp;&amp;carref = std::move(ca);\n    int *const acptr = &amp;a;\n    const int *const cacptr = &amp;a;\n    // h(ca);      // \u200b\u62a5\u9519\u200b\n    h(captr);  // void h&lt;int&gt;(const int *param)\n    // h(caref);   // \u200b\u62a5\u9519\u200b\n    // h(carref);  // \u200b\u62a5\u9519\u200b\n    h(acptr);   // void h&lt;int&gt;(const int *param)\n    h(cacptr);  // void h&lt;int&gt;(const int *param)\n    // h(10);      // \u200b\u62a5\u9519\u200b\n\n    int array[2] = {0, 1};\n    h(array);  // void h&lt;int&gt;(const int *param)\n    const char aaa[12] = \"hello world\";\n    h(aaa);            // void h&lt;char&gt;(const char *param)\n    h(\"hello world\");  // void h&lt;char&gt;(const char *param)\n    int(*arrayptr)[2] = &amp;array;\n    int(&amp;arrayref)[2] = array;\n    h(arrayptr);  // void h&lt;int[2]&gt;(const int *param[2])\n    h(arrayref);  // void h&lt;int&gt;(const int *param)\n\n    // h(func);  // \u200b\u62a5\u9519\u200b \u200b\u63a8\u5bfc\u200b\u4e0d\u200b\u51fa\u6765\u200b\u5e95\u5c42\u200bconst\n    void (*funcptr)(int, int) = func;\n    void (&amp;funcref)(int, int) = func;\n    // h(funcptr);  //  \u200b\u62a5\u9519\u200b\n    // h(funcref);  //  \u200b\u62a5\u9519\u200b\n  }\n\n  {           // void h(const T&amp; param) \u200b\u53ef\u4ee5\u200b\u63a5\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\n    k(func);  // void k&lt;void(int, int)&gt;(void (&amp;param)(int, int)) &amp;\u200b\u88ab\u200b\u5ffd\u7565\u200b\n  }\n\n  {  // void q(T&amp;&amp; param) \u200b\u5f15\u7528\u200b\u6298\u53e0\u200b \u200b\u4e07\u80fd\u200b\u5f15\u7528\u200b\n    int a = 10;\n    int *aptr = &amp;a;\n    int &amp;aref = a;\n    int &amp;&amp;arref = std::move(a);\n    q(a);      // void q&lt;int &amp;&gt;(int &amp;param)\n    q(aptr);   // void q&lt;int *&amp;&gt;(int *&amp;param)\n    q(aref);   // void q&lt;int &amp;&gt;(int &amp;param)\n    q(arref);  // void q&lt;int &amp;&gt;(int &amp;param)\n    const int ca = 20;\n    const int *captr = &amp;ca;\n    const int &amp;caref = ca;\n    const int &amp;&amp;carref = std::move(ca);\n    int *const acptr = &amp;a;\n    const int *const cacptr = &amp;a;\n    q(ca);     // void q&lt;const int &amp;&gt;(const int &amp;param)\n    q(captr);  // void q&lt;const int *&amp;&gt;(const int *&amp;param)\n    q(caref);  // void q&lt;const int &amp;&gt;(const int &amp;param)\n    q(carref);  // void q&lt;const int &amp;&gt;(const int &amp;param) \u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u4ecd\u7136\u200b\u662f\u200b\u5de6\u503c\u200b\n    q(acptr);   // void q&lt;int *const &amp;&gt;(int *const &amp;param)\n    q(cacptr);  // void q&lt;const int *const &amp;&gt;(const int *const &amp;param)\n    q(10);      // void q&lt;int&gt;(int &amp;&amp;param)\n    // \u200b\u6570\u7ec4\u200b\u51fd\u6570\u200b\u540c\u7406\u200b\n  }\n\n  {  // void p(const T&amp;&amp; param) \u200b\u53ea\u662f\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\n    int a = 10;\n    // p(a); // \u200b\u62a5\u9519\u200b,\u200b\u53ea\u80fd\u200b\u4f20\u5165\u200b\u53f3\u503c\u200b\n    p(10);\n    // \u200b\u5176\u4f59\u200b\u5168\u90e8\u200b\u62a5\u9519\u200b\n  }\n\n  return 0;\n}\n</code></pre>"},{"location":"cpp/effective/item2/","title":"item2\uff1a\u200b\u7406\u89e3\u200bauto\u200b\u7c7b\u578b\u200b\u63a8\u5bfc","text":"<p> \u200b\u7ea6\u200b 152 \u200b\u4e2a\u200b\u5b57\u200b  15 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> item2 <ul> <li><code>auto</code>\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\u901a\u5e38\u200b\u548c\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\u76f8\u540c\u200b\uff0c\u200b\u4f46\u662f\u200b<code>auto</code>\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\u5047\u5b9a\u200b\u82b1\u200b\u62ec\u53f7\u200b\u521d\u59cb\u5316\u200b\u4ee3\u8868\u200b<code>std::initializer_list</code>\uff0c\u200b\u800c\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\u4e0d\u200b\u8fd9\u6837\u200b\u505a\u200b</li> <li>\u200b\u5728\u200bC++14\u200b\u4e2d\u200b<code>auto</code>\u200b\u5141\u8bb8\u200b\u51fa\u73b0\u200b\u5728\u200b\u51fd\u6570\u200b\u8fd4\u56de\u503c\u200b\u6216\u8005\u200b*lambda*\u200b\u51fd\u6570\u200b\u5f62\u53c2\u4e2d\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u200b\u7684\u200b\u5de5\u4f5c\u200b\u673a\u5236\u200b\u662f\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\u90a3\u200b\u4e00\u5957\u200b\u65b9\u6848\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b<code>auto</code>\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b</li> </ul> <p>\u200b\u4e07\u80fd\u200b\u5f15\u7528\u200b\u7684\u200b\u7b2c\u4e8c\u79cd\u200b\u5199\u6cd5\u200b auto&amp;&amp; (\u200b\u63a8\u5bfc\u200b\u7ed3\u679c\u200b\u8be6\u7ec6\u200b\u89c1\u200bitem1)</p> <p>{}\u200b\u7684\u200bauto\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b <pre><code>auto x1 = 27;   // int\nauto x2(27);    // int\nauto x3{27};    // int\nauto x4 = {27}; // initializer_list&lt;int&gt;\n// auto x5{10, 27}; //error\n// auto x6 = {10, 27, 7.}; // error:\u200b\u7981\u6b62\u200b\u9690\u5f0f\u200b\u7f29\u7a84\u200b\u8f6c\u6362\u200b \n</code></pre></p> <p>{}\u200b\u7684\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b <pre><code>template &lt;typename T&gt; void f(T param) {}\n\ntemplate &lt;typename T&gt; void g(std::initializer_list&lt;T&gt; param) {}\n\n// main\n// f({1, 2, 3}); // error\uff1aT\u200b\u63a8\u5bfc\u200b\u4e0d\u200b\u51fa\u200binitializer_list\ng({1, 2, 3});\n</code></pre></p> <p>C++14\u200b\u4e2d\u200b\uff0cauto\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u51fd\u6570\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u4f46\u200b\u89c4\u5219\u200b\u5374\u662f\u200b\u6a21\u677f\u200b\u7684\u200b\u89c4\u5219\u200b <pre><code>// auto createInitList() { return {1, 2, 3}; } // error\uff1aauto\u200b\u76f8\u5f53\u4e8e\u200bT\uff0c\u200b\u63a8\u5bfc\u200b\u4e0d\u200b\u51fa\u200b\nauto createInitList() -&gt; std::initializer_list&lt;int&gt; { return {1, 2, 3}; }\n</code></pre></p>"},{"location":"cpp/effective/item23/","title":"item23\uff1a\u200b\u7406\u89e3\u200bstd::move\u200b\u548c\u200bstd::forward","text":"<p> \u200b\u7ea6\u200b 454 \u200b\u4e2a\u200b\u5b57\u200b  64 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 2 \u200b\u5206\u949f\u200b</p> item23 <ul> <li><code>std::move</code>\u200b\u6267\u884c\u200b\u5230\u200b\u53f3\u503c\u200b\u7684\u200b\u65e0\u6761\u4ef6\u200b\u7684\u200b\u8f6c\u6362\u200b\uff0c\u200b\u4f46\u200b\u5c31\u200b\u81ea\u8eab\u200b\u800c\u8a00\u200b\uff0c\u200b\u5b83\u200b\u4e0d\u200b\u79fb\u52a8\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\u3002</li> <li><code>std::forward</code>\u200b\u53ea\u6709\u200b\u5f53\u200b\u5b83\u200b\u7684\u200b\u53c2\u6570\u200b\u88ab\u200b\u7ed1\u5b9a\u200b\u5230\u200b\u4e00\u4e2a\u200b\u53f3\u503c\u200b\u65f6\u200b\uff0c\u200b\u624d\u200b\u5c06\u200b\u53c2\u6570\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u53f3\u503c\u200b\u3002</li> <li><code>std::move</code>\u200b\u548c\u200b<code>std::forward</code>\u200b\u5728\u200b\u8fd0\u884c\u200b\u671f\u200b\u4ec0\u4e48\u200b\u4e5f\u200b\u4e0d\u200b\u505a\u200b\u3002</li> </ul>"},{"location":"cpp/effective/item23/#stdmove\u5b9e\u73b0","title":"std::move\u200b\u5b9e\u73b0","text":"<p><pre><code>// \u200b\u6709\u200b\u95ee\u9898\u200b\u7684\u200b\u5b9e\u73b0\u200b\u7248\u672c\u200b\ntemplate &lt;typename T&gt;\nT &amp;&amp;mymove(T &amp;&amp;param) {\n  return static_cast&lt;T&amp;&amp;&gt;(param);\n}\n// main\nint m = 10;\n// int &amp;&amp;n = mymove(m); //error\n</code></pre> \u200b\u4e0a\u8ff0\u200bmymove\u200b\u5b9e\u73b0\u200b\u7684\u200b\u95ee\u9898\u200b\u5728\u4e8e\u200b\u5f53\u200bmymove\u200b\u63a5\u6536\u200b\u4e00\u4e2a\u200b\u5de6\u503c\u200b\u65f6\u200b\uff0c\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u4f1a\u200b\u88ab\u200b\u63a8\u5bfc\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5de6\u503c\u200b\u5f15\u7528\u200b\uff0c\u200b\u63a5\u7740\u200bT&amp;&amp;\u200b\u4f1a\u200b\u53d1\u751f\u200b\u5f15\u7528\u200b\u6298\u53e0\u200b\uff0c\u200b\u8fdb\u800c\u200bT&amp;&amp;\u200b\u4e5f\u200b\u4f1a\u200b\u88ab\u200b\u63a8\u5bfc\u200b\u4e3a\u200b\u5de6\u503c\u200b\u5f15\u7528\u200b\uff0c\u200b\u5373\u200b<code>int &amp;mymove&lt;int &amp;&gt;(int &amp;param)</code>\uff0c\u200b\u8fd9\u6837\u200b\u7528\u200b\u4e00\u4e2a\u200b\u53f3\u503c\u200b\u63a5\u6536\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u9519\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b\u63a5\u6536\u200b\u8fd9\u4e2a\u200b\u7c7b\u578b\u200bT\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u5f15\u7528\u200b\u5220\u9664\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u7528\u5230\u200b\u4e86\u200bitem9\u200b\u4e2d\u200b\u63d0\u53ca\u200b\u7684\u200b\u7c7b\u578b\u200b\u8403\u53d6\u200b\u5668\u200b\uff0c\u200b\u6b63\u786e\u200b\u7684\u200b\u5b9e\u73b0\u200b\u5982\u4e0b\u200b\uff1a <pre><code>template &lt;typename T&gt;\ntypename std::remove_reference&lt;T&gt;::type &amp;&amp;move(T &amp;&amp;param)  // c++11\n{\n  using ReturnType = typename std::remove_reference&lt;T&gt;::type &amp;&amp;;\n  return static_cast&lt;ReturnType&gt;(param);\n}\ntemplate &lt;typename T&gt;\ndecltype(auto) move2(T &amp;&amp;param)  // C++14\n{\n  using ReturnType = std::remove_reference_t&lt;T&gt; &amp;&amp;;\n  return static_cast&lt;ReturnType&gt;(param);\n}\n</code></pre></p>"},{"location":"cpp/effective/item23/#stdmove","title":"std::move","text":"<p>std::move\u200b\u5b9e\u9645\u200b\u505a\u200b\u7684\u200b\u4e8b\u60c5\u200b\u662f\u200b\u5c06\u200b\u5b9e\u53c2\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u53f3\u503c\u200b\uff08\u200b\u6709\u4e9b\u200b\u63d0\u8bae\u200b\u8bf4\u200b\u5b83\u200b\u7684\u200b\u540d\u5b57\u200b\u53eb\u200brvalue_cost\u200b\u66f4\u597d\u200b\uff09</p> <p>\u200b\u5bf9\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u4f7f\u7528\u200bstd::move\u200b\u5c31\u662f\u200b\u544a\u8bc9\u200b\u7f16\u8bd1\u5668\u200b\u8fd9\u4e2a\u200b\u5bf9\u8c61\u200b\u5f88\u200b\u9002\u5408\u200b\u88ab\u200b\u79fb\u52a8\u200b</p> <p>std::move\u200b\u672c\u8d28\u200b\uff1a\u200b\u603b\u662f\u200b\u5c06\u200b\u4efb\u4f55\u200b\u503c\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u53f3\u503c\u200b</p> \u200b\u5bf9\u4e8e\u200bconst\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\uff0c\u200b\u53ea\u80fd\u200b\u5339\u914d\u200b\u4e0a\u200b\u62f7\u8d1d\u200b\u6784\u9020\u200b <p><pre><code>struct A {\nA(int value) : b(value) { std::cout &lt;&lt; \"create\" &lt;&lt; std::endl; }\nA(const A &amp;value) {\n    std::cout &lt;&lt; \"copy\" &lt;&lt; std::endl;\n    b = value.b;\n}\nA(A &amp;&amp;value) {\n    std::cout &lt;&lt; \"move\" &lt;&lt; std::endl;\n    b = value.b;\n    value.b = 0;\n}\n\nint b;\n};\n\nclass Annotation {\npublic:\nexplicit Annotation(const A a) : a_param(std::move(a)) {}\n\nprivate:\nA a_param;\n};\n\nint main() {\nAnnotation aa{10};\n\nconst A cc{12};\n// A &amp;&amp;m = std::move(cc); //error\n}\n</code></pre> <code>Annotation aa{10};</code>\u200b\u53ea\u4f1a\u200b\u8c03\u7528\u200b\u62f7\u8d1d\u200b\u6784\u9020\u200b\uff0c\u200b\u5373\u4f7f\u200b\u5728\u200b\u5b9e\u73b0\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u4e86\u200bstd::move\uff0c\u200b\u8fd9\u662f\u200b\u7531\u4e8e\u200b10\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53f3\u503c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5f53\u200baa{10}\u200b\u88ab\u200b\u521d\u59cb\u5316\u200b\u540e\u200b\uff0cconst aa\u200b\u5219\u200b\u88ab\u200b\u89e3\u91ca\u200b\u4e3a\u4e86\u200b\u4e00\u4e2a\u200bconst\u200b\u7684\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\uff0c\u200b\u8fd9\u200b\u4e0e\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\u4e2d\u200b\u7684\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u5e76\u200b\u4e0d\u200b\u5339\u914d\u200b\uff0c\u200b\u800c\u200b\u62f7\u8d1d\u200b\u6784\u9020\u200b\u4e2d\u200b\u7684\u200bconst &amp;\u200b\u53ef\u4ee5\u200b\u5339\u914d\u200b\u4e00\u5207\u200b\uff0c\u200b\u8fdb\u800c\u200b\u5c31\u200b\u4f1a\u200b\u8c03\u7528\u200b\u62f7\u8d1d\u200b\u6784\u9020\u200b</p>"},{"location":"cpp/effective/item23/#\u521d\u63a2stdforward","title":"\u521d\u63a2\u200bstd::forward","text":"<p><pre><code>void process(const A &amp;lvalArg) { std::cout &lt;&lt; \"deal lvalArg\" &lt;&lt; std::endl; }\nvoid process(A &amp;&amp;rvalArg) { std::cout &lt;&lt; \"deal rvalArg\" &lt;&lt; std::endl; }\n\ntemplate &lt;typename T&gt;\nvoid logAndProcess(T &amp;&amp;param) {\n  // process(param);\n  // process(std::move(param));\n  process(std::forward&lt;T&gt;(param));  // \u200b\u5b9e\u53c2\u200b\u7528\u53f3\u503c\u200b\u521d\u59cb\u5316\u200b\u65f6\u200b\uff0c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u53f3\u503c\u200b\n}\n\nint main() {\n  A m{10};\n  logAndProcess(m);\n  logAndProcess(std::move(m));\n}\n</code></pre> \u200b\u65e0\u8bba\u200blogAndProcess\u200b\u4f20\u5165\u200b\u7684\u200b\u53c2\u6570\u200b\u662f\u200bm\u200b\u8fd8\u662f\u200bstd::move(m)\uff0clogAndProcess\u200b\u4e2d\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200bparam\u200b\u6700\u7ec8\u200b\u90fd\u200b\u4f1a\u200b\u53d8\u6210\u200b\u5de6\u503c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5f53\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u5c06\u200bparam\u200b\u5de6\u53f3\u200b\u503c\u200b\u4fe1\u606f\u200b\u4fdd\u7559\u200b\u5e76\u200b\u4f20\u9012\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u7528\u5230\u200bstd::forward</p> <p><code>std::forward&lt;T&gt;</code>\u200b\u7684\u200b\u672c\u8d28\u200b\uff1a\u200b\u6709\u200b\u6761\u4ef6\u200b\u7684\u200bmove\uff0c\u200b\u53ea\u6709\u200b\u5f53\u200b\u5b9e\u53c2\u200b\u7528\u53f3\u503c\u200b\u521d\u59cb\u5316\u200b\u624d\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u53f3\u503c\u200b</p>"},{"location":"cpp/effective/item3/","title":"item3\uff1a\u200b\u7406\u89e3\u200bdecltype","text":"<p> \u200b\u7ea6\u200b 440 \u200b\u4e2a\u200b\u5b57\u200b  98 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 3 \u200b\u5206\u949f\u200b</p> item3 <ul> <li><code>decltype</code>\u200b\u603b\u662f\u200b\u4e0d\u200b\u52a0\u200b\u4fee\u6539\u200b\u7684\u200b\u4ea7\u751f\u200b\u53d8\u91cf\u200b\u6216\u8005\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u7c7b\u578b\u200b\u3002</li> <li>\u200b\u5bf9\u4e8e\u200b<code>T</code>\u200b\u7c7b\u578b\u200b\u7684\u200b\u4e0d\u662f\u200b\u5355\u7eaf\u200b\u7684\u200b\u53d8\u91cf\u540d\u200b\u7684\u200b\u5de6\u503c\u200b\u8868\u8fbe\u5f0f\u200b\uff0c<code>decltype</code>\u200b\u603b\u662f\u200b\u4ea7\u51fa\u200b<code>T</code>\u200b\u7684\u200b\u5f15\u7528\u200b\u5373\u200b<code>T&amp;</code>\u3002</li> <li>C++14\u200b\u652f\u6301\u200b<code>decltype(auto)</code>\uff0c\u200b\u5c31\u200b\u50cf\u200b<code>auto</code>\u200b\u4e00\u6837\u200b\uff0c\u200b\u63a8\u5bfc\u200b\u51fa\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u200b\u4f7f\u7528\u200b<code>decltype</code>\u200b\u7684\u200b\u89c4\u5219\u200b\u8fdb\u884c\u200b\u63a8\u5bfc\u200b\u3002</li> </ul>"},{"location":"cpp/effective/item3/#decltype--\u53d8\u91cf","title":"decltype + \u200b\u53d8\u91cf","text":"<p>\u200b\u6240\u6709\u200b\u4fe1\u606f\u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u4fdd\u7559\u200b\uff0c\u200b\u6570\u7ec4\u200b\u4e0e\u200b\u51fd\u6570\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u9000\u5316\u200b</p> <pre><code>int a = 10;\ndecltype(a) b; // b -&gt; int\nint &amp;&amp;arref = std::move(a);\ndecltype(arref) ref; // ref -&gt; int &amp;&amp;\nconst int ca = 20;\nconst int &amp;&amp;carref = std::move(ca);\ndecltype(carref) cb;  // cb -&gt; const int &amp;&amp;\nint array[2] = {0, 1};\ndecltype(array) arr; // arr -&gt; int[2]\n</code></pre>"},{"location":"cpp/effective/item3/#decltype--\u8868\u8fbe\u5f0f","title":"decltype + \u200b\u8868\u8fbe\u5f0f","text":"<p>\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u8868\u8fbe\u5f0f\u200b\u7ed3\u679c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u8868\u8fbe\u5f0f\u200b\u7ed3\u679c\u200b\u4e0d\u662f\u200b\u5de6\u503c\u200b\u5c31\u662f\u200b\u53f3\u503c\u200b</p> <ul> <li>\u200b\u5de6\u503c\u200b\uff1a\u200b\u5f97\u5230\u200b\u8be5\u200b\u7c7b\u578b\u200b\u7684\u200b\u5de6\u503c\u200b\u5f15\u7528\u200b</li> <li>\u200b\u53f3\u503c\u200b\uff1a\u200b\u5f97\u5230\u200b\u8be5\u200b\u7c7b\u578b\u200b</li> </ul> <pre><code>int *const acptr = &amp;a;\nconst int *const cacptr = &amp;a;\ndecltype(*cacptr) cc;  // cc -&gt; const int &amp;\n10;\ndecltype(10) aa; // aa -&gt; int\n\nint value = 10;\nint *ptr = &amp;value;\ndecltype(*ptr) ref = value;  // ref -&gt; int &amp;\ndecltype(ptr) val;           // val -&gt; int *\ndecltype((value)) ref2 = value;  // ref2 -&gt;int &amp;\ndecltype((((value)))) ref3 = value;  // ref3 -&gt;int &amp;\ndecltype(value + 10) value2 = value;  // value2 -&gt; int\n\nconst int cvalue = 20;\nconst int *cptr = &amp;cvalue;\nint *const ptrc = &amp;value;\ndecltype(*cptr) cref = cvalue;  // cref -&gt; const int &amp;\ndecltype(*ptrc) refc = value;   // refc -&gt; int &amp;\ndecltype((cvalue + 10)) value3 = value;  // value3 -&gt; int\n</code></pre> <p><code>int *ptr = &amp;value;</code> \u200b\u4e2d\u200b *ptr \u200b\u662f\u200b\u5de6\u503c\u200b\uff0c\u200b\u56e0\u6b64\u200b\u63a8\u5bfc\u200b\u5f97\u5230\u200b\u7684\u200b\u662f\u200b\u5de6\u503c\u200b\u5f15\u7528\u200b\uff0c\u200b\u5373\u200bint &amp;</p> <p>\u200b\u4f46\u662f\u200b <code>decltype(ptr) val;</code> val \u200b\u7684\u200b\u7c7b\u578b\u200b\u786e\u5b9e\u200bint *\uff0c\u200b\u800c\u200bptr\u200b\u4e5f\u200b\u662f\u200b\u5de6\u503c\u200b\uff0c\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\uff1adecltype\u200b\u5355\u72ec\u200b\u4f5c\u7528\u200b\u4e8e\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u6ca1\u6709\u200b\u4f7f\u7528\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u5c5e\u6027\u200b\uff0c\u200b\u800c\u662f\u200b\u76f4\u63a5\u200b\u83b7\u5f97\u200b\u53d8\u91cf\u200b\u7c7b\u578b\u200b\uff0c\u200b\u60f3\u8981\u200b\u5c06\u200b\u53d8\u91cf\u200b\u4f5c\u4e3a\u200b\u8868\u8fbe\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u52a0\u200b\u62ec\u53f7\u200b</p> <p>decltype \u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5b9e\u9645\u200b\u8ba1\u7b97\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u7f16\u8bd1\u5668\u200b\u4f1a\u200b\u5206\u6790\u200b\u8868\u8fbe\u5f0f\u200b\u5e76\u200b\u5f97\u5230\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u5bf9\u4e8e\u200b\u4e0b\u9762\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u6267\u884c\u200bfun\u200b\u51fd\u6570\u200b\u6253\u5370\u200b\uff0cdecltype\u200b\u4f1a\u200b\u5206\u6790\u200b\u5f97\u5230\u200bfun\u200b\u8fd4\u56de\u200b\u7c7b\u578b\u200b\u4e3a\u200bint\uff0c\u200b\u7136\u540e\u200b\u63a8\u5bfc\u200bvalue4\u200b\u4e3a\u200bint <pre><code>int fun(int x) {\n  std::cout &lt;&lt; \"fun\" &lt;&lt; std::endl;\n  return x;\n}\n// main\nint value = 10;\ndecltype(fun(value)) value4;\n</code></pre></p>"},{"location":"cpp/effective/item3/#decltype\u4f7f\u7528\u573a\u666f","title":"decltype\u200b\u4f7f\u7528\u200b\u573a\u666f","text":"<p>\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u6a21\u677f\u200b\u51fd\u6570\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\u662f\u200b\u65e0\u6cd5\u200b\u63d0\u524d\u200b\u5f97\u5230\u200b\u7684\u200b</p> <p>\u200b\u5bf9\u4e8e\u200bstd::vector&lt;&gt;\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4f7f\u7528\u200boperator[]\u200b\u901a\u5e38\u200b\u4f1a\u200b\u8fd4\u56de\u200bT&amp;\uff0c\u200b\u4f46\u662f\u200b\u5bf9\u4e8e\u200bstd::vector&lt; bool &gt; \u200b\u5374\u662f\u200b\u4e00\u4e2a\u200b\u4f8b\u5916\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6b64\u65f6\u200b\u7684\u200b\u6a21\u677f\u200b\u51fd\u6570\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\u5fc5\u987b\u200b\u662f\u200b\u81ea\u52a8\u200b\u63a8\u5bfc\u200b</p> <p>C++ 11 \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5c3e\u7f6e\u200b\u8fd4\u56de\u200b\u7c7b\u578b\u200b\u8bed\u6cd5\u200b auto + decltype(xxx)</p> <p>C++ 14 \u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200bauto\uff0c\u200b\u4f46\u662f\u200bauto\u200b\u4f5c\u4e3a\u200b\u51fd\u6570\u200b\u8fd4\u56de\u503c\u200b\u8d70\u200b\u7684\u200b\u662f\u200b\u6a21\u677f\u200b\u7c7b\u578b\u200b\u63a8\u5bfc\u200b\uff0c\u200b\u6240\u6709\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bdecltype(auto)\u200b\u6765\u200b\u4fdd\u7559\u200bxxx\u200b\u7684\u200b\u6240\u6709\u200b\u4fee\u9970\u200b</p> <pre><code>struct Point {\n  int x, y;\n  Point &amp;operator=(Point p) {\n    std::cout &lt;&lt; \"operator=\" &lt;&lt; std::endl;\n    return *this;\n  }\n};\n\ntemplate &lt;typename Container, typename Index&gt;  // \u200b\u53ef\u4ee5\u200b\u5de5\u4f5c\u200b\uff0c\nauto testFun(Container &amp;c, Index i)            // \u200b\u4f46\u662f\u200b\u9700\u8981\u200b\u6539\u826f\u200b\n    -&gt; decltype(c[i])  // c++11\u200b\u7684\u200b\u5199\u6cd5\u200b \u200b\u5c3e\u7f6e\u200b\u8fd4\u56de\u200b\u7c7b\u578b\u200b\u8bed\u6cd5\u200b\n{\n  // do something...\n  return c[i];\n}\n\ntemplate &lt;typename Container, typename Index&gt;  // C++14\u200b\u7248\u672c\u200b\uff0c\nauto testFun_error(\n    Container &amp;c,\n    Index i)  // \u200b\u4e0d\u200b\u90a3\u4e48\u200b\u6b63\u786e\u200b \u200b\u56e0\u4e3a\u200bauto\u200b\u4f5c\u4e3a\u200b\u51fd\u6570\u200b\u8fd4\u56de\u503c\u200b\u7684\u200b\u65f6\u5019\u200b\u8d70\u200b\u7684\u200b\u662f\u200b\u6a21\u677f\u200b\u63a8\u5bfc\u200b\u7684\u200b\u5957\u8def\u200b\n{\n  // do something...\n  return c[i];  // \u200b\u4ece\u200bc[i]\u200b\u4e2d\u200b\u63a8\u5bfc\u200b\u8fd4\u56de\u200b\u7c7b\u578b\u200b\n}\n\ntemplate &lt;typename Container, typename Index&gt;  // C++14\u200b\u7248\u672c\u200b\uff0c\ndecltype(auto) testFun_right(Container &amp;c, Index i)  // \u200b\u53ef\u4ee5\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fd8\u200b\u9700\u8981\u200b\u6539\u826f\u200b\n{\n  // do something...\n  return c[i];\n}\n\ntemplate &lt;typename Container, typename Index&gt;\ndecltype(auto) testFun_better(Container &amp;&amp;c, Index i) {\n  // do something...\n  // return c[i];\n  return std::forward&lt;Container&gt;(c)[i];\n}\n\nint main() {\n  int value = 10;\n  Point point{1, 2};\n  std::vector&lt;bool&gt; vec = {true, false, true};\n  decltype(vec[1]) value6;  // value6 -&gt; std::vector&lt;bool&gt;::reference\n  std::vector&lt;int&gt; vec2 = {1, 2, 3};\n  decltype(vec2[1]) value7 = value;  // value7 -&gt; int &amp;\n  std::vector&lt;Point&gt; vec3 = {{1, 2}, {3, 4}, {2, 3}};\n  decltype(vec3[1]) value8 = point; // value8 -&gt; Point &amp;\n\n  testFun(vec, 1) = true;\n  testFun(vec2, 1) = 10;\n  testFun(vec3, 1) = {4, 8};\n\n  testFun_error(vec, 1) = true;\n  // testFun_error(vec2, 1) = 10;  // error testFun_error(vec2, 1) \u200b\u662f\u200b\u53f3\u503c\u200b\n  testFun_error(vec3, 1) =\n      point;  // testFun_error(vec3, 1) \u200b\u4e5f\u200b\u662f\u200b\u53f3\u503c\u200b\uff0c\u200b\u4f46\u662f\u200b\u4ed6\u200b\u5728\u200b\u6267\u884c\u200b Point &amp;operator=(Point p) \u200b\u51fd\u6570\u200b\n\n  testFun_right(vec, 1) = true;\n  testFun_right(vec2, 1) = 20;\n  testFun_right(vec3, 1) = {5, 15};\n}\n</code></pre>"},{"location":"cpp/effective/item7/","title":"item7\uff1a\u200b\u533a\u522b\u200b\u4f7f\u7528\u200b()\u200b\u548c\u200b{}\u200b\u521b\u5efa\u5bf9\u8c61","text":"<p> \u200b\u7ea6\u200b 794 \u200b\u4e2a\u200b\u5b57\u200b  89 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 4 \u200b\u5206\u949f\u200b</p> item7 <ul> <li>\u200b\u62ec\u53f7\u200b\u521d\u59cb\u5316\u200b\u662f\u200b\u6700\u200b\u5e7f\u6cdb\u200b\u4f7f\u7528\u200b\u7684\u200b\u521d\u59cb\u5316\u200b\u8bed\u6cd5\u200b\uff0c\u200b\u5b83\u200b\u9632\u6b62\u200b\u53d8\u7a84\u200b\u8f6c\u6362\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5bf9\u4e8e\u200bC++\u200b\u6700\u200b\u4ee4\u4eba\u200b\u5934\u75bc\u200b\u7684\u200b\u89e3\u6790\u200b\u6709\u200b\u5929\u751f\u200b\u7684\u200b\u514d\u75ab\u6027\u200b</li> <li>\u200b\u5728\u200b\u6784\u9020\u51fd\u6570\u200b\u91cd\u8f7d\u200b\u51b3\u8bae\u200b\u4e2d\u200b\uff0c\u200b\u62ec\u53f7\u200b\u521d\u59cb\u5316\u200b\u5c3d\u200b\u6700\u5927\u200b\u53ef\u80fd\u200b\u4e0e\u200b<code>std::initializer_list</code>\u200b\u53c2\u6570\u200b\u5339\u914d\u200b\uff0c\u200b\u5373\u4fbf\u200b\u5176\u4ed6\u200b\u6784\u9020\u51fd\u6570\u200b\u770b\u8d77\u6765\u200b\u662f\u200b\u66f4\u597d\u200b\u7684\u200b\u9009\u62e9\u200b</li> <li>\u200b\u5bf9\u4e8e\u200b\u6570\u503c\u200b\u7c7b\u578b\u200b\u7684\u200b<code>std::vector</code>\u200b\u6765\u8bf4\u200b\u4f7f\u7528\u200b\u82b1\u200b\u62ec\u53f7\u200b\u521d\u59cb\u5316\u200b\u548c\u200b\u5c0f\u62ec\u53f7\u200b\u521d\u59cb\u5316\u200b\u4f1a\u200b\u9020\u6210\u200b\u5de8\u5927\u200b\u7684\u200b\u4e0d\u540c\u200b</li> <li>\u200b\u5728\u200b\u6a21\u677f\u200b\u7c7b\u200b\u9009\u62e9\u200b\u4f7f\u7528\u200b\u5c0f\u62ec\u53f7\u200b\u521d\u59cb\u5316\u200b\u6216\u200b\u4f7f\u7528\u200b\u82b1\u200b\u62ec\u53f7\u200b\u521d\u59cb\u5316\u200b\u521b\u5efa\u5bf9\u8c61\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6311\u6218\u200b\u3002</li> </ul>"},{"location":"cpp/effective/item7/#\u7684\u5f15\u5165","title":"{}\u200b\u7684\u200b\u5f15\u5165","text":"<pre><code>struct A {\n  A(int a) { std::cout &lt;&lt; \"A(int a)\" &lt;&lt; std::endl; }\n  A(const A &amp;a) { std::cout &lt;&lt; \"A(const A&amp; a)\" &lt;&lt; std::endl; }\n};\n// main\u200b\u51fd\u6570\u200b\u5185\u200b\nA a = 10; // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\u4e00\u6b21\u200b\u62f7\u8d1d\u200b\nA b(10); // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\nA c = (10);  // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\u4e00\u6b21\u200b\u62f7\u8d1d\u200b\nA d{10};  // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\nA e = {10};  // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\n// d\u200b\u548c\u200be\u200b\u662f\u200bc++11\u200b\u4e4b\u540e\u200b\u63d0\u51fa\u200b\u7684\u200b d\u200b\u548c\u200be\u200b\u5728\u200bc++14\u200b\u524d\u200b\u7b49\u4ef7\u200b\uff0c14\u200b\u53ca\u200b\u4e4b\u540e\u200b\u4e0d\u7b49\u4ef7\u200b\n</code></pre> <p>1\u3001<code>A a = 10;</code>\u200b\u95ee\u9898\u200b\uff1a\u200b\u53ea\u80fd\u200b\u63a5\u6536\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\uff1b\u200b\u8981\u200b\u989d\u5916\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u6709\u4e9b\u200b\u7c7b\u200b\u8fd8\u200b\u4e0d\u53ef\u200b\u62f7\u8d1d\u200b</p> <p>2\u3001<code>A a(10);</code> \u200b\u95ee\u9898\u200b\uff1a\u200b\u88ab\u200b\u7528\u505a\u200b\u51fd\u6570\u53c2\u6570\u200b\u6216\u200b\u8fd4\u56de\u503c\u200b\u65f6\u200b\u8fd8\u662f\u200b\u4f1a\u200b\u6267\u884c\u200b\u62f7\u8d1d\u200b</p> <p>3\u3001<code>A a{10};</code>\u200b\u7684\u200b\u4f18\u52bf\u200b\uff1a{}\u200b\u53ef\u4ee5\u200b\u5b8c\u7f8e\u200b\u89e3\u51b3\u200b\u4e0a\u9762\u200b\u95ee\u9898\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u7f29\u7a84\u200b\u8f6c\u6362\u200b\uff1b\u200b\u5927\u5927\u7b80\u5316\u200b\u4e86\u200b\u805a\u5408\u200b\u7c7b\u200b\u7684\u200b\u521d\u59cb\u5316\u200b\uff1b{}\u200b\u5bf9\u200bc++\u200b\u6700\u200b\u4ee4\u4eba\u200b\u5934\u75bc\u200b\u7684\u200b\u89e3\u6790\u200b\u95ee\u9898\u200b\u5929\u751f\u200b\u514d\u75ab\u200b\uff08\u200b\u7c7b\u5185\u200b\u521d\u59cb\u5316\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b2\u3001\uff09</p> <pre><code>struct people {\n//  private: // private\u200b\u5c31\u200b\u4e0d\u662f\u200b\u805a\u5408\u200b\u7c7b\u200b\u4e86\u200b\uff0c{}\u200b\u521d\u59cb\u5316\u200b\u62a5\u9519\u200b\n  // people() = default;\n  int age;\n  // int age(10); // ()\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u7c7b\u5185\u200b\u521d\u59cb\u5316\u200b \u200b\u62a5\u9519\u200b\uff0c()\u200b\u4f1a\u200b\u89e3\u6790\u200b\u6210\u200b\u51fd\u6570\u200b\n  std::string name;\n  float height;\n};\nstruct A {\n  A(int a) { std::cout &lt;&lt; \"A(int a)\" &lt;&lt; std::endl; }\n  A(int a, int b) { std::cout &lt;&lt; \"A(int a,int b)\" &lt;&lt; std::endl; }\n  A(const A &amp;a) { std::cout &lt;&lt; \"A(const A&amp; a)\" &lt;&lt; std::endl; }\n};\n// main\u200b\u51fd\u6570\u200b\u5185\u200b\n// A f = 10, 5; // \u200b\u53ea\u80fd\u200b\u63a5\u6536\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u9519\u8bef\u200b\nA g(10, 5);     //\u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\nA gg(10, 5.);   // \u200b\u4e0d\u200b\u5b89\u5168\u200b\nA i = {10, 5};  // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\n// A j = {10,5.}; // \u200b\u62a5\u9519\u200b\uff0c\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u7f29\u7a84\u200b\u8f6c\u6362\u200b\nA j = {10, static_cast&lt;int&gt;(5.)};\nfun1(A(10, 5));  // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\u4e00\u6b21\u200b\u62f7\u8d1d\u200b\nfun1({10, 5});   // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\nA k = fun2();    // \u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\u4e24\u6b21\u200b\u62f7\u8d1d\u200b\nA m = fun3();  //\u200b\u4e00\u6b21\u200b\u6784\u9020\u200b\u4e00\u6b21\u200b\u62f7\u8d1d\u200b \u200b\u6700\u540e\u200b\u8d4b\u503c\u200b\u7ed9\u200bm\u200b\u65f6\u4f1a\u200b\u62f7\u8d1d\u200b\u4e00\u6b21\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\npeople aa{19, \"cxk\", 191.};  // \u200b\u805a\u5408\u200b\u7c7b\u200b\u7684\u200b\u521d\u59cb\u5316\u200b\n</code></pre>"},{"location":"cpp/effective/item7/#most-vexing-parse\u6700\u4ee4\u4eba\u5934\u75bc\u7684\u89e3\u6790\u95ee\u9898","title":"most vexing parse(\u200b\u6700\u200b\u4ee4\u4eba\u200b\u5934\u75bc\u200b\u7684\u200b\u89e3\u6790\u200b\u95ee\u9898\u200b)","text":"<ul> <li>\u200b\u5bf9\u8c61\u200b\u53c2\u6570\u200b\u7684\u200b\u521b\u5efa\u200b</li> <li>\u200b\u51fd\u6570\u200b\u7c7b\u578b\u200b\u7684\u200b\u89c4\u7ea6\u200b</li> </ul> <p>\u200b\u5bf9\u4e8e\u200b\u4e0b\u9762\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u6709\u200b\u4e24\u79cd\u200b\u770b\u6cd5\u200b\uff1a</p> <ul> <li>\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200bint\u200b\u7c7b\u578b\u200b\u7684\u200b\u53d8\u91cf\u200b\uff08\u200b\u5c06\u200bvalue\u200b\u5f3a\u200b\u8f6c\u4e3a\u200bint\uff09\uff0c\u200b\u4e0b\u9762\u200b\u7684\u200bint(value)\u200b\u5e76\u200b\u4e0d\u662f\u200b\u5f3a\u5236\u200b\u8f6c\u6362\u200b\uff0c\u200b\u800c\u662f\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u4e34\u65f6\u200b\u5bf9\u8c61\u200b</li> <li>\u200b\u58f0\u660e\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200bint i(int value)\uff1bC\u200b\u8bed\u8a00\u200b\u5141\u8bb8\u200b\u53c2\u6570\u200b\u88ab\u200b\u591a\u4f59\u200b\u7684\u200b\u62ec\u53f7\u200b\u5305\u88f9\u200b</li> </ul> <p>\u200b\u7f16\u8bd1\u5668\u200b\u4f1a\u200b\u89e3\u91ca\u200b\u6210\u200b\u7b2c\u4e8c\u79cd\u200b\uff0c\u200b\u89c6\u4f5c\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u58f0\u660e\u200b\u800c\u200b\u975e\u200b()\u200b\u7684\u200b\u521d\u59cb\u5316\u200b</p> <pre><code>void f(double value) { int i(int(value)); }\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b\u4e0b\u9762\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u540c\u6837\u200b\u4f1a\u200b\u89c6\u4e3a\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\u58f0\u660e\u200b\u800c\u200b\u975e\u200b()\u200b\u7684\u200b\u521d\u59cb\u5316\u200b</p> <pre><code>struct Timer {};\nstruct TimerKeeper {\n  TimerKeeper(Timer t) {}\n};\n// main\u200b\u51fd\u6570\u200b\u5185\u200b\nTimerKeeper time_keeper(Timer()); // \u200b\u89c6\u4e3a\u200b\u51fd\u6570\u200b\u58f0\u660e\u200b\nTimerKeeper time_keeper{Timer()}; // {}\u200b\u521d\u59cb\u5316\u200b\n</code></pre>"},{"location":"cpp/effective/item7/#\u805a\u5408\u7c7b\u7684\u5b9a\u4e49\u4e0e\u4e0d\u540c\u6807\u51c6\u7684\u533a\u522b","title":"\u805a\u5408\u200b\u7c7b\u200b\u7684\u200b\u5b9a\u4e49\u200b\u4e0e\u200b\u4e0d\u540c\u200b\u6807\u51c6\u200b\u7684\u200b\u533a\u522b","text":"<p>C++ 11 \uff1a</p> <ul> <li>\u200b\u6240\u6709\u200b\u6210\u5458\u200b\u90fd\u200b\u662f\u200bpublic</li> <li>\u200b\u6ca1\u6709\u200b\u5b9a\u4e49\u200b\u4efb\u4f55\u200b\u6784\u9020\u51fd\u6570\u200b \u200b\u4f46\u200b\u53ef\u4ee5\u200b\u5199\u51fa\u200b=default</li> <li>\u200b\u6ca1\u6709\u200b\u7c7b\u5185\u200b\u521d\u59cb\u5316\u200b \uff08C++17\u200b\u53d6\u6d88\u200b\uff09\u200b\u5b58\u5728\u200b\u95ee\u9898\u200b\uff1a\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u4efb\u52a1\u200b\u4ea4\u7ed9\u200b\u4e86\u200b\u7528\u6237\u200b</li> <li>\u200b\u6ca1\u6709\u200b\u57fa\u7c7b\u200b\uff0c\u200b\u4e5f\u200b\u6ca1\u6709\u200bvirtual\u200b\u51fd\u6570\u200b</li> </ul> <pre><code>struct people{\n  // people() = default;\n  int age;\n  std::string name;\n  float height;\n};\n</code></pre> <p>C++17\uff1a\u200b\u53ef\u4ee5\u200b\u6709\u200b\u57fa\u7c7b\u200b\uff0c\u200b\u4f46\u200b\u5fc5\u987b\u200b\u662f\u200b\u516c\u6709\u200b\u7ee7\u627f\u200b\u4e14\u200b\u5fc5\u987b\u200b\u662f\u975e\u200b\u865a\u200b\u7ee7\u627f\u200b\uff08\u200b\u57fa\u7c7b\u200b\u53ef\u4ee5\u200b\u4e0d\u662f\u200b\u805a\u5408\u200b\u7c7b\u200b\uff09</p> <p>\u200b\u603b\u662f\u200b\u5047\u8bbe\u200b\u57fa\u7c7b\u200b\u662f\u200b\u4e00\u79cd\u200b\u5728\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u6210\u5458\u200b\u4e4b\u524d\u200b\u58f0\u660e\u200b\u7684\u200b\u7279\u6b8a\u200b\u6210\u5458\u200b</p> <pre><code>class MyStringWithIndex : public std::string {\n public:\n  int index = 0;\n};\n// main\u200b\u51fd\u6570\u200b\u5185\u200b\nMyStringWithIndex s{{\"hello world!\"}, 1};\n// MyStringWithIndex s{\"hello world!\", 1}; \u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b{}\nstd::cout &lt;&lt; s.index &lt;&lt; std::endl;\n</code></pre>"},{"location":"cpp/effective/item7/#stdarraystdarray\u662fcpp\u4e2d\u6570\u7ec4\u7684\u66f4\u4f18\u9009\u62e9","title":"std::array\uff08std::array\u200b\u662f\u200bcpp\u200b\u4e2d\u200b\u6570\u7ec4\u200b\u7684\u200b\u66f4\u4f18\u200b\u9009\u62e9\u200b\uff09","text":"<pre><code>template &lt;typename T, size_t N&gt;\nstruct MyArray{\n    T data[N];\n};\nint a1[3]{1, 2, 3};  // \u200b\u7b80\u5355\u200b\u7c7b\u578b\u200b\uff0c\u200b\u539f\u751f\u200b\u6570\u7ec4\u200b\nint a2[3] = {1, 2, 3};\nstd::array&lt;int, 3&gt; a3{1, 2, 3};      // \u200b\u7b80\u5355\u200b\u7c7b\u578b\u200b\uff0cstd::array\nstd::array&lt;int, 3&gt; a4 = {1, 2, 3};   // \u200b\u7b80\u5355\u200b\u7c7b\u578b\u200b\uff0cstd::array\nS a5[3] = {{1, 2}, {3, 4}, {5, 6}};  // \u200b\u590d\u5408\u200b\u7c7b\u578b\u200b\uff0c\u200b\u539f\u751f\u200b\u6570\u7ec4\u200b\nS a6[3] = {1, 2, 3, 4, 5, 6};        // \u200b\u5927\u62ec\u53f7\u200b\u7684\u200b\u7701\u7565\u200b\n// \u200b\u590d\u5408\u200b\u7c7b\u578b\u200b\uff0cstd::array\uff0c\u200b\u7f16\u8bd1\u200b\u5931\u8d25\u200b\uff01\n// std::array&lt;S, 3&gt; a7{{1, 2}, {3, 4}, {5, 6}}; // \u200b\u62a5\u9519\u200b\nstd::array&lt;S, 3&gt; a7{{{1, 2}, {3, 4}, {5, 6}}};\nstd::array&lt;S, 3&gt; a8{1, 2, 3, 4, 5, 6};  // \u200b\u4e0d\u200b\u63a8\u8350\u200b\n</code></pre> <p>\u200b\u521d\u59cb\u5316\u200b\u590d\u5408\u200b\u7c7b\u578b\u200b\u7684\u200b\u65f6\u5019\u200b\u9700\u8981\u200b\u5728\u200b\u5916\u9762\u200b\u518d\u200b\u52a0\u4e2a\u200b{}\uff0c\u200b\u539f\u56e0\u200b\u662f\u200b\uff1aarray\u200b\u91cc\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u539f\u751f\u200b\u6570\u7ec4\u200b\uff0c<code>T data[N] ={{1, 2}, {3, 4}, {5, 6}}</code> \u200b\u662f\u200b\u6570\u7ec4\u200b\u7684\u200b\u521d\u59cb\u5316\u200b\uff0c\u200b\u800c\u200b\u521d\u59cb\u5316\u200b\u8fd9\u4e2a\u200bdata\u200b\u8fd8\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b{}\uff0c\u200b\u5f88\u200b\u5408\u7406\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u53ea\u200b\u5199\u200b\u6700\u200b\u5916\u9762\u200b\u4e00\u4e2a\u200b{}\uff0c\u200b\u7f16\u8bd1\u5668\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u63a8\u5bfc\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u63a8\u8350\u200b\u8fd9\u4e48\u200b\u5199\u200b</p>"},{"location":"cpp/effective/item7/#\u5982\u4f55\u8ba9\u4e00\u4e2a\u5bb9\u5668\u652f\u6301\u5217\u8868\u521d\u59cb\u5316","title":"\u5982\u4f55\u200b\u8ba9\u200b\u4e00\u4e2a\u200b\u5bb9\u5668\u200b\u652f\u6301\u200b\u5217\u8868\u200b\u521d\u59cb\u5316","text":"<p><code>std::initializer_list&lt;T&gt;</code> \u300a\u200b\u73b0\u4ee3\u200bc++\u200b\u8bed\u8a00\u200b\u6838\u5fc3\u200b\u7279\u6027\u200b\u89e3\u6790\u200b\u300bP84 / \u300aC++ Primer\u300b P197</p> <p>\u200b\u6ce8\u610f\u200b\uff1a</p> <ul> <li>\u200b\u7981\u6b62\u200b\u9690\u5f0f\u200b\u7f29\u7a84\u200b\u8f6c\u6362\u200b\u300a\u200b\u73b0\u4ee3\u200bc++\u200b\u8bed\u8a00\u200b\u6838\u5fc3\u200b\u7279\u6027\u200b\u89e3\u6790\u200b\u300bP87</li> <li>\u200b\u5217\u8868\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u4f18\u5148\u7ea7\u200b\u95ee\u9898\u200b\uff08\u200b\u9664\u975e\u200b\u4e07\u4e0d\u5f97\u5df2\u200b\uff0c\u200b\u5426\u5219\u200b\u603b\u662f\u200b\u4f18\u5148\u200b\u5339\u914d\u200b <code>std::initializer_list&lt;T&gt;</code> \u200b\u751a\u81f3\u200b\u662f\u200b\u62a5\u9519\u200b\uff09\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6cd5\u200b\u9690\u5f0f\u200b\u7f29\u7a84\u200b\u8f6c\u6362\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u5339\u914d\u200bta</li> <li>\u200b\u7a7a\u200b\u7684\u200b{}\uff0c\u200b\u4e0d\u4f1a\u200b\u8c03\u7528\u200b <code>std::initializer_list&lt;T&gt;</code> \u200b\u6784\u9020\u200b\uff0c\u200b\u800c\u662f\u200b\u65e0\u53c2\u200b\u6784\u9020\u200b\u4f46\u662f\u200b{{}} ({}) \u200b\u4f1a\u200b\u8c03\u7528\u200b\uff0c\u200b\u7b2c\u4e00\u4e2a\u200bsize\u200b\u4e3a\u200b1\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200bsize\u200b\u4e3a\u200b0</li> </ul> <pre><code>struct A {\n  A(int a) { std::cout &lt;&lt; \"A(int a)\" &lt;&lt; std::endl; }\n  A(int a, float b) { std::cout &lt;&lt; \"A(int a,float b)\" &lt;&lt; std::endl; }\n  A(int a, std::string b) { std::cout &lt;&lt; \"A(int a,std::string b)\" &lt;&lt; std::endl; }\n  A(const A &amp;a) { std::cout &lt;&lt; \"A(const A&amp; a)\" &lt;&lt; std::endl; }\n  A(std::initializer_list&lt;int&gt; a) {\n    std::cout &lt;&lt; \"C(std::initializer_list&lt;int&gt; a)\" &lt;&lt; std::endl;\n    for (const int *item = a.begin(); item != a.end(); ++item) {\n    }\n  }\n};\n// main\u200b\u51fd\u6570\u200b\u5185\u200b\n// \u200b\u62a5\u9519\u200b \u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u8c03\u7528\u200bA(int ,float) \u200b\u800c\u662f\u200b\u8c03\u7528\u200b A(std::initializer_list&lt;int&gt; a)\n// A aaaa{1, 1.2};\nA{1,\"ssss\"}; // \u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u4f1a\u200b\u8c03\u7528\u200bA(int,std::string),\u200b\u56e0\u4e3a\u200b\"ssss\"\u200b\u65e0\u6cd5\u200b\u9690\u5f0f\u200b\u8f6c\u6362\u200b\nA aaaaaaa{{}};\nA bbbbbbb({});\n</code></pre>"},{"location":"cpp/effective/item9/","title":"item9\uff1a\u200b\u4f18\u5148\u200b\u8003\u8651\u200b\u522b\u540d\u200b\u58f0\u660e\u200b\u800c\u200b\u975e\u200btypedef","text":"<p> \u200b\u7ea6\u200b 417 \u200b\u4e2a\u200b\u5b57\u200b  59 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 2 \u200b\u5206\u949f\u200b</p> item9 <ul> <li><code>typedef</code>\u200b\u4e0d\u200b\u652f\u6301\u200b\u6a21\u677f\u200b\u5316\u200b\uff0c\u200b\u4f46\u662f\u200b\u522b\u540d\u200b\u58f0\u660e\u200b\u652f\u6301\u200b\u3002</li> <li>\u200b\u522b\u540d\u200b\u6a21\u677f\u200b\u907f\u514d\u200b\u4e86\u200b\u4f7f\u7528\u200b\u201c<code>::type</code>\u201d\u200b\u540e\u7f00\u200b\uff0c\u200b\u800c\u4e14\u200b\u5728\u200b\u6a21\u677f\u200b\u4e2d\u200b\u4f7f\u7528\u200b<code>typedef</code>\u200b\u8fd8\u200b\u9700\u8981\u200b\u5728\u200b\u524d\u9762\u200b\u52a0\u4e0a\u200b<code>typename</code></li> <li>C++14\u200b\u63d0\u4f9b\u200b\u4e86\u200bC++11\u200b\u6240\u6709\u200b*type traits*\u200b\u8f6c\u6362\u200b\u7684\u200b\u522b\u540d\u200b\u58f0\u660e\u200b\u7248\u672c\u200b</li> </ul>"},{"location":"cpp/effective/item9/#typename-\u5173\u952e\u5b57","title":"typename \u200b\u5173\u952e\u5b57","text":"<p>\u200b\u7528\u6765\u200b\u6f84\u6e05\u200b\u6a21\u677f\u200b\u5185\u90e8\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6807\u8bc6\u7b26\u200b\uff0c\u200b\u4ee3\u8868\u200b\u7684\u200b\u662f\u200b\u67d0\u79cd\u200b\u7c7b\u578b\u200b</p> <p>Reference</p> <p>\u300aC++\u200b\u6a21\u677f\u200b\uff08\u200b\u7b2c\u4e8c\u200b\u7248\u200b\uff09\u300bP62 \u300aC++ Primer\u300bP593</p> <p>\u200b\u5f53\u200b\u7f16\u8bd1\u5668\u200b\u9047\u5230\u200b\u7c7b\u4f3c\u200b<code>T::xxx</code>\u200b\u8fd9\u6837\u200b\u7684\u200b\u4ee3\u7801\u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u4e0d\u200b\u77e5\u9053\u200b<code>xxx</code>\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7c7b\u578b\u200b\u6210\u5458\u200b\u8fd8\u662f\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6210\u5458\u200b\uff0c\u200b\u76f4\u5230\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u65f6\u200b\u81ea\u5df1\u200b\u624d\u200b\u77e5\u9053\u200b\u3002 \u200b\u4f46\u662f\u200b\u4e3a\u4e86\u200b\u5904\u7406\u200b\u6a21\u677f\u200b\uff0c\u200b\u7f16\u8bd1\u5668\u200b\u5fc5\u987b\u200b\u77e5\u9053\u200b\u540d\u5b57\u200b\u662f\u5426\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u7c7b\u578b\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200bC++\u200b\u4f1a\u200b\u5047\u5b9a\u200b\u901a\u8fc7\u200b\u4f5c\u7528\u57df\u200b\u8fd0\u7b97\u7b26\u200b\u8bbf\u95ee\u200b\u7684\u200b\u540d\u5b57\u200b\u4e0d\u662f\u200b\u7c7b\u578b\u200b</p> <p><pre><code>struct test1 {\n  static int SubType;\n};\ntemplate &lt;typename T&gt;\nclass MyClass {\n public:\n  void foo1() {\n    int ptr = 10;\n    T::SubType *ptr;\n  }\n  void foo2() { typename T::SubType *ptr; }\n};\n\n// main\nMyClass&lt;test1&gt; class1;\nclass1.foo1();\n// class1.foo2(); // \u200b\u8fd0\u884c\u200b\u9519\u8bef\u200b\n</code></pre> \u200b\u5bf9\u4e8e\u200bfoo1\u200b\u51fd\u6570\u200b\u4e2d\u200b\u7684\u200b <code>T::SubType *ptr;</code> *\u200b\u4f1a\u200b\u89e3\u91ca\u200b\u6210\u4e58\u200b\u8fd0\u7b97\u7b26\u200b\uff0cT::SubType \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u6210\u5458\u200b</p> <p><pre><code>struct test2 {\n  typedef int SubType;\n};\ntemplate &lt;typename T&gt;\nclass MyClass {\n public:\n  void foo2() { typename T::SubType *ptr; }\n};\n\nMyClass&lt;test2&gt; class2;\nclass2.foo2();\n</code></pre> \u200b\u5bf9\u4e8e\u200b\u8fd9\u91cc\u200b\u7684\u200bfoo2\u200b\u51fd\u6570\u200b\uff0c\u200b\u7531\u4e8e\u200b typename \u200b\u4f1a\u200b\u5c06\u200b T::SubType \u200b\u89e3\u91ca\u200b\u6210\u200b\u4e00\u4e2a\u200b\u7c7b\u578b\u200b\uff0c\u200b\u5373\u200b int</p> <p>Note</p> <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b typename \u200b\u7684\u8bdd\u200b\uff0cSubType \u200b\u4f1a\u200b\u88ab\u200b\u5047\u8bbe\u200b\u6210\u200b\u4e00\u4e2a\u200b\u975e\u200b\u7c7b\u578b\u200b\u6210\u5458\u200b\uff08\u200b\u6bd4\u5982\u200b static \u200b\u6216\u8005\u200b\u4e00\u4e2a\u200b\u679a\u4e3e\u200b\u5e38\u91cf\u200b\uff0c\u200b\u4ea6\u200b\u6216\u662f\u200b\u5185\u90e8\u200b\u5d4c\u5957\u200b\u7c7b\u200b\u6216\u200b using \u200b\u58f0\u660e\u200b\u7684\u200b public \u200b\u522b\u540d\u200b</p>"},{"location":"cpp/effective/item9/#\u5bf9\u4e8e\u6a21\u677f\u6765\u8bf4using\u6bd4typedef\u66f4\u597d\u7528","title":"\u5bf9\u4e8e\u200b\u6a21\u677f\u200b\u6765\u8bf4\u200b\uff0cusing\u200b\u6bd4\u200btypedef\u200b\u66f4\u597d\u200b\u7528","text":"<p><pre><code>// using\ntemplate &lt;class T&gt;\nusing myVector = std::vector&lt;T&gt;;\n\ntemplate &lt;typename T&gt;\nclass Widget {\n public:\n  myVector&lt;T&gt; list;\n};\n// typedef\ntemplate &lt;typename T&gt;\nstruct myVector2 {\n  typedef std::vector&lt;T&gt; type;\n};\n\ntemplate &lt;typename T&gt;\nclass Widget2 {\n public:\n  typename myVector2&lt;T&gt;::type list;\n};\n\ntemplate &lt;&gt;\nclass myVector2&lt;float&gt; {\n  enum class WineType { White, Red, Rose };\n  WineType type;\n};\n// main\nmyVector&lt;int&gt; myvec = {1, 2, 3};\nmyVector2&lt;int&gt;::type myvec2 = {4, 5,6};  // \u200b\u6b64\u5904\u200b\u4e0d\u7528\u200b\u52a0\u200btypename\u200b\u662f\u56e0\u4e3a\u200bT\u200b\u5df2\u7ecf\u200b\u786e\u5b9a\u200b\n</code></pre> \u200b\u663e\u7136\u200b\u4f7f\u7528\u200busing\u200b\u6bd4\u200b\u4f7f\u7528\u200btypedef\u200b\u65b9\u4fbf\u200b\uff0c\u200b\u4f7f\u7528\u200busing\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200bmyvector\uff0c\u200b\u800c\u200b\u4f7f\u7528\u200btypedef\u200b\u5219\u200b\u5728\u200b\u4f7f\u7528\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u9700\u8981\u200b\u5e26\u4e0a\u200b::type\uff1b\u200b\u5982\u200b\u4e0a\u200bfloat\u200b\u7279\u5316\u200b\u6240\u793a\u200b\uff0ctype\u200b\u5728\u200b\u67d0\u4e2a\u200b\u7279\u5316\u200b\u4e0a\u200b\u53ef\u80fd\u200b\u4e0d\u662f\u200b\u522b\u540d\u200b\uff0c\u200b\u6545\u200b\u4f7f\u7528\u200b::\u200b\u65f6\u200b\u9700\u8981\u200b\u5728\u200b\u524d\u9762\u200b\u52a0\u4e0a\u200btypename\u200b\u5c06\u200b\u5176\u200b\u89e3\u91ca\u200b\u6210\u200b\u4e00\u4e2a\u200b\u7c7b\u578b\u200b\u6210\u5458\u200b</p>"},{"location":"cpp/effective/item9/#\u7c7b\u578b\u8403\u53d6\u5668","title":"\u7c7b\u578b\u200b\u8403\u53d6\u200b\u5668","text":"<p>\u200b\u7528\u4e8e\u200b\u6dfb\u52a0\u200b\u6216\u200b\u5220\u9664\u200b\u6a21\u677f\u200bT\u200b\u7684\u200b\u4fee\u9970\u200b</p> <p>\u200b\u5c06\u200bconst T -&gt; T </p> <p>std::remove_const_t::type (C++11) <p>std::remove_const_t (C++14) <pre><code>template&lt;typename _Tp&gt;\nusing remove_const_t = typename remove_const&lt;_Tp&gt;::type;\n</code></pre>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/C%2B%2B%E4%B8%AD%E7%9A%84%E5%A4%9A%E6%80%81%E4%B8%8ERTTI/","title":"C++\u200b\u4e2d\u200b\u7684\u200b\u591a\u6001\u200b\u4e0e\u200bRTTI","text":"<p> \u200b\u7ea6\u200b 0 \u200b\u4e2a\u200b\u5b57\u200b </p>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/C%2B%2B%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%B8%83%E5%B1%80/","title":"C++\u200b\u7c7b\u200b\u5bf9\u8c61\u200b\u5e03\u5c40","text":"<p> \u200b\u7ea6\u200b 0 \u200b\u4e2a\u200b\u5b57\u200b </p>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/","title":"\u503c\u200b\u7c7b\u578b\u200b\u4e0e\u200b\u53f3\u503c\u200b\u5f15\u7528","text":"<p> \u200b\u7ea6\u200b 603 \u200b\u4e2a\u200b\u5b57\u200b  56 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 3 \u200b\u5206\u949f\u200b</p>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/#\u4e0b\u9762\u51fd\u6570\u6267\u884c\u51e0\u6b21\u62f7\u8d1d","title":"\u4e0b\u9762\u200b\u51fd\u6570\u200b\u6267\u884c\u200b\u51e0\u6b21\u200b\u62f7\u8d1d\u200b\uff1f","text":"<pre><code>int get_x() {\n  int a = 10;\n  return a;\n}\nint x = get_x();\n</code></pre> <p>\u200b\u6267\u884c\u200b\u4e86\u200b\u4e24\u6b21\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u5373\u200b <code>int tmp = a; int x = temp;</code>\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5982\u679c\u200b\u5bf9\u4e8e\u200b\u7c7b\u4f3c\u200b\u5927\u200b\u5185\u5b58\u200b\u6c60\u200b\u8fdb\u884c\u200b\u62f7\u8d1d\u200b\u6784\u9020\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u4e24\u6b21\u200bcopy\uff0c\u200b\u5c31\u200b\u5341\u5206\u200b\u4f4e\u6548\u200b</p>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/#c98\u7684\u8868\u8fbe\u5f0f\u7c7b\u578b","title":"C++98\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u7c7b\u578b","text":"<ul> <li>\u200b\u5de6\u503c\u200b\uff1a\u200b\u6307\u5411\u200b\u7279\u5b9a\u200b\u5185\u5b58\u200b\u7684\u200b\u5177\u540d\u200b\u5bf9\u8c61\u200b</li> <li>\u200b\u53f3\u503c\u200b\uff1a\u200b\u4e34\u65f6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5b57\u7b26\u4e32\u200b\u9664\u5916\u200b\u7684\u200b\u5b57\u9762\u200b\u91cf\u200b</li> </ul> <p>\u200b\u5224\u65ad\u200b\u4e00\u4e2a\u200b\u8868\u8fbe\u5f0f\u200b\u662f\u200b\u5de6\u503c\u200b\u8fd8\u662f\u200b\u53f3\u503c\u200b\uff1a\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u53d6\u200b\u5730\u5740\u200b</p> <pre><code>  // &amp;get_x(); // get_x()\u200b\u8fd4\u56de\u503c\u200b\u662f\u200b\u4e34\u65f6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u662f\u200b\u53f3\u503c\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u53d6\u200b\u5730\u5740\u200b\n  int y = 10;\n  // int *p1 = &amp;y++; // y++ \u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b\u4e34\u65f6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u662f\u200b\u53f3\u503c\u200b\uff0c\u200b\u9519\u8bef\u200b\n  int *p2 = &amp;++y;\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b <code>int *p = &amp;x++;</code>\uff0c\u200b\u5bf9\u4e8e\u200b x++ \u200b\u53ef\u4ee5\u200b\u770b\u4e3a\u200b\u4e0b\u9762\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u5f15\u7528\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u4e34\u65f6\u200b\u503c\u200bb\uff1b\u200b\u56e0\u6b64\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5176\u53d6\u200b\u5730\u5740\u200b\uff0c\u200b\u4ee3\u7801\u200b\u662f\u200b\u9519\u200b\u7684\u200b</p> <pre><code>int fun(int &amp;a) {\n  int b = a;\n  a = a + 1;\n  return b;\n}\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b <code>int *p = &amp;++x;</code>\uff0c\u200b\u5bf9\u4e8e\u200b ++x \u200b\u53ef\u4ee5\u200b\u770b\u4e3a\u200b\u4e0b\u9762\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u5f15\u7528\u200b\uff0c\u200b\u8fd4\u56de\u200b\u8be5\u200b\u5f15\u7528\u200b\uff1b\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u5176\u53d6\u200b\u5730\u5740\u200b\uff0c\u200b\u662f\u200b\u6b63\u786e\u200b\u7684\u200b</p> <pre><code>int &amp;func(int &amp;a) {\n  a = a + 1;\n  return a;\n}\n</code></pre>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/#c11\u7684\u8868\u8fbe\u5f0f\u7c7b\u578b","title":"C++11\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u7c7b\u578b","text":"<p>expression\uff08\u200b\u8868\u8fbe\u5f0f\u200b\uff09\uff1a</p> <ul> <li>glvalue\uff08\u200b\u6cdb\u200b\u5de6\u503c\u200b\uff09<ul> <li>lvalue\uff08\u200b\u5de6\u503c\u200b\uff09</li> <li>xvalue\uff08\u200b\u5c06\u4ea1\u503c\u200b\uff09</li> </ul> </li> <li>rvalue\uff08\u200b\u53f3\u503c\u200b\uff09<ul> <li>xvalue\uff08\u200b\u5c06\u4ea1\u503c\u200b\uff09</li> <li>prvalue\uff08\u200b\u53f3\u503c\u200b\uff09</li> </ul> </li> </ul>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/#\u8d4b\u503c\u64cd\u4f5c\u53ea\u6709\u62f7\u8d1d\u8fd9\u79cd\u552f\u4e00\u89e3\u6cd5\u5417","title":"\u8d4b\u503c\u200b\u64cd\u4f5c\u200b\u53ea\u6709\u200b\u62f7\u8d1d\u200b\u8fd9\u79cd\u200b\u552f\u4e00\u200b\u89e3\u6cd5\u200b\u5417\u200b\uff1f","text":"<ul> <li>\u200b\u62f7\u8d1d\u200b\u64cd\u4f5c\u200b</li> <li>\u200b\u5f15\u7528\u200b\u64cd\u4f5c\u200b</li> <li>\u200b\u79fb\u52a8\u200b\u64cd\u4f5c\u200b</li> </ul>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/#\u53f3\u503c\u5f15\u7528\u4e0e\u79fb\u52a8\u8bed\u4e49","title":"\u53f3\u503c\u200b\u5f15\u7528\u200b\u4e0e\u200b\u79fb\u52a8\u200b\u8bed\u4e49","text":"<p>\u200b\u5de6\u503c\u200b\u5f15\u7528\u200b\u4e0d\u200b\u63a5\u53d7\u200b\u53f3\u503c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u51fa\u73b0\u200b\u53ea\u200b\u63a5\u53d7\u200b\u53f3\u503c\u200b\u7684\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b Type &amp;&amp;</p> <p>\u200b\u79fb\u52a8\u200b\u8bed\u4e49\u200b\uff1astd::move\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5de6\u503c\u200b\u8f6c\u4e3a\u200b\u53f3\u503c\u200b\uff0c\u200b\u5de6\u503c\u200b\u7684\u200b\u751f\u547d\u5468\u671f\u200b\u7ed3\u675f\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u53f3\u503c\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u5c06\u4ea1\u503c\u200b</p> <p>\u200b\u6ce8\u610f\u200b\uff1a</p> <ul> <li>\u200b\u7eaf\u53f3\u503c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b std::move</li> <li>\u200b\u7c7b\u4e2d\u200b\u672a\u200b\u5b9e\u73b0\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\uff0cstd::move\u200b\u4e4b\u540e\u200b\u4ecd\u200b\u662f\u200b**\u200b\u62f7\u8d1d\u200b** \uff08\u200b\u79fb\u52a8\u200b\u8bed\u4e49\u200b\u6ca1\u200b\u79fb\u52a8\u200b\uff09\uff0cstd::move\u200b\u8fd8\u662f\u200b\u53bb\u200b\u6211\u4eec\u200b\u5b9e\u73b0\u200b\u7684\u200b\u7c7b\u200b\u4e2d\u200b\u5bfb\u627e\u200b\u51fd\u6570\u200b\uff0c\u200b\u5f53\u200b\u53d1\u73b0\u200b\u6ca1\u6709\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\u65f6\u200b\uff0c\u200b\u7531\u4e8e\u200b\u62f7\u8d1d\u200b\u6784\u9020\u200b\u7684\u200bconst &amp;\u200b\u53ef\u4ee5\u200b\u63a5\u53d7\u200b\u4efb\u4f55\u200b\u503c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8fdb\u884c\u200b\u4e86\u200b\u62f7\u8d1d\u200b\u6784\u9020\u200b</li> <li>\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u4ecd\u200b\u662f\u200b\u5de6\u503c\u200b</li> <li>\u200b\u53f3\u503c\u200b\u7ed1\u5b9a\u200b\u5230\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u4e0a\u200b\u8fde\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u200b</li> </ul>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/#\u5982\u4f55\u5f97\u5230\u5c06\u4ea1\u503c","title":"\u5982\u4f55\u200b\u5f97\u5230\u200b\u5c06\u4ea1\u503c","text":"<ul> <li>\u200b\u5c06\u6cdb\u200b\u5de6\u503c\u200b\u8f6c\u5316\u200b\u4e3a\u200b\u5c06\u200b\u4ea1\u503c\u200b\uff1a<ul> <li>static_cast(xxx) <li>std::move(xxx) \u200b\u79fb\u52a8\u200b\u8bed\u4e49\u200b\u6ca1\u200b\u79fb\u52a8\u200b</li> <li>\u200b\u4e34\u65f6\u200b\u91cf\u200b\u5b9e\u8d28\u200b\u5316\u200b\uff08c++17\u200b\u5f15\u5165\u200b\uff09</li> <pre><code>  // \u200b\u62f7\u8d1d\u200b\u64cd\u4f5c\u200b\uff0cgetPool()\u200b\u8fdb\u884c\u200b\u4e24\u6b21\u200bcopy\uff0c\n  // \u200b\u6ce8\u610f\u200b\uff1a\u200b\u9700\u8981\u200b\u5728\u200b\u6ca1\u6709\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\u7684\u200b\u524d\u63d0\u200b\u4e0b\u200b\uff0c\u200b\u6709\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\u65f6\u4f1a\u200b\u8fdb\u884c\u200b\u4e24\u6b21\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\n  BigMemoryPool aaa = getPool();\n  BigMemoryPool bbb = aaa;   //\u200b\u62f7\u8d1d\u200b\u64cd\u4f5c\u200b\n  BigMemoryPool &amp;ccc = aaa;  // \u200b\u5f15\u7528\u200b\u64cd\u4f5c\u200b\n  // \u200b\u53f3\u503c\u200b\u7ed1\u5b9a\u200b\u5230\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u4e0a\u200b\u8fde\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u200b\uff0ceee\u200b\u53ea\u662f\u200baaa\u200b\u7684\u200b\u4e00\u4e2a\u200b\u522b\u540d\u200b\uff0c\u200b\u64cd\u4f5c\u200baaa\uff0ceee\uff0cccc\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\n  BigMemoryPool &amp;&amp;eee = std::move(aaa);\n  BigMemoryPool ddd = std::move(aaa);  // \u200b\u79fb\u52a8\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6b64\u65f6\u200baaa\u200b\u5df2\u7ecf\u200b\u9500\u6bc1\u200b\u4e86\u200b\n\n  int x = get_x();\n  // int &amp;z = 10;  // &amp;z\u200b\u662f\u200b\u5de6\u503c\u200b\u5f15\u7528\u200b,\u200b\u5b57\u9762\u200b\u91cf\u200b10\u200b\u662f\u200b\u53f3\u503c\u200b\uff0c\u200b\u5de6\u503c\u200b\u5f15\u7528\u200b\u4e0d\u200b\u63a5\u53d7\u200b\u53f3\u503c\u200b\n  // int &amp;z = get_x();  // get_x()\u200b\u8fd4\u56de\u200b\u4e34\u65f6\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u9519\u8bef\u200b\u540c\u200b\u4e0a\u200b\n  int &amp;&amp;zz = 10;  // &amp;&amp;z\u200b\u662f\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\uff0c\u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u63a5\u53d7\u200b\u53f3\u503c\u200b\n  // int &amp;&amp;z = x; // \u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u53ea\u80fd\u200b\u7ed1\u5b9a\u200b\u53f3\u503c\u200b\uff0c\u200b\u9519\u8bef\u200b\n  int &amp;&amp;z = std::move(x);\n  &amp;z;  // \u200b\u53f3\u503c\u200b\u5f15\u7528\u200b\u4ecd\u200b\u662f\u200b\u5de6\u503c\u200b\n  const int k = 10;\n  const int &amp;&amp;kk = std::move(k);  // const &amp;&amp;\n</code></pre> <pre><code>BigMemoryPool get_pool(const BigMemoryPool &amp;pool) { return pool; }\n\nBigMemoryPool make_pool() {\n  BigMemoryPool pool;\n  return get_pool(pool);\n}\nBigMemoryPool kkk= make_pool();\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b\u4e0a\u9762\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u6267\u884c\u200b\u4ee3\u7801\u200b\u65f6\u200b\uff1a</p> <p>\u200b\u5982\u679c\u200b\u7c7b\u4e2d\u200b\u6709\u200b\u62f7\u8d1d\u200b\u6784\u9020\u200b\u548c\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u4f1a\u200b\u6267\u884c\u200b\u4e00\u6b21\u200b\u62f7\u8d1d\u200b\u4e24\u6b21\u200b\u79fb\u52a8\u200b\uff0c\u200b\u539f\u56e0\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>BigMemoryPool get_pool(const BigMemoryPool &amp;pool) {\n  return pool;  // \u200b\u8fd9\u91cc\u200b\u7684\u200bpool\u200b\u662f\u200b\u4e2a\u200b\u5de6\u503c\u200b\n}\n// BigMemoryPool temp = pool;\n// \u200b\u9000\u51fa\u200b\u4e0a\u9762\u200b\u8fd9\u4e2a\u200b\u51fd\u6570\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u8fd9\u4e2a\u200b\u4e34\u65f6\u200b\u53d8\u91cf\u200b\uff0c\u200b\u56e0\u4e3a\u200bpool\u200b\u662f\u200b\u5de6\u503c\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u53d1\u751f\u200b\u7b2c\u4e00\u4e2a\u200b\u62f7\u8d1d\u200b\nBigMemoryPool make_pool() {\n  BigMemoryPool pool;  // \u200b\u8c03\u7528\u200b\u65e0\u53c2\u200b\u6784\u9020\u51fd\u6570\u200b\u4ec0\u4e48\u200b\u90fd\u200b\u4e0d\u200b\u53d1\u751f\u200b\n  return get_pool(pool);\n}\n// BigMemoryPool temp2 = temp; // \u200b\u7531\u4e8e\u200b\u8fd9\u91cc\u200btemp\u200b\u662f\u200b\u4e34\u65f6\u200b\u53d8\u91cf\u200b\uff0c\u200b\u6240\u4ee5\u200b\u53d1\u751f\u200b\u79fb\u52a8\u200b\n// \u200b\u4e0b\u9762\u200b\u662f\u200bmain\u200b\u51fd\u6570\u200b\u5185\u200b\nBigMemoryPool kkk = make_pool();\n// BigMemoryPool kkk = temp2; \u200b\u8fd9\u91cc\u200b\u53d1\u751f\u200b\u7b2c\u4e8c\u6b21\u200b\u79fb\u52a8\u200b\uff0c\u200b\u5c06\u200btemp2\u200b\u8d4b\u7ed9\u200bkkk\n</code></pre> <p>\u200b\u5982\u679c\u200b\u7c7b\u4e2d\u200b\u6ca1\u6709\u200b\u5b9e\u73b0\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u6267\u884c\u200b\u4e09\u6b21\u200b\u62f7\u8d1d\u200b</p> <p>\u200b\u6ce8\u200b\uff1a\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u8fd0\u884c\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u5728\u200bCMakeLists.txt\u200b\u4e2d\u200b\u52a0\u5165\u200b <code>set(CMAKE_CXX_FLAGS -fno-elide-constructors) #\u200b\u7981\u6b62\u200b\u8fd4\u56de\u503c\u200b\u4f18\u5316\u200b</code> \uff0c\u200b\u5426\u5219\u200b\uff0c\u200b\u6267\u884c\u200b\u4ee3\u7801\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u7ba1\u200b\u5199\u200b\u4e0d\u200b\u5199\u200b\u79fb\u52a8\u200b\u6784\u9020\u200b\uff0c\u200b\u90fd\u200b\u53ea\u4f1a\u200b\u53d1\u751f\u200b\u4e00\u6b21\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u7f16\u8bd1\u5668\u200b\u4f1a\u5e2e\u200b\u6211\u4eec\u200b\u505a\u200b\u8fd4\u56de\u503c\u200b\u4f18\u5316\u200b</p>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E4%B8%8E%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/","title":"\u6570\u7ec4\u200b\u6307\u9488\u200b\u4e0e\u200b\u51fd\u6570\u6307\u9488","text":"<p> \u200b\u7ea6\u200b 254 \u200b\u4e2a\u200b\u5b57\u200b  42 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E4%B8%8E%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/#\u6570\u7ec4\u76f8\u5173\u7684\u6570\u636e\u7c7b\u578b\u592a\u590d\u6742\u4e86c\u4e0d\u5efa\u8bae\u4f7f\u7528","title":"\u6570\u7ec4\u200b\u76f8\u5173\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff08\u200b\u592a\u200b\u590d\u6742\u200b\u4e86\u200b\uff0cc++\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b[]\uff09","text":"<p><code>int array[5] ={0,1,2,3,4};</code> array\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u662f\u200bint [5]\uff0c\u200b\u4e0d\u662f\u200bint *</p> <pre><code>int a = 10;\nint array[5] = {0, 1, 2, 3, 4};\nint *ptr = array;  // \u200b\u5c06\u200b\u6570\u7ec4\u540d\u200b\u76f4\u63a5\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u4e00\u4e2a\u200b\u6307\u9488\u200b\u4f1a\u200b\u53d1\u751f\u200b\u3010\u200b\u9000\u5316\u200b\u3011\n// int(*ptr2)[5] = array;\nint *ptr3[5] = {&amp;a, &amp;a, &amp;a, &amp;a, &amp;a}; // \u200b\u6570\u7ec4\u200b\u6307\u9488\u200b\uff08\u200b\u662f\u200b\u6307\u9488\u200b\uff09\n// int (*) [5]  \u200b\u6307\u9488\u200b\u6570\u7ec4\u200b\uff08\u200b\u662f\u200b\u6570\u7ec4\u200b\uff09 \u200b\u5bf9\u200b\u6570\u7ec4\u540d\u200b\u53d6\u200b\u5730\u5740\u200b\u90a3\u4e48\u200b\u5c31\u200b\u6ca1\u6709\u200b\u9000\u5316\u200b\u8fd9\u4e00\u8bf4\u200b\nint(*ptr4)[5] = &amp;array;\nint(&amp;ref)[5] = array;  // int (&amp;) [5] \u200b\u6570\u7ec4\u200b\u5f15\u7528\u200b\n</code></pre> <p>\u200b\u6570\u7ec4\u540d\u200b\u53d6\u200b\u5730\u5740\u200b\u7684\u200b\u7c7b\u578b\u200b\uff08int \u200b\u6570\u7ec4\u200b\u6307\u9488\u200b\uff09\u200b\u4e0d\u200b\u7b49\u4e8e\u200b \u200b\u6570\u7ec4\u540d\u200b\u7684\u200b\u7c7b\u578b\u200b\uff08int \u200b\u6307\u9488\u200b\uff09</p> <p>ptr4\u200b\u548c\u200bref\u200b\u8981\u52a0\u200b\u62ec\u53f7\u200b\u7684\u200b\u539f\u56e0\u200b\u662f\u200b[]\u200b\u7684\u200b\u4f18\u5148\u7ea7\u200b\u9ad8\u4e8e\u200b*\uff0c\u200b\u4e0d\u200b\u52a0\u200b\u62ec\u53f7\u200b\u5c31\u662f\u200bptr3\u200b\u90a3\u200b\u884c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u610f\u601d\u200b\u662f\u200bptr3\u200b\u662f\u200b\u4e2a\u200b\u6570\u7ec4\u200b\uff0c\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\u7684\u200b\u7c7b\u578b\u200b\u662f\u200bint *\uff0c\u200b\u8be6\u89c1\u200b\u300aC++ Primer\u300bP147</p> <p><code>\"hello world\";</code> \u200b\u5b57\u7b26\u4e32\u200b\u5b57\u9762\u200b\u91cf\u200b\u662f\u200b\u5de6\u503c\u200b\uff0c\u200b\u539f\u56e0\u200b\u662f\u200b\u7f16\u8bd1\u5668\u200b\u5728\u200b\u7b2c\u4e00\u6b21\u200b\u521b\u5efa\u200b\u8fd9\u4e2a\u200b\u5b57\u9762\u200b\u91cf\u200b\u65f6\u4f1a\u200b\u628a\u200b\u5b83\u200b\u5b58\u653e\u200b\u5728\u200b\u4e00\u4e2a\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u8fd9\u6837\u200b\u4e4b\u540e\u200b\u7684\u200b\u6bcf\u6b21\u200b\u62f7\u8d1d\u200b\u5c31\u200b\u4e0d\u200b\u9700\u8981\u200b\u4e00\u4e2a\u4e2a\u200b\u5b57\u7b26\u200b\u91cd\u590d\u200b\u521b\u5efa\u200b\u4e34\u65f6\u200b\u5bf9\u8c61\u200b\u4e86\u200b\uff0c\u200b\u4e0d\u7136\u200b\u5b57\u7b26\u4e32\u200b\u5f88\u957f\u200b\u7684\u8bdd\u200b\u5c31\u200b\u663e\u5f97\u200b\u5f88\u8822\u200b\uff01</p> <pre><code>  // &amp;\"hello world\";  // \"hello world\"\u200b\u7c7b\u578b\u200b\u662f\u200bconst char[12]\n  char str[12] = \"hello world\";\n  const char *strr = \"hello world\";  // \u200b\u53d6\u200b\u5730\u5740\u200b\u540e\u200b\u53d8\u6210\u200b\u5e95\u5c42\u200bconst\u200b\u56e0\u6b64\u200b\u524d\u9762\u200b\u9700\u8981\u200b\u52a0\u200bconst\n  // \u200b\u4f46\u662f\u200b\u4e0d\u200b\u52a0\u200bconst\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b\uff0c\u200b\u4f46\u662f\u200b\u6211\u4eec\u200b\u4f9d\u65e7\u200b\u4e0d\u80fd\u200b\u4fee\u6539\u200bstrrrr\u200b\u7684\u200b\u503c\u200b\n  // char *strrr = \"hello world\";\n  // strrr[1] = 's'; // \u200b\u8fd0\u884c\u200b\u65f6\u4f1a\u200b\u51fa\u73b0\u200b\u6bb5\u200b\u9519\u8bef\u200b\n</code></pre>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E4%B8%8E%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/#\u6570\u7ec4\u540d\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u65f6\u4f1a\u53d1\u751f\u9000\u5316","title":"\u6570\u7ec4\u540d\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u4f20\u9012\u200b\u65f6\u4f1a\u200b\u53d1\u751f\u200b\u9000\u5316","text":"<p>\u200b\u4e0b\u200b\u9762\u524d\u200b\u4e09\u4e2a\u200b\u51fd\u6570\u200b\u662f\u200b\u7b49\u4ef7\u200b\u7684\u200b\uff0c\u200b\u4f20\u5165\u200b\u7684\u200b\u53c2\u6570\u200b\u90fd\u200b\u662f\u200b int *\uff0c\u200b\u4e0e\u200b\u7b2c\u56db\u4e2a\u200b\u51fd\u6570\u200b\u4e0d\u7b49\u4ef7\u200b\uff0c\u200b\u53c2\u6570\u200b\u7c7b\u578b\u200b\u662f\u200b <code>int (*)[5]</code></p> <pre><code>void func1(int a[]);\nvoid func2(int *a);\nvoid func3(int a[5]);\nvoid func4(int (*a)[5]);\n</code></pre>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E4%B8%8E%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/#\u51fd\u6570\u76f8\u5173\u7684\u6570\u636e\u7c7b\u578b","title":"\u51fd\u6570\u200b\u76f8\u5173\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b","text":"<pre><code>bool fun(int a, int b) {\n  std::cout &lt;&lt; \"fun\" &lt;&lt; std::endl;\n  return true;\n};                             // =&gt; bool (int,int); \u200b\u51fd\u6570\u200b\u6570\u636e\u7c7b\u578b\u200b\nbool (*funptr)(int a, int b);  // =&gt; bool (*)(int,int); \u200b\u51fd\u6570\u6307\u9488\u200b\u6570\u636e\u7c7b\u578b\u200b\n// \u200b\u51fd\u6570\u6307\u9488\u200b\u8d4b\u503c\u200b bool (*)(int,int); &amp;\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\nbool (*funptr1)(int, int) = &amp;fun;  // = fun \u200b\u51fd\u6570\u200b\u9000\u5316\u200b\u6210\u200b\u51fd\u6570\u6307\u9488\u200b\n// \u200b\u51fd\u6570\u6307\u9488\u200b\u4f7f\u7528\u200b *\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\nbool c = (*funptr1)(1, 2);  // \u200b\u8f93\u51fa\u200bfun\n// \u200b\u51fd\u6570\u6307\u9488\u200b\u4f5c\u4e3a\u200b\u5f62\u53c2\u200b *\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\nvoid fun2(int c, bool (*funptr)(int, int));\n// \u200b\u51fd\u6570\u6307\u9488\u200b\u4f5c\u4e3a\u200b\u8fd4\u56de\u503c\u200b *\u200b\u4e0d\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\nbool (*fun3(int c))(int, int);\n// \u200b\u51fd\u6570\u200b\u7684\u200b\u5f15\u7528\u200b\nbool (&amp;funref)(int, int) = fun;\n\n// main\u200b\u51fd\u6570\u200b\u5185\u200b\nbool (*funptr)(int, int) = fun;  // \u200b\u51fd\u6570\u200b\u9000\u5316\u200b\u6210\u200b\u51fd\u6570\u6307\u9488\u200b\n//funptr = fun;\n//funptr = &amp;fun;\nbool xx =funptr(1,2); // \u200b\u8f93\u51fa\u200bfun\nbool yy = (*funptr)(1, 2); //\u200b\u8f93\u51fa\u200bfun\nbool (&amp;funRef)(int, int) = fun;\nbool zz = funRef(1,2); //\u200b\u8f93\u51fa\u200bfun\n</code></pre>"},{"location":"cpp/%E9%9B%B6%E7%A2%8E%E6%9D%82%E8%AE%B0/%E9%A1%B6%E5%B1%82const%E4%B8%8E%E5%BA%95%E5%B1%82const/","title":"\u9876\u5c42\u200bconst\u200b\u4e0e\u200b\u5e95\u5c42\u200bconst","text":"<p> \u200b\u7ea6\u200b 216 \u200b\u4e2a\u200b\u5b57\u200b  14 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> <p>Reference</p> <p>\u300aC++ Primer\u300bP58\uff1a\u200b\u5f53\u200b\u6267\u884c\u200b\u5bf9\u8c61\u200b\u62f7\u8d1d\u200b\u64cd\u4f5c\u200b\u65f6\u200b\uff0c\u200b\u5e38\u91cf\u200b\u7684\u200b\u9876\u5c42\u200bconst\u200b\u4e0d\u200b\u53d7\u200b\u4ec0\u4e48\u200b\u5f71\u54cd\u200b\uff0c\u200b\u800c\u200b\u5e95\u5c42\u200bconst\u200b\u5fc5\u987b\u200b\u4e00\u81f4\u200b</p> <pre><code>  const int a = 10;\n  int b = a;  // \u200b\u62f7\u8d1d\u200ba\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u9876\u5c42\u200bconst\u200b\u52a0\u4e0d\u52a0\u200b\u4e0d\u53d7\u200b\u5f71\u54cd\u200b\n  const int *const p = new int(10);\n  // int *p1 = p;        // error \u200b\u5e95\u5c42\u200bconst\u200b\u5fc5\u987b\u200b\u4e00\u81f4\u200b\n  // int *const p2 = p;  // error \u200b\u9519\u8bef\u200b\u540c\u200b\u4e0a\u200b\n  const int *p3 = p;  // \u200b\u9876\u5c42\u200bconst\u200b\u53ef\u4ee5\u200b\u5ffd\u7565\u200b\uff0c\u200b\u4f46\u200b\u5e95\u5c42\u200b\u5fc5\u987b\u200b\u4e00\u81f4\u200b\u52a0\u4e0a\u200b\u4e86\u200b\u7b2c\u4e00\u4e2a\u200bconst\n  // int *p4 = &amp;a;  // error a\u200b\u867d\u7136\u200b\u662f\u200b\u9876\u5c42\u200bconst\uff0c&amp;a\u200b\u53d8\u6210\u200b\u4e86\u200b\u5e95\u5c42\u200bconst \u200b\u6ce8\u610f\u200b\uff01\uff01\uff01\n  const int *p4 = &amp;a;\n  const int &amp;r1 = a;  //\u200b\u5e38\u91cf\u200b\u5f15\u7528\u200b\u5982\u679c\u200b\u5728\u200b\u5de6\u4fa7\u200b\uff0c\u200b\u53f3\u4fa7\u200b\u53ef\u4ee5\u200b\u63a5\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\n  const int &amp;rr1 = b;  //\u200b\u5e38\u91cf\u200b\u5f15\u7528\u200b\u5982\u679c\u200b\u5728\u200b\u5de6\u4fa7\u200b\uff0c\u200b\u53f3\u4fa7\u200b\u53ef\u4ee5\u200b\u63a5\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\n  const int &amp;rr2 = 40;  //\u200b\u5e38\u91cf\u200b\u5f15\u7528\u200b\u5982\u679c\u200b\u5728\u200b\u5de6\u4fa7\u200b\uff0c\u200b\u53f3\u4fa7\u200b\u53ef\u4ee5\u200b\u63a5\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\n  // int &amp;r2 = a;          // error \u200b\u975e\u5e38\u200b\u91cf\u200b\u5f15\u7528\u200b = \u200b\u5e38\u91cf\u200b\n  // int &amp;r3 = r1;  // \u200b\u5f15\u7528\u200b\u5982\u679c\u200b\u5728\u200b\u7b49\u200b\u53f7\u200b\u53f3\u4fa7\u200b\uff0c\u200b\u8bf7\u200b\u5ffd\u7565\u200b&amp; \uff0c\u200b\u9519\u8bef\u200b\u540c\u200b\u4e0a\u200b\n  int c = a;  // \u200b\u7b49\u4e8e\u200bint c = a; \u200b\u975e\u5e38\u200b\u91cf\u200b = \u200b\u5e38\u91cf\u200b\u5f15\u7528\u200b\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b  <code>const int *const p = new int(10)</code>; \u200b\u7b2c\u4e00\u4e2a\u200bconst\u200b\u4e3a\u200b\u5e95\u5c42\u200bconst\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200bconst\u200b\u4e3a\u200b\u9876\u5c42\u200bconst</p> <p>(const) p ---&gt; 10(const) , \u200b\u82e5\u200bpa---&gt;10(const) \u200b\u663e\u7136\u200b\uff0c\u200b\u5982\u679c\u200b\u8bed\u53e5\u200b\u7f16\u8bd1\u200b\u901a\u8fc7\u200b\u90a3\u200b*pa=11\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b\uff0cpa\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4fee\u6539\u200b\u8fd9\u4e2a\u200b10\uff0c\u200b\u8fd9\u200b\u662f\u200b\u4e0d\u200b\u5bf9\u200b\u7684\u200b\uff0c<code>int *pa = p</code>\u200b\u662f\u200b\u9519\u8bef\u200b\u7684\u200b</p> <p>\u200b\u800c\u200b\u5bf9\u4e8e\u200b <code>int *const p = new int(10);</code>\u200b\u6765\u8bf4\u200b\uff0c(const) p ---&gt; 10,\u200b\u90a3\u4e48\u200bpa---&gt;10\u200b\u662f\u200b\u53ef\u4ee5\u200b\u7684\u200b\uff0c\u200b\u4e8e\u662f\u200b <code>int *pa = p</code>\u200b\u662f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u7684\u200b</p> <p>Note</p> <p>\u200b\u5173\u4e8e\u200b\u5f15\u7528\u200b&amp;\u200b\u603b\u7ed3\u200b\u5982\u4e0b\u200b\u51e0\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u5f15\u7528\u200b\u4e0d\u662f\u200b\u5bf9\u8c61\u200b\u4e14\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u4e0a\u9762\u200b\u7684\u200b\u539f\u5219\u200b</li> <li>\u200b\u5e38\u91cf\u200b\u5f15\u7528\u200b\u5982\u679c\u200b\u5728\u200b\u5de6\u4fa7\u200b\uff0c\u200b\u53f3\u4fa7\u200b\u53ef\u4ee5\u200b\u63a5\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b</li> <li>\u200b\u975e\u5e38\u200b\u91cf\u200b\u5f15\u7528\u200b = \u200b\u5e38\u91cf\u200b \uff08\u200b\u62a5\u9519\u200b\uff01\uff01\uff01\uff09</li> <li>\u200b\u5f15\u7528\u200b\u5982\u679c\u200b\u5728\u200b\u7b49\u200b\u53f7\u200b\u53f3\u4fa7\u200b\uff0c\u200b\u8bf7\u200b\u5ffd\u7565\u200b&amp;</li> <li>\u200b\u975e\u5e38\u200b\u91cf\u200b = \u200b\u5e38\u91cf\u200b\u5f15\u7528\u200b \uff08\u200b\u6b63\u786e\u200b\uff09</li> </ul>"},{"location":"db/","title":"Database \u200b\u5b66\u4e60","text":"<p> \u200b\u7ea6\u200b 52 \u200b\u4e2a\u200b\u5b57\u200b </p> CMU 15-445 <ul> <li>Lecture Notes (2019fall videos)<ul> <li>Database Storage I</li> <li>Database Storage II</li> <li>Buffer Pools</li> <li>Hash Tables</li> <li>Trees Indexes I</li> <li>Trees Indexes II</li> <li>Index Concurrency Control</li> <li>Sorting + Aggregations</li> <li>Joins Algorithms</li> <li>Query Execution I</li> <li>Query Execution II</li> <li>Query Planning &amp; Optimization I</li> <li>Query Planning &amp; Optimization II</li> <li>Concurrency Control Theory</li> <li></li> </ul> </li> <li>Projects (2023Spring)</li> </ul>"},{"location":"db/cmu15445/L10/","title":"Sorting + Aggregations","text":"<p> \u200b\u7ea6\u200b 2252 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 8 \u200b\u5206\u949f\u200b</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\u5c06\u200b\u5b66\u4e60\u200b\u4f7f\u7528\u200b\u6211\u4eec\u200b\u73b0\u5728\u200b\u5b66\u4e60\u200b\u7684\u200b DBMS \u200b\u7ec4\u4ef6\u200b\u6765\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u4eca\u5929\u200b\u8981\u200b\u8ba8\u8bba\u200b\u7684\u200b\u7b97\u6cd5\u200b\u90fd\u200b\u662f\u200b\u57fa\u4e8e\u200b Disk \u200b\u7684\u200b\uff0c\u200b\u5373\u200b\u67e5\u8be2\u200b\u7684\u200b\u4e2d\u95f4\u200b\u7ed3\u679c\u200b\u4e5f\u200b\u9700\u8981\u200b\u5b58\u50a8\u200b\u5230\u200b\u78c1\u76d8\u200b\u4e2d\u200b\u3002\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b Buffer Pool \u200b\u53bb\u200b\u5b9e\u73b0\u200b\u8fd9\u4e9b\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u8981\u200b\u6700\u5927\u5316\u200b\u78c1\u76d8\u200b\u8fde\u7eed\u200b I/O\u3002</p> <p></p> <p>Query Plan\uff1a\u200b\u7b97\u5b50\u200b\u7ec4\u7ec7\u200b\u6210\u200b\u6811\u5f62\u200b\u7ed3\u6784\u200b\uff0c\u200b\u6570\u636e\u200b\u4ece\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u6d41\u5411\u200b\u6839\u200b\u8282\u70b9\u200b\uff0c\u200b\u6839\u200b\u8282\u70b9\u200b\u7684\u200b\u8f93\u51fa\u200b\u5c31\u662f\u200b\u67e5\u8be2\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u4f1a\u200b\u5728\u200b\u4e0b\u200b\u8282\u8bfe\u200b\u8ba8\u8bba\u200b\u6570\u636e\u200b\u79fb\u52a8\u200b\u7684\u200b\u7c92\u5ea6\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L10/#sorting","title":"Sorting","text":"<p>\u200b\u5173\u7cfb\u200b\u6a21\u578b\u200b\u662f\u200b unsorted \u200b\u7684\u200b\uff0c\u200b\u5373\u200b tuple \u200b\u4e0d\u4f1a\u200b\u9884\u5148\u200b\u6392\u5e8f\u200b\u3002\u200b\u5728\u200b <code>ORDER BY</code>, <code>DISTINCT</code>, <code>GROUP BY</code>, <code>JOIN</code>\u200b\u7b97\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u90fd\u200b\u6709\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u6392\u5e8f\u200b\u7684\u200b\u6570\u636e\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u653e\u4e0b\u200b\uff0c\u200b\u90a3\u4e48\u200b DBMS \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6807\u51c6\u200b\u7684\u200b\u6392\u5e8f\u200b\u7b97\u6cd5\u200b (e.g. \u200b\u5feb\u901f\u200b\u6392\u5e8f\u200b)\u3002\u200b\u5982\u679c\u200b\u653e\u4e0d\u4e0b\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u4f7f\u7528\u200bexternal sorting\uff0c\u200b\u80fd\u591f\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u6ea2\u51fa\u200b\u5230\u200b\u78c1\u76d8\u200b\uff0c\u200b\u5e76\u4e14\u200b\u503e\u5411\u200b\u4e8e\u200b\u987a\u5e8f\u200b\u800c\u200b\u4e0d\u662f\u200b\u968f\u673a\u200b I/O\u3002</p> <p>\u200b\u5982\u679c\u200b\u67e5\u8be2\u200b\u5305\u542b\u200b <code>ORDER BY</code> \u200b\u548c\u200b <code>LIMIT</code> \u200b\u8bed\u53e5\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u8868\u660e\u200b DBMS \u200b\u53ea\u200b\u9700\u8981\u200b\u626b\u63cf\u200b\u4e00\u6b21\u200b\u6570\u636e\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u627e\u5230\u200b\u524d\u200b N \u200b\u4e2a\u200b\u5143\u7d20\u200b\u3002\u200b\u8fd9\u200b\u5c31\u662f\u200b\u6240\u8c13\u200b\u7684\u200b  Top-N Heap Sort \u3002\u200b\u5806\u6392\u5e8f\u200b\u7684\u200b\u7406\u60f3\u200b\u573a\u666f\u200b\u662f\u200b top-N \u200b\u5143\u7d20\u200b\u80fd\u5b58\u200b\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u8fd9\u6837\u200b DBMS \u200b\u53ea\u200b\u9700\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u5806\u6392\u5e8f\u200b\u4f18\u5148\u200b\u961f\u5217\u200b\u5373\u53ef\u200b\u3002</p>"},{"location":"db/cmu15445/L10/#external-merge-sort","title":"External Merge Sort","text":"<p>\u200b\u5916\u90e8\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5206\u6cbb\u200b\u6392\u5e8f\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5c06\u200b\u6570\u636e\u200b\u5206\u5272\u200b\u6210\u200b\u4e00\u4e9b\u200b\u72ec\u7acb\u200b\u7684\u200b runs \uff0c\u200b\u5355\u72ec\u200b\u5730\u200b\u5bf9\u200b\u5b83\u4eec\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u63a5\u7740\u200b\u5c06\u200b\u5b83\u4eec\u200b\u7ec4\u5408\u6210\u200b\u4e00\u4e2a\u200b\u66f4\u957f\u200b\u7684\u200b runs \u3002\u200b\u53ef\u4ee5\u200b\u5c06\u200b runs \u200b\u5b58\u200b\u5230\u200b\u78c1\u76d8\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u5019\u200b\u8bfb\u200b\u56de\u6765\u200b\u3002(\u200b\u8fd9\u91cc\u200b\u7684\u200b\u4e00\u4e2a\u200b run \u200b\u662f\u200b\u6307\u200b\u4e00\u7cfb\u5217\u200b key/value pairs)</p> <p>\u200b\u7b97\u6cd5\u200b\u6709\u200b\u4e24\u4e2a\u200b\u9636\u6bb5\u200b\uff1a</p> <ol> <li>Sorting: \u200b\u5c06\u200b\u80fd\u200b\u653e\u8fdb\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u5c0f\u5757\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u6392\u5e8f\u200b\u597d\u200b\u7684\u200b\u6570\u636e\u200b\u5199\u56de\u200b\u78c1\u76d8\u200b</li> <li>Merge: \u200b\u5c06\u200b\u4e24\u4e2a\u200b (\u200b\u53ef\u80fd\u200b\u662f\u200b\u591a\u4e2a\u200b\uff0c\u200b\u4e24\u4e2a\u200b\u7684\u200b\u53eb\u505a\u200b two-way) \u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u5b50\u200b\u6587\u4ef6\u200b\u5408\u5e76\u200b\u6210\u200b\u4e00\u4e2a\u200b\u5927\u200b\u6587\u4ef6\u200b</li> </ol>"},{"location":"db/cmu15445/L10/#two-way-merge-sort","title":"Two-way Merge Sort","text":"<p>\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u7248\u672c\u200b\u662f\u200b\u4e8c\u8def\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u3002\u201c2\u201d \u200b\u8868\u793a\u200b\u6bcf\u6b21\u200b\u5c06\u200b 2 \u200b\u4e2a\u200b runs \u200b\u5408\u5e76\u200b\u6210\u200b\u4e00\u4e2a\u200b\u5927\u200b run\u3002</p> <p>\u200b\u8be5\u200b\u7b97\u6cd5\u200b\u5728\u200b Sorting \u200b\u9636\u6bb5\u200b\u8bfb\u53d6\u200b\u6bcf\u4e2a\u200b\u9875\u9762\u200b\uff0c\u200b\u5bf9\u200b\u5176\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u7248\u672c\u200b\u5199\u56de\u200b\u78c1\u76d8\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u5728\u200b Merge \u200b\u9636\u6bb5\u200b\uff0c\u200b\u5b83\u200b\u4f7f\u7528\u200b 3 \u200b\u4e2a\u200b\u7f13\u51b2\u200b\u9875\u200b\u3002\u200b\u5b83\u200b\u4ece\u200b\u78c1\u76d8\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u4e24\u4e2a\u200b\u6392\u5e8f\u200b\u7684\u200b\u9875\u9762\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5b83\u4eec\u200b\u5408\u5e76\u200b\u5230\u200b\u7b2c\u4e09\u4e2a\u200b\u7f13\u51b2\u533a\u200b\u9875\u9762\u200b\u4e2d\u200b\u3002\u200b\u6bcf\u5f53\u200b\u7b2c\u4e09\u9875\u200b\u586b\u6ee1\u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u5c31\u200b\u4f1a\u200b\u88ab\u200b\u5199\u200b\u56de\u200b\u78c1\u76d8\u200b\u5e76\u200b\u66ff\u6362\u200b\u4e3a\u200b\u7a7a\u9875\u200b\u3002\u200b\u6bcf\u7ec4\u200b\u6392\u5e8f\u200b\u7684\u200b\u9875\u9762\u200b\u79f0\u4e3a\u200b\u4e00\u4e2a\u200b run\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u7b97\u6cd5\u200b\u9012\u5f52\u200b\u5730\u200b\u5c06\u200b runs \u200b\u5408\u5e76\u200b\u5728\u200b\u4e00\u8d77\u200b\u3002</p> <p>\ud83c\udf30 \u200b\u5982\u4e0b\u200b\u56fe\u200b\uff0c\u200b\u4e00\u200b\u5f00\u59cb\u200b\u4e00\u5171\u200b\u6709\u200b 8 \u200b\u4e2a\u9875\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u9875\u200b\u662f\u200b\u4e00\u4e2a\u200b\u72ec\u7acb\u200b\u7684\u200b run\uff0c\u200b\u7136\u540e\u200b\u7b2c\u4e00\u6b21\u200b\u904d\u5386\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b pass0\uff0c\u200b\u5148\u200b\u5c06\u200b\u6bcf\u200b\u4e00\u4e2a\u200b run \u200b\u90fd\u200b\u6392\u597d\u5e8f\u200b\uff1b\u200b\u7b2c\u4e8c\u6b21\u200b\u904d\u5386\u200b\u4e2d\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8bfb\u53d6\u200b\u8fdb\u200b\u4e24\u4e2a\u200b\u76f8\u90bb\u200b\u7684\u200b\u957f\u5ea6\u200b\u4e3a\u200b 2 \u200b\u7684\u200b run\uff0c\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\uff0c\u200b\u8f93\u51fa\u200b\u957f\u5ea6\u200b\u4e3a\u200b 4 \u200b\u7684\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b run\uff08\u200b\u88ab\u200b\u653e\u7f6e\u200b\u5728\u200b 2 \u200b\u4e2a\u9875\u200b\u4e2d\u200b\uff09\uff1b\u200b\u7b2c\u4e09\u6b21\u200b\u904d\u5386\u200b\u4e2d\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8bfb\u53d6\u200b\u76f8\u90bb\u200b\u4e24\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b 4 \u200b\u7684\u200b run\uff0c\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\uff0c\u200b\u8f93\u51fa\u200b\u957f\u5ea6\u200b\u4e3a\u200b 8 \u200b\u7684\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b run\uff08\u200b\u653e\u7f6e\u200b\u5728\u200b 4 \u200b\u4e2a\u9875\u200b\u4e2d\u200b\uff09\uff1b\u200b\u7b2c\u56db\u6b21\u200b\u904d\u5386\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b 8 \u200b\u7684\u200brun\u200b\u5408\u5e76\u200b\uff0c\u200b\u6700\u7ec8\u200b\u751f\u6210\u200b\u957f\u5ea6\u200b\u4e3a\u200b 16 \u200b\u7684\u200brun\uff08\u200b\u653e\u7f6e\u200b\u5728\u200b 8 \u200b\u4e2a\u9875\u200b\u4e2d\u200b\uff09\uff0c\u200b\u7b97\u6cd5\u200b\u7ed3\u675f\u200b\u3002</p> <p></p> <p>\u200b\u5982\u679c\u200b N \u200b\u662f\u200b\u6570\u636e\u200b\u9875\u200b\u7684\u200b\u603b\u6570\u200b\uff0c\u200b\u8be5\u200b\u7b97\u6cd5\u200b\u5728\u200b\u6570\u636e\u200b\u4e2d\u200b\u4e00\u5171\u200b\u8981\u200b\u8fdb\u884c\u200b \\(1 + \\lceil log_2 N \\rceil\\) \u200b\u6b21\u200b pass (1 \u200b\u8868\u793a\u200b\u7b2c\u4e00\u6b65\u200b\u5148\u200b\u5c06\u200b\u6240\u6709\u200b\u9875\u200b\u5185\u200b\u7684\u200b\u90fd\u200b\u6392\u597d\u5e8f\u200b\uff1b\\(\\lceil log_2 N \\rceil\\)  \u200b\u662f\u200b\u5408\u5e76\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u8fed\u4ee3\u200b\u7684\u200b\u6b21\u6570\u200b)\u3002\u200b\u6240\u6709\u200b\u7684\u200b I/O \u200b\u82b1\u8d39\u200b\u662f\u200b 2\ud835\udc41\u00d7(# \ud835\udc5c\ud835\udc53 \ud835\udc5d\ud835\udc4e\ud835\udc60\ud835\udc60)\uff0c\u200b\u56e0\u4e3a\u200b\u6bcf\u4e2a\u200b pass \u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u9875\u9762\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b IO \u200b\u8bfb\u200b + \u200b\u5199\u200b\u3002</p> <p>\u200b\u4e00\u4e2a\u200b pass \u200b\u53ef\u200b\u7406\u89e3\u200b\u4e3a\u200b\u5bf9\u200b\u6570\u636e\u200b\u7684\u200b\u4e00\u6b21\u200b\u904d\u5386\u200b\u3002</p>"},{"location":"db/cmu15445/L10/#general-k-way-merge-sort","title":"General (K-way) Merge Sort","text":"<p>DBMS\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b 3 \u200b\u4e2a\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u7f13\u51b2\u200b\u9875\u200b\u3002</p> <p>B \u200b\u8868\u793a\u200b\u53ef\u7528\u200b\u7684\u200b\u7f13\u51b2\u200b\u9875\u200b\u6570\u91cf\u200b\uff0cSorting \u200b\u9636\u6bb5\u200b\uff0c\u200b\u7f13\u51b2\u533a\u200b\u53ef\u4ee5\u200b\u4e00\u6b21\u6027\u200b\u8bfb\u200b\u8fdb\u6765\u200b B \u200b\u4e2a\u9875\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5c06\u200b \\(\\lceil\\frac{N}{B}\\rceil\\)  \u200b\u4e2a\u6392\u200b\u597d\u5e8f\u200b\u7684\u200b runs \u200b\u5b58\u8fdb\u200b\u78c1\u76d8\u200b\u4e2d\u200b\uff1bMerge \u200b\u9636\u6bb5\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u53ef\u4ee5\u200b\u5c06\u200b B - 1 \u200b\u4e2a\u200b runs \u200b\u7ed3\u5408\u200b\u5728\u200b\u4e00\u8d77\u200b\uff0c\u200b\u4f7f\u7528\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7f13\u51b2\u200b\u9875\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5199\u56de\u200b\u78c1\u76d8\u200b\u3002</p> <p>\u200b\u7b97\u6cd5\u200b\u4e00\u5171\u200b\u9700\u8981\u200b\u904d\u5386\u200b\u6570\u636e\u200b \\(1 + \\lceil log_{B-1}{\\frac{N}{B}} \\rceil\\)  \u200b\u6b21\u200b (1 \u200b\u662f\u200b Sorting \u200b\u9636\u6bb5\u200b\uff0c\\(\\lceil log_{B-1}{\\frac{N}{B}} \\rceil\\) \u200b\u662f\u200b Merge \u200b\u9636\u6bb5\u200b)\uff0c\u200b\u603b\u200b I/O \u200b\u82b1\u8d39\u200b 2\ud835\udc41\u00d7(# \ud835\udc5c\ud835\udc53 \ud835\udc5d\ud835\udc4e\ud835\udc60\ud835\udc60)\u3002</p>"},{"location":"db/cmu15445/L10/#double-buffering-optimization","title":"Double Buffering Optimization","text":"<p>\u200b\u5916\u200b\u6392\u5e8f\u200b\u7684\u200b\u4e00\u79cd\u200b\u4f18\u5316\u200b\u65b9\u6cd5\u200b\u662f\u200b\uff1a\u200b\u5728\u200b\u540e\u53f0\u200b\u9884\u200b\u83b7\u53d6\u200b\u4e0b\u200b\u4e00\u4e2a\u200b run\uff0c\u200b\u5e76\u200b\u5728\u200b\u7cfb\u7edf\u200b\u5904\u7406\u200b\u5f53\u524d\u200b run \u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u5b58\u50a8\u200b\u5728\u200b\u7b2c\u4e8c\u4e2a\u200b\u7f13\u51b2\u533a\u200b\u4e2d\u200b\u3002\u200b\u8fd9\u6837\u200b\u901a\u8fc7\u200b\u8fde\u7eed\u200b\u4f7f\u7528\u200b\u78c1\u76d8\u200b\u51cf\u5c11\u200b\u4e86\u200b\u6bcf\u200b\u4e00\u6b65\u200bI/O\u200b\u8bf7\u6c42\u200b\u7684\u200b\u7b49\u5f85\u65f6\u95f4\u200b\u3002\u200b\u5982\u200b\u5728\u200b\u5904\u7406\u200b page1 \u200b\u4e2d\u200b\u7684\u200b run \u200b\u65f6\u200b\uff0c\u200b\u540c\u65f6\u200b\u628a\u200b page2 \u200b\u4e2d\u200b\u7684\u200b run \u200b\u653e\u8fdb\u200b\u5185\u5b58\u200b\u3002</p> <p>\u200b\u8fd9\u79cd\u200b\u4f18\u5316\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u591a\u4e2a\u200b\u7ebf\u7a0b\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u9884\u200b\u83b7\u53d6\u200b\u5e94\u8be5\u200b\u5728\u200b\u5f53\u524d\u200b\u8fd0\u884c\u200b\u7684\u200b\u8ba1\u7b97\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L10/#using-b-trees","title":"Using B+ Trees","text":"<p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u8981\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u7684\u200b\u5c5e\u6027\u200b\uff0c\u200b\u6b63\u597d\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6784\u5efa\u200b\u597d\u200b\u7684\u200bB+\u200b\u6811\u200b\u7d22\u5f15\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200bB+\u200b\u6811\u200b\u6392\u5e8f\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u7528\u5916\u200b\u6392\u5e8f\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b B+ \u200b\u6811\u662f\u200b  \u200b\u805a\u7c07\u200bB+\u200b\u6811\u200b \uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u627e\u5230\u200b\u6700\u200b\u5de6\u200b\u7684\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\uff0c\u200b\u7136\u540e\u200b\u904d\u5386\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\uff0c\u200b\u8fd9\u6837\u200b\u603b\u6bd4\u5916\u200b\u6392\u5e8f\u200b\u597d\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6ca1\u6709\u200b\u8ba1\u7b97\u200b\u6d88\u8017\u200b\uff0c\u200b\u6240\u6709\u200b\u7684\u200b\u78c1\u76d8\u200b\u8bbf\u95ee\u200b\u90fd\u200b\u662f\u200b\u8fde\u7eed\u200b\u7684\u200b\uff0c\u200b\u800c\u4e14\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u66f4\u200b\u4f4e\u200b\u3002</p> <p></p> <p>\u200b\u5982\u679c\u200b B+ \u200b\u6811\u662f\u200b  \u200b\u975e\u805a\u200b\u7c07\u200bB+\u200b\u6811\u200b \uff0c\u200b\u90a3\u4e48\u200b\u904d\u5386\u200b\u6811\u200b\u603b\u662f\u200b\u66f4\u574f\u200b\u7684\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6bcf\u4e2a\u200b record \u200b\u53ef\u80fd\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u9875\u200b\u4e2d\u200b\uff0c\u200b\u6240\u6709\u200b\u51e0\u4e4e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b record \u200b\u8bbf\u95ee\u200b\u90fd\u200b\u9700\u8981\u200b\u78c1\u76d8\u200b\u8bfb\u53d6\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L10/#aggregations","title":"Aggregations","text":"<p>\u200b\u805a\u96c6\u200b\u7b97\u5b50\u200b\u5c31\u662f\u200b\u5c06\u200b\u591a\u4e2a\u200b\u5143\u7ec4\u200b\u7684\u200b\u5355\u4e2a\u200b\u5c5e\u6027\u200b\u7684\u200b\u503c\u200b\u8ba1\u7b97\u200b\u6210\u4e3a\u200b\u5355\u4e2a\u200b\u6807\u91cf\u200b\u503c\u200b\u3002</p> <p>\u200b\u5b9e\u73b0\u200b\u805a\u96c6\u200b\u6709\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\uff1a(1) \u200b\u6392\u5e8f\u200b, (2) \u200b\u54c8\u5e0c\u200b\u3002</p>"},{"location":"db/cmu15445/L10/#sorting-aggregation","title":"Sorting Aggregation","text":"<p>DBMS\u200b\u9996\u5148\u200b\u5bf9\u200b <code>GROUP BY</code> \u200b\u4e0a\u200b\u7684\u200b tuple (\u200b\u4f5c\u4e3a\u200b key) \u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002\u200b\u5982\u679c\u200b\u6240\u6709\u200b\u5185\u5bb9\u200b\u90fd\u200b\u80fd\u200b\u653e\u8fdb\u200b buffer pool\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5185\u200b\u6392\u5e8f\u200b\u7b97\u6cd5\u200b\uff08\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5feb\u901f\u200b\u6392\u5e8f\u200b\uff09\uff0c\u200b\u5982\u679c\u200b\u6570\u636e\u200b\u5927\u5c0f\u200b\u8d85\u8fc7\u200b\u5185\u5b58\u200b\uff0c\u200b\u5219\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5916\u90e8\u200b\u5f52\u5e76\u200b\u6392\u5e8f\u200b\u7b97\u6cd5\u200b\u3002\u200b\u7136\u540e\u200b DBMS \u200b\u5bf9\u200b\u6392\u5e8f\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u6267\u884c\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\u4ee5\u200b\u8ba1\u7b97\u200b\u805a\u96c6\u200b\u3002\u200b\u805a\u96c6\u200b\u7b97\u5b50\u200b\u7684\u200b\u8f93\u51fa\u200b\u5c06\u200b\u6309\u200b key \u200b\u6392\u5e8f\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6267\u884c\u200b\u6392\u5e8f\u200b\u805a\u96c6\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5408\u7406\u5b89\u6392\u200b\u67e5\u8be2\u200b\u7b97\u5b50\u200b\u6267\u884c\u200b\u987a\u5e8f\u200b\u5bf9\u200b\u63d0\u9ad8\u200b\u6027\u80fd\u200b\u662f\u200b\u5f88\u200b\u91cd\u8981\u200b\u7684\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u67e5\u8be2\u200b\u662f\u200b\u4e00\u4e2a\u200b filter (\u200b\u5373\u200b\u9009\u62e9\u200b)\uff0c\u200b\u90a3\u4e48\u200b\u5148\u200b\u6267\u884c\u200b filter \u200b\u7136\u540e\u200b\u518d\u200b\u6392\u5e8f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u51cf\u5c0f\u200b\u9700\u8981\u200b\u6392\u5e8f\u200b\u7684\u200b\u6570\u636e\u91cf\u200b\u3002</p> <p>\ud83c\udf30 \u200b\u5982\u4e0b\u200b\u56fe\u200b\uff0c\u200b\u9996\u5148\u200b\u5148\u200b\u8fdb\u884c\u200b filter \u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5c06\u200b grade \u200b\u662f\u200b B/C \u200b\u7684\u200b tuple \u200b\u7b5b\u9009\u200b\u51fa\u6765\u200b\uff1b\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u6295\u5f71\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5c06\u200b\u65e0\u7528\u200b\u7684\u200b\u5217\u200b\u53bb\u6389\u200b\uff1b\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5bf9\u6392\u200b\u597d\u5e8f\u200b\u7684\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u805a\u96c6\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L10/#hashing-aggregation","title":"Hashing Aggregation","text":"<p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u6570\u636e\u200b\u6700\u7ec8\u200b\u662f\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\uff0c\u200b\u5982\u200b <code>GROUP BY</code> \u200b\u548c\u200b <code>DISTINCT</code> \u200b\u7b97\u5b50\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u90fd\u200b\u4e0d\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u90a3\u4e48\u200b Hashing \u200b\u662f\u200b\u4e00\u4e2a\u200b\u66f4\u597d\u200b\u7684\u200b\u9009\u62e9\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4e0d\u200b\u9700\u8981\u200b\u6392\u5e8f\u200b\uff0c\u200b\u800c\u4e14\u200b\u54c8\u5e0c\u200b\u8ba1\u7b97\u200b\u66f4\u200b\u5feb\u200b\u3002</p> <p>DBMS \u200b\u5728\u200b\u626b\u63cf\u200b\u8868\u65f6\u200b\u6784\u5efa\u200b\u4e34\u65f6\u200b\u54c8\u5e0c\u200b\u8868\u200b (ephemeral hash table)\u3002\u200b\u5bf9\u4e8e\u200b\u6bcf\u4e2a\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u68c0\u67e5\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u662f\u5426\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b enrty\uff0c\u200b\u5e76\u200b\u6267\u884c\u200b\u9002\u5f53\u200b\u7684\u200b\u4fee\u6539\u200b\u3002\u200b\u5982\u679c\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u5927\u5c0f\u200b\u592a\u200b\u5927\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u5bb9\u7eb3\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u90a3\u4e48\u200b DBMS \u200b\u5fc5\u987b\u200b\u5c06\u200b\u5176\u5b58\u200b\u5230\u200b\u78c1\u76d8\u200b\uff0c\u200b\u6709\u200b\u4e24\u4e2a\u200b\u9636\u6bb5\u200b\u6765\u200b\u5b8c\u6210\u200b\u8fd9\u4e2a\u200b\u4efb\u52a1\u200b\uff1a</p> <ul> <li>Phase # 1 \u2013 Partition:</li> </ul> <p>\u200b\u4f7f\u7528\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b \\(h1\\)\uff0c\u200b\u5c06\u200b\u5143\u7ec4\u200b\u5212\u5206\u200b\u6210\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b partition\uff0c\u200b\u4e00\u4e2a\u200b partition \u200b\u662f\u200b\u6307\u200b\u7531\u200b\u540c\u6837\u200b hash value \u200b\u7684\u200b key \u200b\u7ec4\u6210\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u9875\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u6709\u200b B \u200b\u4e2a\u200b buffer \u200b\u53ef\u4ee5\u200b\u7528\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b B - 1 \u200b\u4e2a\u200b buffer \u200b\u7528\u6765\u200b\u505a\u200b partition\uff0c\u200b\u5269\u4e0b\u200b 1 \u200b\u4e2a\u200bbuffer \u200b\u7528\u6765\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u3002</p> <ul> <li>Phase # 2 \u2013 ReHash:</li> </ul> <p>\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b partition\uff0c\u200b\u5c06\u200b\u5b83\u200b\u7684\u200b\u9875\u9762\u200b (\u200b\u53ef\u80fd\u200b\u662f\u200b\u591a\u4e2a\u200b) \u200b\u8bfb\u8fdb\u200b\u5185\u5b58\u200b\uff0c\u200b\u5e76\u4e14\u200b\u7528\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b \\(h2(h2 \\neq h1)\\) \u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b in-memory \u200b\u54c8\u5e0c\u200b\u8868\u200b\u3002\u200b\u4e4b\u540e\u200b\u904d\u5386\u200b\u54c8\u5e0c\u200b\u8868\u200b\u6bcf\u4e2a\u200b bucket\uff0c\u200b\u5e76\u200b\u5c06\u200b\u76f8\u5339\u914d\u200b\u7684\u200b tuples \u200b\u8ba1\u7b97\u200b aggregation\u3002(\u200b\u8fd9\u91cc\u200b\u5047\u8bbe\u200b\u4e86\u200b\u4e00\u4e2a\u200b partition \u200b\u53ef\u4ee5\u200b\u88ab\u200b\u653e\u8fdb\u200b\u5185\u5b58\u200b)</p> <p>\u200b\u5728\u200b ReHash \u200b\u9636\u6bb5\u200b\uff0cDBMS \u200b\u53ef\u80fd\u200b\u5b58\u50a8\u200b\u5f62\u5f0f\u200b\u4e3a\u200b (GroupByKey \u2192 RunningValue) \u200b\u7684\u200b pair\uff0c\u200b\u4ee5\u200b\u8ba1\u7b97\u200b aggregation\uff0c\u200b\u8fd9\u4e9b\u200b pair \u200b\u7684\u200b\u5177\u4f53\u200b\u5f62\u5f0f\u200b\u53d6\u51b3\u4e8e\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u3002\u200b\u6784\u5efa\u200b in-memory \u200b\u54c8\u5e0c\u200b\u8868\u65f6\u200b\uff0c\u200b\u5728\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u63d2\u5165\u200b\u4e00\u4e2a\u200b\u65b0\u200b tuple\uff1a\u200b\u5982\u679c\u200b\u53d1\u73b0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5339\u914d\u200b\u7684\u200b GroupByKey\uff0c\u200b\u5c31\u200b\u66f4\u65b0\u200b\u5bf9\u5e94\u200b\u7684\u200b RunningValue\uff1b\u200b\u5426\u5219\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200b (GroupByKey\u2192RunningValue) pair\u3002</p> <p>\ud83c\udf30 \u200b\u9996\u5148\u200b\u662f\u200b Partition\uff0c\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u8981\u200b\u505a\u200b <code>DISTINCT</code>\uff0c\u200b\u6240\u4ee5\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u5143\u7ec4\u200b\u6309\u7167\u200b cid \u200b\u4f5c\u4e3a\u200b key \u200b\u8fdb\u884c\u200b partition\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u8fd9\u4e9b\u200b key \u200b\u5206\u4e3a\u200b\u4e86\u200bB - 1 \u200b\u4e2a\u200b partition\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u8fd9\u4e9b\u200b partition \u200b\u653e\u5165\u200b\u78c1\u76d8\u200b\u3002</p> <p></p> <p>\u200b\u7136\u540e\u200b\u8fdb\u884c\u200bReHash\uff0c\u200b\u56e0\u4e3a\u200b\u5728\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u9636\u6bb5\u200b\uff0c\u200b\u4e00\u4e2a\u200b partition \u200b\u5185\u200b\u53ef\u80fd\u200b\u6709\u200b\u78b0\u649e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8bfb\u5165\u200b partition \u200b\u8fdb\u884c\u200b\u4e8c\u6b21\u200b\u54c8\u5e0c\u200b\uff0c\u200b\u6ce8\u610f\u200b\u56fe\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\uff0c\u200b\u7b2c\u4e00\u6b21\u200b\u54c8\u5e0c\u200b\u7684\u200b\u4e00\u4e2a\u200b partition \u200b\u53ef\u80fd\u200b\u6709\u200b\u597d\u51e0\u9875\u200b\u3002\u200b\u6700\u7ec8\u200b\u5f62\u6210\u200b\u7ed3\u679c\u200b\u3002</p> <p></p> <p>\u200b\u6839\u636e\u200b\u805a\u96c6\u200b\u4efb\u52a1\u200b\u4e0d\u540c\u200b\uff0cRunningValue \u200b\u53ef\u80fd\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u8981\u200b\u8fdb\u884c\u200b <code>AVG</code> \u200b\u805a\u96c6\u200b\uff0c\u200b\u90a3\u4e48\u200b RunningValue \u200b\u5c31\u662f\u200b (COUNT, SUM)\u3002\u200b\u5728\u200b ReHash \u200b\u9636\u6bb5\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u5bf9\u200b\u4e00\u4e2a\u200b tuple \u200b\u8fdb\u884c\u200b\u54c8\u5e0c\u200b\uff0c\u200b\u90fd\u200b\u66f4\u6539\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u7684\u200b\u5bf9\u5e94\u200b key \u200b\u7684\u200b RunningValue \u200b\u503c\u200b\u3002</p> <p></p> <p>Note</p> <p>\u200b\u8bf4\u4eba\u8bdd\u200b\u5c31\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b filter \u200b\u5c31\u200b\u5148\u200b\u8fc7\u6ee4\u200b\u3002\u200b\u7136\u540e\u200b\u6839\u636e\u200b <code>GROUP BY</code> \u200b\u6216\u200b <code>DISTINCT</code> \u200b\u7684\u200b\u5143\u7d20\u200b\u4f5c\u4e3a\u200b key \u200b\u4f7f\u7528\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b h1 \u200b\u5bf9\u200b tuples \u200b\u8fdb\u884c\u200b partition \u200b\u5b58\u5165\u200b\u78c1\u76d8\u200b\u3002\u200b\u7136\u540e\u200b\u4f9d\u6b21\u200b\u8bfb\u5165\u200b partition\uff0c\u200b\u901a\u8fc7\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b h2 \u200b\u6784\u5efa\u200b in-memory \u200b\u54c8\u5e0c\u200b\u8868\u200b\u3002\u200b\u7136\u540e\u200b\u904d\u5386\u200b\u6240\u6709\u200b buckets\uff0c\u200b\u8ba1\u7b97\u200b aggregation\u3002</p>"},{"location":"db/cmu15445/L11/","title":"Joins Algorithms","text":"<p> \u200b\u7ea6\u200b 2921 \u200b\u4e2a\u200b\u5b57\u200b  20 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 10 \u200b\u5206\u949f\u200b</p>"},{"location":"db/cmu15445/L11/#joins","title":"Joins","text":"<p>\u200b\u5728\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e38\u5e38\u200b\u901a\u8fc7\u200b\u89c4\u8303\u5316\u200b (Normalization) \u200b\u8bbe\u8ba1\u200b\u907f\u514d\u200b\u4fe1\u606f\u5197\u4f59\u200b\uff1b\u200b\u56e0\u6b64\u200b\u67e5\u8be2\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b Join \u200b\u5c06\u200b\u4e0d\u540c\u200b table \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u5408\u5e76\u200b\u6765\u200b\u91cd\u5efa\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u672c\u8bfe\u200b\u5173\u6ce8\u200b\u53cc\u8868\u200b\u7684\u200b \u200b\u5185\u200b\u7b49\u503c\u200b \u200b\u8fde\u63a5\u200b\u3002\u200b\u539f\u5219\u4e0a\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\uff0c\u200b\u8fde\u63a5\u200b\u65f6\u200b\u5c06\u200b\u5c0f\u8868\u200b\u653e\u5230\u200b\u5de6\u4fa7\u200b (\u200b\u4f5c\u4e3a\u200b\u5916\u8868\u200b)\u3002</p> <p>\u200b\u9996\u5148\u200b\u8981\u200b\u8ba8\u8bba\u200b\u7684\u200b\u662f\u200b\uff1aJoin \u200b\u7684\u200b\u8f93\u51fa\u200b\u548c\u200b\u6210\u672c\u200b\u5206\u6790\u200b\u3002</p>"},{"location":"db/cmu15445/L11/#operator-output","title":"Operator Output","text":"<p>\u200b\u903b\u8f91\u200b\u4e0a\u200b Join \u200b\u7684\u200b\u64cd\u4f5c\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\uff1a\u200b\u5bf9\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b tuple \\(r \\in R\\) \u200b\u548c\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u5728\u200b Join Attributes \u200b\u4e0a\u200b\u5bf9\u5e94\u200b\u7684\u200b tuple \\(s \\in S\\) \uff0c\u200b\u5c06\u200b r \u200b\u548c\u200b s \u200b\u4e32\u8054\u200b\u6210\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b tuple\u3002</p> <p></p> <p>\u200b\u73b0\u5b9e\u200b\u4e2d\u200b\uff0cJoin \u200b\u64cd\u4f5c\u200b\u8f93\u51fa\u200b\u5143\u7ec4\u200b\u5185\u5bb9\u200b\u8fd8\u200b\u53d6\u51b3\u4e8e\u200b processing model, storage model \u200b\u548c\u200b query \u200b\u672c\u8eab\u200b\u3002\u200b\u4e0b\u9762\u200b\u5217\u4e3e\u200b\u4e86\u200b\u51e0\u79cd\u200b\u8f93\u51fa\u200b\u5143\u7ec4\u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a</p> <ol> <li>Data\uff1aJoin \u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b\u5185\u8868\u200b\u548c\u200b\u5916\u8868\u200b\u7684\u200b\u6240\u6709\u200b\u975e\u200b Join Attributes \u200b\u7684\u200b\u5c5e\u6027\u200b\u90fd\u200b\u590d\u5236\u5230\u200b\u8f93\u51fa\u200b\u5143\u7ec4\u200b\u4e2d\u200b\u3002</li> </ol> <p>\u200b\u53c8\u79f0\u200b \u200b\u63d0\u524d\u200b\u7269\u5316\u200b\u3002\u200b\u4f18\u70b9\u200b\u662f\u200b\uff1aJoin \u200b\u4e4b\u540e\u200b\u7684\u200b\u64cd\u4f5c\u200b\u90fd\u200b\u65e0\u9700\u200b\u4ece\u200b\u539f\u8868\u4e2d\u200b\u91cd\u65b0\u200b\u83b7\u53d6\u6570\u636e\u200b\uff1b\u200b\u7f3a\u70b9\u200b\u662f\u200b\uff1a\u200b\u9700\u8981\u200b\u66f4\u591a\u5730\u200b\u5185\u5b58\u200b\u3002</p> <p></p> <ol> <li>Record Ids\uff1aJoin \u200b\u65f6\u200b\uff0c\u200b\u53ea\u200b\u5c06\u200b\u5185\u200b\u5916\u8868\u200b\u7684\u200b Join Attributes \u200b\u53ca\u200b record id \u200b\u590d\u5236\u5230\u200b\u8f93\u51fa\u200b\u5143\u7ec4\u200b\uff0c\u200b\u540e\u7eed\u200b\u64cd\u4f5c\u200b\u81ea\u884c\u200b\u6839\u636e\u200b record id \u200b\u53bb\u200b\u539f\u8868\u4e2d\u200b\u83b7\u53d6\u200b\u76f8\u5173\u200b\u6570\u636e\u200b\u3002</li> </ol> <p>\u200b\u53c8\u79f0\u200b \u200b\u63a8\u8fdf\u200b\u7269\u5316\u200b(Late Materialization)\u3002\u200b\u9002\u7528\u200b\u4e8e\u5217\u200b\u5b58\u50a8\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u6837\u200b DBMS \u200b\u4e0d\u200b\u9700\u8981\u200b\u590d\u5236\u200b\u5bf9\u4e8e\u200b\u67e5\u8be2\u200b\u6ca1\u7528\u200b\u7684\u200b\u5c5e\u6027\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L11/#io-cost-analysis","title":"I/O Cost Analysis","text":"<p>\u200b\u7531\u4e8e\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u91cf\u200b\u901a\u5e38\u200b\u8f83\u5927\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u4e00\u6b21\u6027\u200b\u8f7d\u5165\u200b\u5185\u5b58\u200b\uff0c\u200b\u56e0\u6b64\u200b Join Algorithm \u200b\u7684\u200b\u8bbe\u8ba1\u200b\u76ee\u7684\u200b\uff0c\u200b\u5728\u4e8e\u200b\u51cf\u5c11\u200b\u78c1\u76d8\u200b I/O\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u8861\u91cf\u200b Join Algorithm \u200b\u597d\u574f\u200b\u7684\u200b\u6807\u51c6\u200b\uff0c\u200b\u5c31\u662f\u200b I/O \u200b\u7684\u200b\u6570\u91cf\u200b\u3002\u200b\u6b64\u5916\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u8003\u8651\u200b Join \u200b\u7ed3\u679c\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4e0d\u8bba\u200b\u4f7f\u7528\u200b\u600e\u6837\u200b\u7684\u200b Join Algorithm\uff0c\u200b\u7ed3\u679c\u200b\u96c6\u200b\u7684\u200b\u5927\u5c0f\u200b\u90fd\u200b\u4e00\u6837\u200b\u3002</p> <p>\u200b\u4e4b\u540e\u200b\u7684\u200b\u8ba8\u8bba\u200b\u90fd\u200b\u5efa\u7acb\u200b\u5728\u200b\u8fd9\u6837\u200b\u7684\u200b\u60c5\u666f\u200b\uff1a</p> <ul> <li>\u200b\u5bf9\u200b \\(R\\) \u200b\u548c\u200b \\(S\\) \u200b\u4e24\u4e2a\u200b tables \u200b\u505a\u200b Join</li> <li>\\(R\\) \u200b\u4e2d\u6709\u200b \\(S\\) \u200b\u4e2a\u200b pages\uff0c\\(m\\) \u200b\u4e2a\u200b tuples</li> <li>\\(S\\) \u200b\u4e2d\u6709\u200b \\(N\\) \u200b\u4e2a\u200b pages\uff0c\\(n\\) \u200b\u4e2a\u200b tuples</li> </ul> <p>\u200b\u4e0b\u9762\u200b\u4ecb\u7ecd\u200b\u7684\u200b\u8fde\u63a5\u200b\u7b97\u6cd5\u200b\u90fd\u200b\u6709\u200b\u5404\u81ea\u200b\u7684\u200b\u9002\u7528\u200b\u573a\u666f\u200b\uff0c\u200b\u6ca1\u6709\u200b\u4e00\u4e2a\u200b\u7b97\u6cd5\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6240\u6709\u200b\u573a\u666f\u200b\u4e0b\u200b\u8868\u73b0\u200b\u826f\u597d\u200b\uff0c\u200b\u9700\u8981\u200b\u5177\u4f53\u200b\u95ee\u9898\u200b\u5177\u4f53\u5206\u6790\u200b\u3002</p>"},{"location":"db/cmu15445/L11/#nested-loop-join","title":"Nested Loop Join","text":"<p>\u200b\u4e5f\u200b\u5c31\u662f\u200b\u66b4\u529b\u200b\u5faa\u73af\u200b\u7b97\u6cd5\u200b\u3002</p> <p>\u200b\u603b\u4f53\u200b\u4e0a\u200b\u6765\u770b\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5d4c\u5957\u5faa\u73af\u200b\u7b97\u6cd5\u200b\u4e3b\u8981\u200b\u7531\u200b 2 \u200b\u4e2a\u200b for \u200b\u5d4c\u5957\u200b\uff0c\u200b\u6bcf\u4e2a\u200b for \u200b\u5206\u522b\u200b\u8fed\u4ee3\u200b\u4e00\u4e2a\u200b\u8868\u200b\uff0c\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u5143\u7ec4\u200b\u7b26\u5408\u200b\u8fde\u63a5\u200b\u8c13\u8bcd\u200b\uff0c\u200b\u5c31\u200b\u8f93\u51fa\u200b\u5b83\u4eec\u200b\u3002</p> <p>\u200b\u5728\u5916\u200b\u5faa\u73af\u200b\u7684\u200b\u8868\u200b\u53eb\u505a\u200b \u200b\u5916\u8868\u200b \uff0c\u200b\u5728\u5185\u200b\u5faa\u73af\u200b\u7684\u200b\u8868\u200b\u53eb\u505a\u200b \u200b\u5185\u8868\u200b \u3002\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u8ba8\u8bba\u200b\u4e2d\u200b \\(R\\) \u200b\u8868\u662f\u200b\u5916\u8868\u200b\uff0c\\(S\\) \u200b\u8868\u662f\u200b\u5185\u8868\u200b\u3002</p> <p>DBMS\u200b\u603b\u662f\u200b\u5e0c\u671b\u200b\u5c0f\u8868\u200b\u5f53\u505a\u200b\u5916\u8868\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b\u201c\u200b\u5c0f\u200b\u201d\u200b\u662f\u200b\u6307\u200b\u5360\u7528\u200b\u7684\u200b\u9875\u6570\u200b\u6216\u8005\u200b\u5143\u7ec4\u200b\u4e2a\u6570\u200b\u3002DBMS \u200b\u5e0c\u671b\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7f13\u5b58\u200b\u5c3d\u91cf\u200b\u591a\u200b\u7684\u200b\u5916\u8868\u200b\uff0c\u200b\u5728\u200b\u904d\u5386\u200b\u5185\u8868\u65f6\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7d22\u5f15\u200b\u52a0\u901f\u200b\u3002</p>"},{"location":"db/cmu15445/L11/#simple-nested-loop-join","title":"Simple Nested Loop Join","text":"<p>\u200b\u50bb\u74dc\u5f0f\u200b\u66b4\u529b\u200b\u4e24\u5c42\u200b\u5927\u200b\u5faa\u73af\u200b\u5d4c\u5957\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u5916\u8868\u200b \\(R\\) \u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\uff0c\u200b\u90fd\u200b\u904d\u5386\u200b\u4e00\u904d\u200b \\(S\\) \u200b\u8868\u200b\uff0c\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u7f13\u5b58\u200b\u673a\u5236\u200b\uff0c\u200b\u6ca1\u6709\u200b\u5229\u7528\u200b\u4efb\u4f55\u200b\u5c40\u90e8\u6027\u200b\u3002</p> <p></p> <p>\u200b\u78c1\u76d8\u200b I/O Cost\uff1a\\(M + (m \\times N)\\)</p> <p>\\(M\\) \u200b\u662f\u200b\u8bfb\u5165\u200b\u5916\u8868\u200b (\\(R\\)) \u200b\u7684\u200b I/O \u200b\u6b21\u6570\u200b\uff0c\u200b\u7136\u540e\u200b\u5bf9\u4e8e\u200b \\(R\\) \u200b\u8868\u200b\u7684\u200b \\(m\\) \u200b\u4e2a\u200b\u5143\u7ec4\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u90fd\u200b\u626b\u63cf\u200b\u4e00\u904d\u200b\u5185\u8868\u200b (\\(S\\))\u3002</p> <p>\ud83c\udf30 \u200b\u7528\u65f6\u200b\u4e00\u4e2a\u591a\u200b\u5c0f\u65f6\u200b\uff1a</p> <p></p>"},{"location":"db/cmu15445/L11/#block-nested-loop-join","title":"Block Nested Loop Join","text":"<p>\u200b\u5c06\u200b\u5916\u8868\u200b\u548c\u200b\u5185\u8868\u200b\u5206\u5757\u200b\uff0c\u200b\u80fd\u200b\u66f4\u597d\u200b\u5f97\u200b\u5229\u7528\u200b\u7f13\u5b58\u200b\u548c\u200b\u5c40\u90e8\u6027\u200b\u539f\u7406\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u5916\u8868\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5757\u200b\uff0c\u200b\u83b7\u53d6\u200b\u5185\u8868\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5757\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u5757\u200b\u5185\u90e8\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\u64cd\u4f5c\u200b\u3002</p> <p>\u200b\u8fd9\u6837\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5916\u8868\u200b\u7684\u200b\u5757\u200b\u626b\u63cf\u200b\u4e00\u6b21\u200b\u5185\u8868\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5916\u8868\u200b\u5143\u7ec4\u200b\u626b\u63cf\u200b\u4e00\u6b21\u200b\u5185\u8868\u200b\uff0c\u200b\u51cf\u5c11\u200b\u4e86\u200b\u78c1\u76d8\u200bI/O\u3002</p> <p>\u200b\u8fd9\u91cc\u200b\u7684\u200b\u5916\u8868\u200b\u8981\u200b\u9009\u62e9\u200b\u9875\u6570\u200b\u5c11\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5143\u7ec4\u200b\u4e2a\u6570\u200b\u5c11\u200b\u7684\u200b\u3002</p> <p></p> <p>\u200b\u5047\u8bbe\u200b\u5bf9\u4e8e\u200b\u5916\u8868\u200b \\(R\\) \u200b\u7684\u200b\u5212\u5206\u200b\u662f\u200b\u4e00\u4e2a\u200b\u9875\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5757\u200b\uff0c\u200b\u78c1\u76d8\u200b I/O Cost\uff1a \\(M + (M \\times N)\\) \u3002\\(M\\) \u200b\u662f\u200b\u8bfb\u5165\u200b\u5916\u8868\u200b\u7684\u200b I/O \u200b\u6b21\u6570\u200b\uff0c\u200b\u7136\u540e\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5757\u200b (\u200b\u8fd9\u91cc\u200b\u4e00\u4e2a\u200b\u9875\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u5757\u200b\uff0c\u200b\u5171\u200b \\(M\\) \u200b\u4e2a\u5757\u200b) \u200b\u904d\u5386\u200b\u4e00\u904d\u200b\u5185\u8868\u200b\u3002</p> <p>\ud83c\udf30 \u200b\u7528\u65f6\u200b 50 s\uff1a</p> <p></p> <p>\u200b\u5047\u5982\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b B \u200b\u4e2a\u200b buffer\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b buffer \u200b\u5b58\u50a8\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\uff0c\u200b\u4e00\u4e2a\u200b buffer \u200b\u5b58\u50a8\u200b\u5185\u8868\u200b\uff0c\u200b\u5269\u4e0b\u200b B - 2 \u200b\u4e2a\u200b buffer \u200b\u5b58\u50a8\u200b\u5916\u8868\u200b\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u80fd\u200b\u5c06\u200b\u5916\u8868\u200b\u7684\u200b\u4e00\u4e2a\u200b block \u200b\u5927\u5c0f\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b B - 2 \u200b\u4e2a\u9875\u200b\u3002\u200b\u5219\u200b\u78c1\u76d8\u200b I/O Cost\uff1a \\(M + (\\lceil \\frac{M}{B-2} \\rceil \\times N)\\) \u3002\\(M\\) \u200b\u662f\u200b\u8bfb\u5165\u200b\u5916\u8868\u200b\u7684\u200b I/O \u200b\u6b21\u6570\u200b\uff0c\u200b\u7136\u540e\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5757\u200b (\u200b\u8fd9\u91cc\u200b B - 2 \u200b\u4e2a\u9875\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5757\u200b\uff0c\u200b\u5171\u200b \\(\\lceil \\frac{M}{B-2} \\rceil\\) \u200b\u4e2a\u5757\u200b) \u200b\u904d\u5386\u200b\u4e00\u904d\u200b\u5185\u8868\u200b\u3002</p> <p>\u200b\u5047\u5982\u200b\u5916\u8868\u200b\u80fd\u200b\u5b8c\u5168\u200b\u653e\u5165\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u5219\u200b\u78c1\u76d8\u200b I/O Cost\uff1a\\(M + N\\) \u3002</p> <p>\ud83c\udf30 \u200b\u7528\u65f6\u200b 0.15 s\uff1a</p> <p></p>"},{"location":"db/cmu15445/L11/#index-nested-loop-join","title":"Index Nested Loop Join","text":"<p>\u200b\u4e4b\u524d\u200b\u7684\u200b\u4e24\u79cd\u200b Nested Loop Join \u200b\u901f\u5ea6\u6162\u200b\u7684\u200b\u539f\u56e0\u200b\u5728\u4e8e\u200b\uff0c\u200b\u9700\u8981\u200b\u7ebf\u6027\u200b\u626b\u63cf\u200b\u4e00\u904d\u200b\u5185\u8868\u200b\uff0c\u200b\u5982\u679c\u200b\u5185\u8868\u200b\u5728\u200b Join Attributes \u200b\u4e0a\u200b\u6709\u200b\u7d22\u5f15\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u7528\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u7ebf\u6027\u200b\u626b\u63cf\u200b\u4e86\u200b\u3002DBMS \u200b\u53ef\u4ee5\u200b\u5728\u200b Join Attributes \u200b\u4e0a\u200b\u4e34\u65f6\u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b\u7d22\u5f15\u200b\uff0c\u200b\u6216\u8005\u200b\u5229\u7528\u200b\u5df2\u6709\u200b\u7684\u200b\u7d22\u5f15\u200b\u3002</p> <p></p> <p>\u200b\u5047\u8bbe\u200b\u6bcf\u6b21\u200b\u7d22\u5f15\u200b\u67e5\u8be2\u200b\u90fd\u200b\u9700\u8981\u200b \\(C\\) \u200b\u7684\u200b\u82b1\u8d39\u200b\uff0c\u200b\u90a3\u4e48\u200b\u78c1\u76d8\u200b I/O Cost\uff1a \\(M + (m \\times C)\\) \u3002</p> <p>Note</p> <p>Summary \u200b\u5173\u952e\u70b9\u200b\uff1a</p> <ol> <li>\u200b\u9009\u62e9\u200b\u5c0f\u8868\u200b\u4f5c\u4e3a\u200b\u5916\u8868\u200b</li> <li>\u200b\u7f13\u5b58\u200b\u5c3d\u53ef\u80fd\u200b\u591a\u200b\u7684\u200b\u5916\u8868\u200b\uff0c\u200b\u4ee5\u200b\u51cf\u5c0f\u200b\u5bf9\u5185\u200b\u8868\u200b\u7684\u200b\u5faa\u73af\u200b\u626b\u63cf\u200b\u6b21\u6570\u200b</li> <li>\u200b\u626b\u63cf\u200b\u5185\u8868\u65f6\u200b\uff0c\u200b\u5c3d\u53ef\u80fd\u200b\u5229\u7528\u200b\u7d22\u5f15\u200b</li> </ol>"},{"location":"db/cmu15445/L11/#sort-merge-join","title":"Sort-Merge Join","text":"<p>Phase # 1 - Sort \uff1a\u200b\u6839\u636e\u200b Join Keys \u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u8868\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff08\u200b\u53ef\u200b\u4f7f\u7528\u200b\u5916\u90e8\u200b\u6392\u5e8f\u200b\uff09</p> <p>Phase # 2 - Merge \uff1a\u200b\u7528\u200b\u53cc\u200b\u6307\u9488\u200b\u904d\u5386\u200b\u4e24\u4e2a\u200b\u8868\u200b\uff0c\u200b\u8f93\u51fa\u200b\u5339\u914d\u200b\u7684\u200b\u5143\u7ec4\u200b\uff08\u200b\u5982\u679c\u200b Join Keys \u200b\u5e76\u200b\u4e0d\u200b\u552f\u4e00\u200b\uff0c\u200b\u5219\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u6307\u9488\u200b\u7684\u200b\u56de\u9000\u200b\uff09</p> <p></p> <p>\ud83c\udf30</p> <p></p> <p>Lec10 \u200b\u4e2d\u200b\u6211\u4eec\u200b\u5b66\u4e60\u200b\u4e86\u200b\u5916\u90e8\u200b\u5f52\u5e76\u200b\u7b97\u6cd5\u200b\u7684\u200b\u9700\u200b\u904d\u5386\u200b\u6570\u636e\u200b \\(1 + \\lceil log_{B-1}{\\frac{N}{B}} \\rceil\\) \u200b\u6b21\u200b\uff08B \u200b\u8868\u793a\u200b\u7f13\u51b2\u200b\u9875\u200b\u6570\u91cf\u200b\uff0cN \u200b\u8868\u793a\u200b\u6570\u636e\u200b\u9875\u200b\u603b\u6570\u200b\uff09</p> <p>\u200b\u56e0\u6b64\u200b Sort-Merge Join \u200b\u7684\u200b\u78c1\u76d8\u200b I/O Cost\uff1a</p> <p>Sort Cost(R)\uff1a\\(2M \\times (1 + \\lceil log_{B-1}{\\frac{N}{B}} \\rceil)\\)</p> <p>Sort Cost(S)\uff1a\\(2N \\times (1 + \\lceil log_{B-1}{\\frac{N}{B}} \\rceil)\\)</p> <p>Merge Cost\uff1a\\(M + N\\)</p> <p>Total Cost\uff1aSort + Merge</p> <p>Warning</p> <p>\u200b\u8fd9\u79cd\u200b\u7b97\u6cd5\u200b\u6700\u574f\u200b\u7684\u200b\u60c5\u51b5\u200b\u662f\u200b\uff0c\u200b\u4e24\u4e2a\u200b\u8868\u200b\u7684\u200b\u6240\u6709\u200b tuple \u200b\u5728\u200b Join Keys \u200b\u4e0a\u200b\u7684\u200b\u503c\u200b\u90fd\u200b\u76f8\u540c\u200b\uff0c\u200b\u5219\u200b Merge Cost \u200b\u4f1a\u200b\u9000\u5316\u200b\u5230\u200b \\(M \\times N\\)\u3002</p> <p>\u200b\u4e0d\u8fc7\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u5728\u200b\u771f\u5b9e\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u4e0d\u592a\u53ef\u80fd\u200b\u53d1\u751f\u200b\u3002</p> <p>\ud83c\udf30 \u200b\u7528\u65f6\u200b 0.75 s\uff1a</p> <p></p> <p>Info</p> <p>Sort-Merge Join \u200b\u9002\u7528\u200b\u4e8e\u200b\uff1a</p> <ul> <li>\u200b\u5f53\u200b tables \u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6216\u8005\u200b\u4e24\u4e2a\u200b\u90fd\u200b\u5df2\u200b\u6309\u200b Join Key \u200b\u6392\u200b\u597d\u200b\u5e8f\u65f6\u200b (\u200b\u5982\u805a\u200b\u7c07\u200b\u7d22\u5f15\u200b)</li> <li>SQL \u200b\u7684\u200b\u8f93\u51fa\u200b\u5fc5\u987b\u200b\u6309\u200b Join Key \u200b\u6392\u5e8f\u200b\u65f6\u200b</li> </ul>"},{"location":"db/cmu15445/L11/#hash-join","title":"Hash Join","text":"<p>\u200b\u6838\u5fc3\u601d\u60f3\u200b\uff1a\u200b\u5982\u679c\u200b\u5206\u522b\u200b\u6765\u81ea\u200b R \u200b\u548c\u200b S \u200b\u4e2d\u200b\u7684\u200b\u4e24\u4e2a\u200b tuples \u200b\u6ee1\u8db3\u200b Join \u200b\u7684\u200b\u6761\u4ef6\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b Join Attributes \u200b\u5fc5\u7136\u200b\u76f8\u7b49\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b83\u4eec\u200b\u7684\u200b Join Attributes \u200b\u7ecf\u8fc7\u200b\u67d0\u4e2a\u200b hash function \u200b\u5f97\u5230\u200b\u7684\u200b\u503c\u200b\u4e5f\u200b\u5fc5\u7136\u200b\u76f8\u7b49\u200b\uff0c\u200b\u56e0\u6b64\u200b Join \u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u200b\u5bf9\u200b\u4e24\u4e2a\u200b tables \u200b\u4e2d\u200b hash \u200b\u5230\u200b\u540c\u6837\u200b\u503c\u200b\u7684\u200b tuples \u200b\u5206\u522b\u200b\u6267\u884c\u200b Join \u200b\u64cd\u4f5c\u200b\u5373\u53ef\u200b\u3002</p>"},{"location":"db/cmu15445/L11/#basic-hash-join","title":"Basic Hash Join","text":"<p>Phase # 1: Build \uff1a\u200b\u626b\u63cf\u200b\u5916\u8868\u200b\uff0c\u200b\u4f7f\u7528\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b \\(h1\\) \u200b\u5bf9\u200b Join Attributes \u200b\u5efa\u7acb\u200b\u54c8\u5e0c\u200b\u8868\u200b \\(T\\)</p> <ul> <li>\u200b\u82e5\u200b\u63d0\u524d\u200b\u5df2\u77e5\u200b\u5916\u8868\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5219\u200b\u53ef\u7528\u200b\u9759\u6001\u200b\u54c8\u5e0c\u200b\u8868\u200b (\u200b\u7ebf\u6027\u63a2\u67e5\u200b\u54c8\u5e0c\u200b\u8868\u73b0\u200b\u6700\u597d\u200b)\uff1b\u200b\u82e5\u200b\u4e0d\u200b\u77e5\u9053\u200b\uff0c\u200b\u5e94\u7528\u200b\u52a8\u6001\u200b\u54c8\u5e0c\u200b\u8868\u200b\uff0c\u200b\u4e14\u200b\u652f\u6301\u200b\u6ea2\u51fa\u200b\u9875\u200b\u3002</li> </ul> <p>Phase # 2: Probe \uff1a\u200b\u626b\u63cf\u200b\u5185\u8868\u200b\uff0c\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b tuple \u200b\u4f7f\u7528\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b \\(h1\\)\uff0c\u200b\u8ba1\u7b97\u200b\u5728\u200b \\(T\\) \u200b\u4e2d\u200b\u5bf9\u5e94\u200b\u7684\u200b bucket\uff0c\u200b\u5728\u200b bucket \u200b\u4e2d\u200b\u627e\u5230\u200b\u5339\u914d\u200b\u7684\u200b tuples</p> <p></p> <p>\u200b\u8fd9\u91cc\u200b\u660e\u786e\u200b\u54c8\u5e0c\u200b\u8868\u200b \\(T\\) \u200b\u7684\u200b\u5b9a\u4e49\u200b\uff1a</p> <ul> <li>Key\uff1aJoin Attributes</li> <li>Value\uff1a\u200b\u6839\u636e\u200b\u67e5\u8be2\u200b\u8981\u6c42\u200b\u4e0d\u540c\u200b\u53ca\u200b\u5b9e\u73b0\u200b\u4e0d\u540c\u200b\uff0cValue \u200b\u4e0d\u540c\u200b\uff08\u200b\u4e0e\u200b\ud83d\udc46\u200b\u8ba8\u8bba\u200b\u7684\u200b Join \u200b\u7684\u200b\u8f93\u51fa\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u53ef\u200b\u6709\u200b\u63d0\u524d\u200b\u7269\u5316\u200b\u548c\u200b\u5ef6\u8fdf\u200b\u7269\u5316\u200b\u4e24\u79cd\u200b\uff09<ul> <li>Full Tuple\uff1a\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u5728\u200b\u540e\u7eed\u200b\u64cd\u4f5c\u200b\u4e2d\u200b\u518d\u6b21\u200b\u83b7\u53d6\u6570\u636e\u200b\uff0c\u200b\u4f46\u200b\u9700\u8981\u200b\u5360\u7528\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u7a7a\u95f4\u200b</li> <li>Tuple Identifier\uff1a\u200b\u662f\u200b\u5217\u200b\u5b58\u50a8\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u7406\u60f3\u200b\u9009\u62e9\u200b\uff0c\u200b\u5360\u7528\u200b\u6700\u5c11\u200b\u7684\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u4f46\u200b\u4e4b\u540e\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u83b7\u53d6\u6570\u636e\u200b</li> </ul> </li> </ul> <p>\u200b\u4e00\u4e2a\u200b\u5927\u5c0f\u200b\u4e3a\u200b \\(N\\) \u200b\u9875\u200b\u7684\u200b\u8868\u200b\uff0c\u200b\u9700\u8981\u200b \\(\\sqrt{N}\\) \u200b\u4e2a\u200bbuffer\u3002\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u9644\u52a0\u200b\u7cfb\u6570\u200b \\(f\\)\uff0cI/O Cost\uff1a \\(B \\times \\sqrt{f \\times N}\\)\u3002</p> <p>\u200b\u4f46\u200b Basic Hash Join Algorithm \u200b\u6709\u200b\u4e00\u4e2a\u200b\u5f31\u70b9\u200b\uff0c\u200b\u5c31\u662f\u200b\u6709\u200b\u53ef\u80fd\u200b \\(T\\) \u200b\u65e0\u6cd5\u200b\u88ab\u200b\u653e\u8fdb\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u7531\u4e8e\u200b hash table \u200b\u7684\u200b\u67e5\u8be2\u200b\u4e00\u822c\u200b\u90fd\u200b\u662f\u200b\u968f\u673a\u200b\u67e5\u8be2\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b Probe \u200b\u9636\u6bb5\u200b\uff0c\\(T\\) \u200b\u53ef\u80fd\u200b\u5728\u200b memory \u200b\u4e0e\u200b disk \u200b\u4e2d\u200b\u6765\u56de\u200b\u79fb\u52a8\u200b\u3002</p>"},{"location":"db/cmu15445/L11/#optimizationprobe-filter","title":"Optimization\uff1aProbe Filter","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Bloom Filter \u200b\u6765\u200b\u4f18\u5316\u200b\u67e5\u8be2\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5f53\u200b\u952e\u503c\u200b\u4e0d\u200b\u5728\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u7528\u200b\u53bb\u67e5\u200b\u3002</p> <p>\u200b\u4e8e\u662f\u200b\u5728\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u627e\u200b\u4e4b\u524d\u200b\uff0c\u200b\u5148\u200b\u4f7f\u7528\u200b Bloom Filter (\u200b\u4e00\u4e2a\u200b\u6982\u7387\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u53ef\u200b\u653e\u5165\u200b CPU cache\uff0c\u200b\u901a\u8fc7\u200b\u5b83\u200b\u53ef\u200b\u5f97\u77e5\u200b\u4e00\u4e2a\u200b\u5143\u7d20\u200b\u5728\u200b\u4e0d\u200b\u5728\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u5047\u200b\u9634\u6027\u200b\uff0c\u200b\u4f46\u4f1a\u200b\u51fa\u73b0\u200b\u5047\u200b\u9633\u6027\u200b)\uff0c\u200b\u82e5\u200b Bloom Filter \u200b\u7ed3\u679c\u200b\u662f\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u4e0d\u7528\u200b\u53bb\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u627e\u200b\u3002</p> <p>Bloom Filter \u200b\u63d2\u5165\u200b\u9636\u6bb5\u200b\uff0c\u200b\u4f7f\u7528\u200b k \u200b\u4e2a\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b\uff0c\u200b\u5c06\u200b\u8fc7\u6ee4\u5668\u200b\u5bf9\u5e94\u200b\u4f4d\u8bbe\u200b\u4e3a\u200b1\uff1b\u200b\u67e5\u8be2\u200b\u9636\u6bb5\u200b\uff0c\u200b\u67e5\u770b\u200b\u8fc7\u6ee4\u5668\u200b k \u200b\u4e2a\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b\u503c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4f4d\u200b\u662f\u5426\u200b\u90fd\u200b\u662f\u200b1\u3002</p> <p></p> <p>\ud83c\udf30 \u200b\u51fa\u73b0\u200b\u5047\u200b\u9633\u6027\u200b\uff1a</p> <p></p>"},{"location":"db/cmu15445/L11/#partitioned-hash-joingrace-hash-join","title":"Partitioned Hash Join(GRACE hash join)","text":"<p>\u200b\u5f53\u200b\u5185\u5b58\u200b\u4e0d\u8db3\u4ee5\u200b\u653e\u4e0b\u200b\u8868\u65f6\u200b\uff0c\u200b\u4f60\u200b\u4e0d\u200b\u5e0c\u671b\u200b buffer pool manager \u200b\u4e0d\u65ad\u200b\u5c06\u8868\u200b\u6362\u5165\u200b\u6362\u200b\u51fa\u200b\u5185\u5b58\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u4f4e\u200b\u6027\u80fd\u200b\u3002</p> <p>Grace hash join\u200b\u662f\u200b\u57fa\u7840\u200b\u54c8\u5e0c\u200b\u8fde\u63a5\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6269\u5c55\u200b\uff0c\u200b\u5c06\u200b\u5185\u8868\u200b\u4e5f\u200b\u5236\u4f5c\u200b\u6210\u200b\u53ef\u4ee5\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b\u7684\u200b\u54c8\u5e0c\u200b\u8868\u200b\u3002</p> <p>Phase # 1: Build \uff1a\u200b\u5bf9\u200b\u4e24\u4e2a\u200b\u8868\u90fd\u200b\u4f7f\u7528\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b \\(h1\\)\uff0c\u200b\u5206\u522b\u200b\u5bf9\u200b Join Attributes \u200b\u5efa\u7acb\u200b\u54c8\u5e0c\u200b\u8868\u200b</p> <p>Phase # 2: Probe \uff1a\u200b\u6bd4\u8f83\u200b\u4e24\u4e2a\u200b\u8868\u200b\u5bf9\u5e94\u200b bucket \u200b\u7684\u200b tuples\uff0c\u200b\u8f93\u51fa\u200b\u5339\u914d\u200b\u7ed3\u679c\u200b</p> <p></p> <p>\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u6709\u200b\u8db3\u591f\u200b\u7684\u200b buffers \u200b\u80fd\u591f\u200b\u5b58\u200b\u4e0b\u200b\u4e2d\u95f4\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5219\u200b\u78c1\u76d8\u200b I/O Cost\uff1a\\(3(M + N)\\) \u3002\u200b\u5176\u4e2d\u200b partition \u200b\u9636\u6bb5\u200b\uff0c\u200b\u9700\u8981\u200b\u8bfb\u200b\u3001\u200b\u5199\u200b\u4e24\u4e2a\u200b\u8868\u200b\u5404\u200b\u4e00\u6b21\u200b\uff0cCost: \\(2(M + N)\\)\uff0cprobing \u200b\u9636\u6bb5\u200b\u8981\u8bfb\u200b\u4e24\u4e2a\u200b\u8868\u200b\u5404\u200b\u4e00\u6b21\u200b\uff0cCost: \\(M + N\\)\u3002</p> <p>\ud83c\udf30 \u200b\u7528\u65f6\u200b 0.45 s\uff1a</p> <p></p> <p>\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b bucket \u200b\u4e0d\u80fd\u200b\u653e\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u4f7f\u7528\u200b recursive partition\uff0c\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u5927\u200b bucket \u200b\u4f7f\u7528\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b\u518d\u200b\u8fdb\u884c\u200b\u54c8\u5e0c\u200b\uff0c\u200b\u4f7f\u200b\u5176\u80fd\u200b\u653e\u5165\u200b\u5185\u5b58\u200b\u4e2d\u200b\u3002</p> <p>\ud83c\udf30 \u200b\u901a\u8fc7\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b \\(h1\\) partition \u200b\u540e\u200b\u7684\u200b bucket1 \u200b\u592a\u5927\u200b\u6ca1\u200b\u529e\u6cd5\u200b\u653e\u5165\u200b\u5185\u5b58\u200b\uff0c\u200b\u5219\u200b\u5bf9\u200b bucket1 \u200b\u4f7f\u7528\u200b\u54c8\u865a\u200b\u51fd\u6570\u200b \\(h2\\) \u200b\u518d\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b partition\uff0c\u200b\u4f7f\u200b\u5b83\u200b\u80fd\u200b\u653e\u5165\u200b\u5185\u5b58\u200b\u3002\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u8868\u200b\u5339\u914d\u200b\u65f6\u200b\u4e5f\u200b\u8981\u200b\u8fdb\u884c\u200b\u76f8\u540c\u200b\u7684\u200b\u54c8\u5e0c\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L11/#optimizationhybrid-hash-join","title":"Optimization\uff1aHybrid Hash Join","text":"<p>\u200b\u5982\u679c\u200b key \u200b\u662f\u200b\u6709\u200b\u504f\u659c\u200b\u7684\u200b\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Hybrid Hash Join\uff1a\u200b\u8ba9\u200b DBMS \u200b\u5c06\u200b hot partition \u200b\u653e\u5728\u200b\u5185\u5b58\u200b\u7acb\u5373\u200b\u8fdb\u884c\u200b\u5339\u914d\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5c06\u200b\u5b83\u4eec\u200b\u6ea2\u51fa\u200b\u5230\u200b\u78c1\u76d8\u200b\u4e2d\u200b\u3002\uff08\u200b\u96be\u4ee5\u5b9e\u73b0\u200b\uff0c\u200b\u73b0\u5b9e\u200b\u4e2d\u200b\u5c11\u89c1\u200b\uff09</p> <p></p>"},{"location":"db/cmu15445/L11/#conclusion","title":"Conclusion","text":"<p>Hash Join \u200b\u5728\u200b\u7edd\u5927\u591a\u6570\u200b\u573a\u666f\u200b\u4e0b\u200b\u662f\u200b\u6700\u4f18\u200b\u9009\u62e9\u200b\u3002\u200b\u4f46\u200b\u5f53\u200b\u67e5\u8be2\u200b\u5305\u542b\u200b <code>ORDER BY</code> \u200b\u6216\u8005\u200b\u6570\u636e\u200b\u6781\u5176\u200b\u4e0d\u200b\u5747\u5300\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0cSort-Merge Join \u200b\u4f1a\u200b\u662f\u200b\u66f4\u597d\u200b\u7684\u200b\u9009\u62e9\u200b\u3002</p> <p>DBMSs \u200b\u5728\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f7f\u7528\u200b\u5176\u4e2d\u200b\u7684\u200b\u4e00\u79cd\u200b\u5230\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u3002</p>"},{"location":"db/cmu15445/L11/#addition","title":"Addition","text":"<p>\u200b\u8868\u200b\u8fde\u63a5\u200b\uff1a\u200b\u57fa\u4e8e\u200b\u8868\u683c\u200b\u4e4b\u95f4\u200b\u7684\u200b\u76f8\u540c\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u4f7f\u8868\u200b\u4e4b\u95f4\u200b\u53d1\u751f\u200b\u5173\u8054\u200b\uff0c\u200b\u8ba9\u200b\u4e24\u4e2a\u200b\u6216\u200b\u591a\u4e2a\u200b\u8868\u200b\u8fde\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\u3002\u200b\u4f7f\u7528\u200b <code>JOIN</code> \u200b\u5173\u952e\u5b57\u200b\uff0c\u200b\u4e14\u200b\u6761\u4ef6\u200b\u8bed\u53e5\u200b\u4f7f\u7528\u200b ON \u200b\u800c\u200b\u4e0d\u662f\u200b WHERE\u3002</p> <p>\u200b\u8fde\u63a5\u200b\u53ef\u4ee5\u200b\u66ff\u6362\u200b\u5b50\u200b\u67e5\u8be2\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6bd4\u5b50\u200b\u67e5\u8be2\u200b\u7684\u200b\u6548\u7387\u200b\u4e00\u822c\u200b\u4f1a\u200b\u66f4\u200b\u5feb\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b AS \u200b\u7ed9\u200b\u5217\u540d\u200b\u3001\u200b\u8ba1\u7b97\u200b\u5b57\u6bb5\u200b\u548c\u200b\u8868\u540d\u53d6\u200b\u522b\u540d\u200b\uff0c\u200b\u7ed9\u200b\u8868\u540d\u53d6\u200b\u522b\u540d\u200b\u662f\u200b\u4e3a\u4e86\u200b\u7b80\u5316\u200b SQL \u200b\u8bed\u53e5\u200b\u4ee5\u53ca\u200b\u8fde\u63a5\u200b\u76f8\u540c\u200b\u8868\u200b\u3002</p> <p>JOIN \u200b\u7b49\u4ef7\u200b\u4e8e\u200b INNER JOIN \u200b\u5185\u200b\u8fde\u63a5\u200b\u3002</p> <p>\u200b\u5185\u200b\u8fde\u63a5\u200b\uff1a\u200b\u53c8\u79f0\u200b  \u200b\u7b49\u503c\u200b\u8fde\u63a5\u200b \uff0c\u200b\u4f7f\u7528\u200b <code>INNER JOIN</code> \u200b\u5173\u952e\u5b57\u200b\u3002\u200b\u8fd4\u56de\u200b\u4e24\u4e2a\u200b\u8868\u4e2d\u200b\u90fd\u200b\u6709\u200b\u7684\u200b\u7b26\u5408\u6761\u4ef6\u200b\u7684\u200b\u884c\u200b\u3002</p> <pre><code>SELECT A.value, B.value\nFROM tablea AS A INNER JOIN tableb AS B\nON A.key = B.key;\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u660e\u786e\u200b\u4f7f\u7528\u200b INNER JOIN\uff0c\u200b\u800c\u200b\u4f7f\u7528\u200b\u666e\u901a\u200b\u67e5\u8be2\u200b\u5e76\u200b\u5728\u200b WHERE \u200b\u4e2d\u5c06\u200b\u4e24\u4e2a\u200b\u8868\u4e2d\u8981\u200b\u8fde\u63a5\u200b\u7684\u200b\u5217\u7528\u200b\u7b49\u503c\u200b\u65b9\u6cd5\u200b\u8fde\u63a5\u8d77\u6765\u200b\u3002</p> <pre><code>SELECT A.value, B.value\nFROM tablea AS A, tableb AS B\nWHERE A.key = B.key;\n</code></pre> <p>\u200b\u81ea\u200b\u8fde\u63a5\u200b\uff1a\u200b\u53ef\u4ee5\u200b\u770b\u6210\u200b\u5185\u200b\u8fde\u63a5\u200b\u7684\u200b\u4e00\u79cd\u200b\uff0c\u200b\u53ea\u662f\u200b\u8fde\u63a5\u200b\u7684\u200b\u8868\u662f\u200b\u81ea\u8eab\u200b\u800c\u5df2\u200b\u3002</p> <pre><code>-- \u200b\u5b50\u200b\u67e5\u8be2\u200b\u7248\u672c\u200b --\nSELECT name\nFROM employee\nWHERE department = (\n      SELECT department\n      FROM employee\n      WHERE name = \"Jim\");\n-- \u200b\u81ea\u200b\u8fde\u63a5\u200b\u7248\u672c\u200b --\nSELECT e1.name\nFROM employee AS e1 INNER JOIN employee AS e2\nON e1.department = e2.department\n      AND e2.name = \"Jim\";\n</code></pre> <p>\u200b\u81ea\u7136\u200b\u8fde\u63a5\u200b\uff1a\u200b\u628a\u200b\u540c\u200b\u540d\u5217\u200b\u901a\u8fc7\u200b\u7b49\u503c\u200b\u6d4b\u8bd5\u200b\u8fde\u63a5\u8d77\u6765\u200b\u7684\u200b\uff0c\u200b\u540c\u200b\u540d\u5217\u200b\u53ef\u4ee5\u200b\u6709\u200b\u591a\u4e2a\u200b\u3002\u200b\u5173\u952e\u5b57\u200b <code>NATUAL JOIN</code>\u3002</p> <p>\u200b\u5185\u200b\u8fde\u63a5\u200b\u548c\u200b\u81ea\u7136\u200b\u8fde\u63a5\u200b\u7684\u200b\u533a\u522b\u200b\uff1a\u200b\u5185\u200b\u8fde\u63a5\u200b\u63d0\u4f9b\u200b\u8fde\u63a5\u200b\u7684\u200b\u5217\u200b\uff0c\u200b\u800c\u200b\u81ea\u7136\u200b\u8fde\u63a5\u200b\u81ea\u52a8\u200b\u8fde\u63a5\u200b\u6240\u6709\u200b\u540c\u200b\u540d\u5217\u200b\u3002</p> <pre><code>SELECT A.value, B.value\nFROM tablea AS A NATURAL JOIN tableb AS B;\n</code></pre> <p>\u200b\u5916\u200b\u8fde\u63a5\u200b\uff1a\u200b\u4fdd\u7559\u200b\u4e86\u200b\u6ca1\u6709\u200b\u5173\u8054\u200b\u7684\u200b\u90a3\u4e9b\u200b\u884c\u200b\u3002\u200b\u5305\u62ec\u200b\u5de6\u5916\u200b\u8fde\u63a5\u200b\u3001\u200b\u53f3\u5916\u200b\u8fde\u63a5\u200b\u3001\u200b\u5168\u5916\u200b\u8fde\u63a5\u200b\u3002</p> <ul> <li>\u200b\u5de6\u5916\u200b\u8fde\u63a5\u200b\uff1a\u200b\u4fdd\u7559\u200b\u5de6\u8868\u200b\u6ca1\u6709\u200b\u5173\u8054\u200b\u7684\u200b\u884c\u200b\u3002\u200b\u6ca1\u6709\u200b\u5173\u8054\u200b\u7684\u200b\u884c\u200b\u5bf9\u5e94\u200b\u53f3\u8868\u200b\u7684\u200b\u6240\u6709\u200b\u9009\u62e9\u200b\u5217\u4e3a\u200b\u7a7a\u503c\u200b\u3002\u200b\u5173\u952e\u5b57\u200b <code>LEFT JOIN/LEFT OUTER JOIN</code>\u3002</li> <li>\u200b\u53f3\u5916\u200b\u8fde\u63a5\u200b\uff1a\u200b\u4fdd\u7559\u200b\u53f3\u8868\u200b\u6ca1\u6709\u200b\u5173\u8054\u200b\u7684\u200b\u884c\u200b\u3002\u200b\u5173\u952e\u5b57\u200b <code>RIGHT JOIN/RIGHT OUTER JOIN</code>\u3002</li> <li>\u200b\u5168\u5916\u200b\u8fde\u63a5\u200b\uff1a\u200b\u4fdd\u7559\u200b\u5de6\u53f3\u200b\u8868\u200b\u6240\u6709\u200b\u6ca1\u6709\u200b\u5173\u8054\u200b\u7684\u200b\u884c\u200b\u3002\u200b\u5f53\u200b\u67d0\u884c\u200b\u5728\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u8868\u4e2d\u200b\u6ca1\u6709\u200b\u5339\u914d\u200b\u884c\u65f6\u200b\uff0c\u200b\u5219\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u8868\u200b\u7684\u200b\u9009\u62e9\u200b\u5217\u8868\u200b\u5217\u200b\u5305\u542b\u200b\u7a7a\u503c\u200b\u3002\u200b\u5173\u952e\u5b57\u200b <code>FULL JOIN/FULL OUTER JOIN</code>\u3002</li> </ul>"},{"location":"db/cmu15445/L12/","title":"Query Execution I","text":"<p> \u200b\u7ea6\u200b 2023 \u200b\u4e2a\u200b\u5b57\u200b  8 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 7 \u200b\u5206\u949f\u200b</p>"},{"location":"db/cmu15445/L12/#query-plan","title":"Query Plan","text":"<p>\u200b\u901a\u5e38\u200b\u4e00\u4e2a\u200b SQL \u200b\u8bed\u53e5\u200b\u4f1a\u200b\u88ab\u200b\u7ec4\u7ec7\u200b\u6210\u5982\u56fe\u200b\u7684\u200b\u6811\u72b6\u200b\u67e5\u8be2\u200b\u8ba1\u5212\u200b\uff0c\u200b\u6570\u636e\u200b\u4ece\u53f6\u200b\u8282\u70b9\u200b\u6d41\u5230\u200b\u6839\u200b\u8282\u70b9\u200b\uff0c\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u5728\u200b\u6839\u200b\u8282\u70b9\u200b\u4e2d\u200b\u5f97\u51fa\u200b\u3002</p> <p>\u200b\u901a\u5e38\u200b\uff0c\u200b\u6811\u4e0a\u200b\u7684\u200b\u64cd\u4f5c\u7b26\u200b operators \u200b\u662f\u200b\u4e8c\u5143\u200b\u7684\u200b (1~2\u200b\u4e2a\u5b50\u200b\u8fd0\u7b97\u7b26\u200b)\u3002</p> <p></p> <p>\u200b\u800c\u672c\u8282\u200b\u5c06\u200b\u8ba8\u8bba\u200b\u5728\u200b\u8fd9\u6837\u200b\u4e00\u4e2a\u200b\u8ba1\u5212\u200b\u4e2d\u200b\uff0c\u200b\u5982\u4f55\u200b\u4e3a\u200b\u8fd9\u4e2a\u200b\u6570\u636e\u200b\u6d41\u52a8\u200b\u8fc7\u7a0b\u200b\u5efa\u6a21\u200b\uff0c\u200b\u5927\u7eb2\u200b\u5982\u4e0b\u200b\uff1a</p> <ul> <li>Processing Models</li> <li>Access Methods</li> <li>Expression Evaluation</li> </ul>"},{"location":"db/cmu15445/L12/#processing-models","title":"Processing Models","text":"<p>DBMS \u200b\u7684\u200b processing model \u200b\u5b9a\u4e49\u200b\u4e86\u200b\u7cfb\u7edf\u200b\u5982\u4f55\u200b\u6267\u884c\u200b\u4e00\u4e2a\u200b query plan\u3002\u200b\u76ee\u524d\u200b\u4e3b\u8981\u200b\u6709\u200b\u4e09\u79cd\u200b\u6a21\u578b\u200b\uff1a</p> <ul> <li>\u200b\u8fed\u4ee3\u200b\u6a21\u578b\u200b\uff08Iterator Model\uff09</li> <li>\u200b\u7269\u5316\u200b\u6a21\u578b\u200b\uff08Materialization Model\uff09</li> <li>\u200b\u5411\u200b\u91cf\u5316\u200b/\u200b\u6279\u5904\u7406\u200b\u6a21\u578b\u200b\uff08Vectorized/Batch Model\uff09</li> </ul> <p>\u200b\u4e0d\u540c\u200b\u6a21\u578b\u200b\u9002\u7528\u200b\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b workload\u3002</p>"},{"location":"db/cmu15445/L12/#iterator-model","title":"Iterator Model","text":"<p>\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b processing model\uff0c\u200b\u4e5f\u200b\u79f0\u4e3a\u200b Volcano/Pipeline Model\u3002</p> <p>query plan \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u6b65\u200b operator \u200b\u90fd\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b <code>next</code> \u200b\u51fd\u6570\u200b\uff0c \u200b\u6bcf\u6b21\u200b\u8c03\u7528\u200b\u65f6\u200b\uff0coperator \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b tuple \u200b\u6216\u8005\u200b null \uff0c\u200b\u540e\u8005\u200b\u8868\u793a\u200b\u6570\u636e\u200b\u5df2\u7ecf\u200b\u904d\u5386\u200b\u5b8c\u6bd5\u200b\u3002operator \u200b\u672c\u8eab\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8c03\u7528\u200b\u5176\u200b child operators \u200b\u7684\u200b next \u200b\u51fd\u6570\u200b\uff0c\u200b\u4ece\u200b\u5b83\u4eec\u200b\u90a3\u8fb9\u200b\u83b7\u53d6\u200b\u4e0b\u200b\u4e00\u6761\u200b\u6570\u636e\u200b\u4f9b\u200b\u81ea\u5df1\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8fd9\u6837\u200b\u6574\u4e2a\u200b query plan \u200b\u5c31\u200b\u88ab\u200b\u4ece\u200b\u4e0a\u200b\u81f3\u200b\u4e0b\u200b\u5730\u200b\u4e32\u8054\u200b\u8d77\u6765\u200b\uff1a</p> <p></p> <p>\u200b\u6b64\u200b\u6a21\u578b\u200b\u51e0\u4e4e\u200b\u88ab\u200b\u7528\u200b\u5728\u200b\u6bcf\u4e2a\u200b (\u200b\u57fa\u4e8e\u200b\u884c\u200b) DBMS \u200b\u4e2d\u200b\uff0c\u200b\u5305\u62ec\u200b sqlite\u3001MySQL\u3001PostgreSQL \u200b\u7b49\u7b49\u200b\u3002\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff1a</p> <ul> <li>\u200b\u6709\u4e9b\u200b operators \u200b\u4e00\u76f4\u200b\u963b\u585e\u200b\uff0c\u200b\u76f4\u5230\u200b children \u200b\u8fd4\u56de\u200b\u6240\u6709\u200b tuples\uff0c\u200b\u8fd9\u4e9b\u200b operators \u200b\u88ab\u200b\u6210\u4e3a\u200b <code>pipeline breakers</code>\u3002\u200b\u5982\u200b Joins, Subqueries \u200b\u548c\u200b Order By\u3002</li> <li>\u200b\u5728\u200b\u8be5\u200b\u6a21\u578b\u200b\u4e2d\u200b\u5b9e\u73b0\u200b Output Control \u200b\u6bd4\u8f83\u200b\u5bb9\u6613\u200b\uff0c\u200b\u5982\u200b Limit\uff0c\u200b\u53ea\u7528\u200b\u6309\u200b\u9700\u200b\u8c03\u7528\u200b next \u200b\u5373\u53ef\u200b (\u200b\u4e00\u65e6\u200b\u83b7\u53d6\u200b\u4e86\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u8db3\u591f\u200b tuples \u200b\u5c31\u200b\u505c\u6b62\u200b\u5bf9\u200b child operator \u200b\u8c03\u7528\u200b next)\u3002</li> </ul>"},{"location":"db/cmu15445/L12/#materialization-model","title":"Materialization Model","text":"<p>\u200b\u6bcf\u4e2a\u200b operator  \u200b\u4e00\u6b21\u200b\u5904\u7406\u200b\u5176\u200b\u6240\u6709\u200b\u8f93\u5165\u200b \uff0c\u200b\u7136\u540e\u200b \u200b\u5c06\u200b\u6240\u6709\u200b\u7ed3\u679c\u200b\u4e00\u6b21\u6027\u200b\u8f93\u51fa\u200b \u3002DBMS \u200b\u4f1a\u200b\u5c06\u200b\u4e00\u4e9b\u200b\u53c2\u6570\u4f20\u9012\u200b\u5230\u200b operator \u200b\u4e2d\u200b\u9632\u6b62\u200b\u5904\u7406\u200b\u8fc7\u591a\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u8fd9\u662f\u200b\u4e00\u79cd\u200b bottom-to-top \u200b\u7684\u200b\u601d\u8def\u200b\u3002</p> <p>\u200b\u6bcf\u4e2a\u200b\u67e5\u8be2\u200b\u8ba1\u5212\u200b\u64cd\u4f5c\u7b26\u200b\u90fd\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b <code>Output</code> \u200b\u51fd\u6570\u200b\uff1a</p> <ul> <li>\u200b\u64cd\u4f5c\u7b26\u200b\u4e00\u6b21\u200b\u5904\u7406\u200b\u5176\u200b\u5b50\u4ee3\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7ec4\u200b\u3002</li> <li>\u200b\u6b64\u200b\u51fd\u6570\u200b\u7684\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u662f\u200b\u8fd0\u7b97\u7b26\u200b\u5c06\u200b\u53d1\u51fa\u200b\u7684\u200b\u6240\u6709\u200b\u5143\u7ec4\u200b\u3002\u200b\u5f53\u200b\u64cd\u4f5c\u7b26\u200b\u5b8c\u6210\u200b\u6267\u884c\u200b\u65f6\u200b\uff0cDBMS \u200b\u518d\u4e5f\u200b\u4e0d\u200b\u9700\u8981\u200b\u8fd4\u56de\u200b\u5230\u200b \u200b\u5b83\u200b\u6765\u200b\u68c0\u7d22\u200b\u66f4\u200b\u591a\u200b\u6570\u636e\u200b\u3002</li> </ul> <p></p> <p>materialization model\uff1a</p> <ul> <li>\u200b\u66f4\u200b\u9002\u5408\u200b OLTP \u200b\u573a\u666f\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u540e\u8005\u200b\u901a\u5e38\u200b\u6307\u200b\u9700\u8981\u200b\u5904\u7406\u200b\u5c11\u91cf\u200b\u7684\u200b tuples\uff0c\u200b\u8fd9\u6837\u200b\u80fd\u200b\u51cf\u5c11\u200b\u4e0d\u5fc5\u8981\u200b\u7684\u200b\u6267\u884c\u200b\u3001\u200b\u8c03\u5ea6\u200b\u6210\u672c\u200b\u3002</li> <li>\u200b\u4e0d\u592a\u200b\u9002\u5408\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u5927\u91cf\u200b\u4e2d\u95f4\u200b\u7ed3\u679c\u200b\u7684\u200b OLAP \u200b\u67e5\u8be2\u200b\uff0c\u200b\u56e0\u4e3a\u200bDBMS\u200b\u53ef\u80fd\u200b\u4e0d\u5f97\u4e0d\u200b\u5728\u200b operators \u200b\u4e4b\u95f4\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u7ed3\u679c\u200b\u6ea2\u51fa\u200b\u5230\u200b\u78c1\u76d8\u200b\u3002</li> </ul>"},{"location":"db/cmu15445/L12/#vectorization-model","title":"Vectorization Model","text":"<p>Vectorization Model \u200b\u662f\u200b Iterator \u200b\u4e0e\u200b Materialization Model \u200b\u6298\u8877\u200b\u7684\u200b\u4e00\u79cd\u200b\u6a21\u578b\u200b\uff1a</p> <ul> <li>\u200b\u6bcf\u4e2a\u200b operator \u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b <code>next</code> \u200b\u51fd\u6570\u200b\uff0c\u200b\u4f46\u200b \u200b\u6bcf\u6b21\u200b next \u200b\u8c03\u7528\u200b\u8fd4\u56de\u200b\u4e00\u6279\u200b tuples \uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5355\u4e2a\u200b tuple</li> <li>operator \u200b\u5185\u90e8\u200b\u7684\u200b\u5faa\u73af\u200b\u6bcf\u6b21\u200b\u4e5f\u200b\u662f\u200b\u4e00\u6279\u200b\u4e00\u6279\u200b tuples \u200b\u5730\u200b\u5904\u7406\u200b</li> <li>batch \u200b\u7684\u200b\u5927\u5c0f\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u6539\u53d8\u200b ( hardware\u3001query properties)</li> </ul> <p></p> <p>vectorization model \u200b\u662f\u200b OLAP \u200b\u67e5\u8be2\u200b\u7684\u200b\u7406\u60f3\u200b\u6a21\u578b\u200b\uff1a</p> <ul> <li>\u200b\u6781\u5927\u200b\u5730\u200b\u51cf\u5c11\u200b\u6bcf\u4e2a\u200b operator \u200b\u7684\u200b\u8c03\u7528\u200b\u6b21\u6570\u200b</li> <li>\u200b\u5141\u8bb8\u200b operators \u200b\u4f7f\u7528\u200b vectorized instructions (SIMD) \u200b\u6765\u200b\u6279\u91cf\u200b\u5904\u7406\u200b tuples</li> </ul> <p>\u200b\u76ee\u524d\u200b\u5728\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\u6a21\u578b\u200b\u7684\u200b DBMS \u200b\u6709\u200b VectorWise, Peloton, Preston, SQL Server, ORACLE, DB2 \u200b\u7b49\u200b\u3002</p>"},{"location":"db/cmu15445/L12/#processing-direction","title":"Processing Direction","text":"<p>1\u3001Top-to-Bottom\uff1a\u200b\u4ece\u200b\u4e0a\u200b\u5f80\u200b\u4e0b\u200b\u6267\u884c\u200b\uff0c\u200b\u4ece\u200b\u5b69\u5b50\u200b\u7ed3\u70b9\u200b pull \u200b\u6570\u636e\u200b\u3002</p> <p>2\u3001Bottom-to-Top\uff1a\u200b\u4ece\u200b\u4e0b\u200b\u5f80\u200b\u4e0a\u200b\u6267\u884c\u200b\uff0c\u200b\u5411\u7236\u200b\u7ed3\u70b9\u200b push \u200b\u6570\u636e\u200b\u3002</p> Models Direction Emits Target Iterator/Volcano Top-Down Single Tuple General Purpose Materialization Bottom-Up Entire Tuple Set OLTP Vectorized Top-Down Tuple Batch OLAP"},{"location":"db/cmu15445/L12/#access-methods","title":"Access Methods","text":"<p>access method \u200b\u6307\u200b\u7684\u200b\u662f\u200b DBMS \u200b\u4ece\u200b\u6570\u636e\u8868\u200b\u4e2d\u200b\u83b7\u53d6\u6570\u636e\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u5b83\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5728\u200b relational algebra \u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u3002\u200b\u4e3b\u8981\u200b\u6709\u200b\u4e09\u79cd\u200b\u65b9\u6cd5\u200b\uff1a</p> <ul> <li>Sequential Scan</li> <li>Index Scan</li> <li>Multi-Index/\"Bitmap\" Scan</li> </ul> <p>\u200b\u76f8\u540c\u200b\u7684\u200b\u67e5\u8be2\u200b\u8ba1\u5212\u200b\u53ef\u4ee5\u200b\u4ee5\u200b\u591a\u79cd\u200b\u65b9\u5f0f\u200b\u6267\u884c\u200b\uff0c\u200b\u591a\u6570\u200b DBMS \u200b\u90fd\u200b\u5e0c\u671b\u200b\u5c3d\u53ef\u80fd\u200b\u591a\u5730\u200b\u4f7f\u7528\u200b Index Scan\u3002</p>"},{"location":"db/cmu15445/L12/#sequential-scan","title":"Sequential Scan","text":"<p>sequential scan \u200b\u5c31\u662f\u200b\u6309\u200b\u987a\u5e8f\u200b\u4ece\u200b table \u200b\u6240\u5728\u200b\u7684\u200b pages \u200b\u4e2d\u200b\u53d6\u51fa\u200b tuple\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u662f\u200b DBMS \u200b\u80fd\u200b\u505a\u200b\u7684\u200b\u6700\u574f\u200b\u7684\u200b\u6253\u7b97\u200b\u3002</p> <pre><code>for page in table.pages:\n    for t in page.tuples:\n        if evalPred(t):\n          // do something\n</code></pre> <p>DBMS \u200b\u5185\u90e8\u200b\u9700\u8981\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b cursor \u200b\u6765\u200b\u8ffd\u8e2a\u200b\u4e4b\u524d\u200b\u8bbf\u95ee\u200b\u5230\u200b\u7684\u200b\u4f4d\u7f6e\u200b (page/slot)\u3002</p> <p>Sequential Scan \u200b\u662f\u200b\u6700\u5dee\u200b\u7684\u200b\u65b9\u6848\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e5f\u200b\u9488\u5bf9\u200b\u5730\u6709\u200b\u8bb8\u591a\u200b\u4f18\u5316\u200b\u65b9\u6848\u200b\uff1a</p> <ul> <li>Prefetching</li> <li>Parallelization</li> <li>Buffer Pool Bypass</li> <li>(\u200b\u672c\u200b\u8282\u200b) Zone Maps</li> <li>(\u200b\u672c\u200b\u8282\u200b) Late Materialization</li> <li>(\u200b\u672c\u200b\u8282\u200b) Heap Clustering</li> </ul>"},{"location":"db/cmu15445/L12/#zone-maps","title":"Zone Maps","text":"<p>\u200b\u9884\u5148\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b page \u200b\u8ba1\u7b97\u200b\u597d\u200b attribute values \u200b\u7684\u200b\u4e00\u4e9b\u200b\u7edf\u8ba1\u200b\u503c\u200b (\u200b\u6700\u5927\u503c\u200b\uff0c\u200b\u6700\u5c0f\u503c\u200b\uff0c\u200b\u5e73\u5747\u503c\u200b)\uff0c\u200b\u5e76\u200b\u5b58\u5165\u200b zone map \u200b\u4e2d\u200b\u3002DBMS \u200b\u5728\u200b\u8bbf\u95ee\u200b page \u200b\u4e4b\u524d\u200b\u5148\u200b\u68c0\u67e5\u200b zone map\uff0c\u200b\u786e\u8ba4\u200b\u4e00\u4e0b\u200b\u662f\u5426\u200b\u8981\u200b\u7ee7\u7eed\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u5f53\u200b DBMS \u200b\u53d1\u73b0\u200b page \u200b\u7684\u200b Zone Map \u200b\u4e2d\u200b\u8bb0\u5f55\u200b val \u200b\u7684\u200b\u6700\u5927\u503c\u200b\u4e3a\u200b 400 \u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u6ca1\u6709\u200b\u5fc5\u8981\u200b\u8bbf\u95ee\u200b\u8fd9\u4e2a\u200b page\u3002</p>"},{"location":"db/cmu15445/L12/#late-materialization","title":"Late Materialization","text":"<p>\u200b\u5bf9\u4e8e\u200b\u5217\u200b\u5b58\u50a8\u200b\u7684\u200b DBMS\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5ef6\u8fdf\u200b\u5c06\u200b\u6570\u636e\u200b\u4ece\u200b\u4e00\u4e2a\u200b operator \u200b\u4f20\u9012\u200b\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b operator \u200b\u7684\u200b\u65f6\u95f4\u200b\u3002\u200b\u82e5\u200b\u67d0\u5217\u200b\u6570\u636e\u200b\u5728\u200b\u67e5\u8be2\u200b\u6811\u4e0a\u200b\u65b9\u200b\u5e76\u4e0d\u9700\u8981\u200b\uff0c\u200b\u90a3\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5411\u4e0a\u200b\u4f20\u9012\u200b offset \u200b\u6216\u8005\u200b\u5c06\u200b column id \u200b\u5373\u53ef\u200b\u3002\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u5141\u8bb8\u200b\u7a0d\u540e\u200b\u624d\u200b\u53bb\u200b\u83b7\u53d6\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p>"},{"location":"db/cmu15445/L12/#heap-clustering","title":"Heap Clustering","text":"<p>\u200b\u4f7f\u7528\u200b clustering index \u200b\u65f6\u200b\uff0ctuples \u200b\u5728\u200b page \u200b\u4e2d\u200b\u6309\u7167\u200b\u76f8\u5e94\u200b\u7684\u200b\u987a\u5e8f\u6392\u5217\u200b\uff0c\u200b\u5982\u679c\u200b\u67e5\u8be2\u200b\u8bbf\u95ee\u200b\u7684\u200b\u662f\u200b\u88ab\u200b\u7d22\u5f15\u200b\u7684\u200b attributes\uff0cDBMS \u200b\u5c31\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8df3\u8dc3\u200b\u8bbf\u95ee\u200b\u76ee\u6807\u200b tuples\u3002</p>"},{"location":"db/cmu15445/L12/#index-scan","title":"Index Scan","text":"<p>DBMS \u200b\u9009\u62e9\u200b\u4e00\u4e2a\u200b index \u200b\u6765\u200b\u627e\u5230\u200b\u67e5\u8be2\u200b\u9700\u8981\u200b\u7684\u200b tuples\u3002\u200b\u4f7f\u7528\u200b\u54ea\u4e2a\u200b index \u200b\u53d6\u51b3\u4e8e\u200b\u4ee5\u4e0b\u200b\u51e0\u4e2a\u200b\u56e0\u7d20\u200b\uff1a</p> <ul> <li>index \u200b\u5305\u542b\u200b\u54ea\u4e9b\u200b attributes</li> <li>\u200b\u67e5\u8be2\u200b\u5f15\u7528\u200b\u4e86\u200b\u54ea\u4e9b\u200b attributes</li> <li>attribute \u200b\u7684\u200b\u5b9a\u4e49\u57df\u200b</li> <li>predicate composition</li> <li>index \u200b\u7684\u200b key \u200b\u662f\u200b unique \u200b\u8fd8\u662f\u200b non-unique</li> </ul> <p>\u200b\u8fd9\u4e9b\u200b\u95ee\u9898\u200b\u90fd\u200b\u5c06\u200b\u5728\u200b\u540e\u9762\u200b\u7684\u200b\u8bfe\u7a0b\u200b\u4e2d\u200b\u8be6\u7ec6\u63cf\u8ff0\u200b\uff0c\u200b\u672c\u200b\u8282\u200b\u53ea\u662f\u200b\u5bf9\u200b Index Scan \u200b\u4f5c\u200b\u6982\u62ec\u6027\u200b\u4ecb\u7ecd\u200b\u3002</p> <p>\u200b\u5c3d\u7ba1\u200b\u9009\u62e9\u200b\u54ea\u4e2a\u200b Index \u200b\u53d6\u51b3\u4e8e\u200b\u5f88\u591a\u200b\u56e0\u7d20\u200b\uff0c\u200b\u4f46\u200b\u5176\u200b\u6838\u5fc3\u601d\u60f3\u200b\u5c31\u662f\u200b\uff0c\u200b\u8d8a\u200b\u65e9\u200b\u8fc7\u6ee4\u200b\u6389\u200b\u8d8a\u200b\u591a\u200b\u7684\u200b tuples \u200b\u8d8a\u200b\u597d\u200b\uff0c\u200b\u5982\u200b\u4e0b\u9762\u200b\u8fd9\u4e2a\u200b query \u200b\u6240\u793a\u200b\uff1a</p> <pre><code>SELECT * FROM students\n WHERE age &lt; 30\n   AND dept = 'CS'\n   AND country = 'US';\n</code></pre> <p>students \u200b\u5728\u200b\u4e0d\u540c\u200b attributes \u200b\u4e0a\u200b\u7684\u200b\u5206\u5e03\u200b\u53ef\u80fd\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> <p>Scenario # 1\uff1a30 \u200b\u5c81\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u4eba\u200b\u6709\u200b 99 \u200b\u4eba\u200b\uff0c\u200b\u4f46\u200b CS \u200b\u90e8\u95e8\u200b\u53ea\u6709\u200b 2 \u200b\u4eba\u200b\u3002</p> <p>Scenario # 2\uff1aCS \u200b\u90e8\u95e8\u200b\u6709\u200b 99 \u200b\u4eba\u200b\uff0c\u200b\u4f46\u200b 30 \u200b\u5c81\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u53ea\u6709\u200b 2 \u200b\u4eba\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b Scenario1\uff0c\u200b\u4f7f\u7528\u200b dept \u200b\u7684\u200b index \u200b\u80fd\u200b\u8fc7\u6ee4\u200b\u6389\u200b\u66f4\u200b\u591a\u200b\u7684\u200b tuples\uff1b\u200b\u5bf9\u4e8e\u200b Scenario 2\uff0c\u200b\u4f7f\u7528\u200b country \u200b\u7684\u200b index \u200b\u80fd\u200b\u8fc7\u6ee4\u200b\u6389\u200b\u66f4\u200b\u591a\u200b\u7684\u200b tuples\u3002</p>"},{"location":"db/cmu15445/L12/#multi-index-scan","title":"Multi-index Scan","text":"<p>\u200b\u5982\u679c\u200b\u6709\u200b\u591a\u4e2a\u200b indexes \u200b\u540c\u65f6\u200b\u53ef\u4ee5\u200b\u4f9b\u200b DBMS \u200b\u4f7f\u7528\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u505a\u200b\u8fd9\u6837\u200b\u7684\u200b\u4e8b\u60c5\u200b\uff1a</p> <ul> <li>\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7b26\u5408\u200b\u6bcf\u4e2a\u200b index \u200b\u7684\u200b tuple id sets</li> <li>\u200b\u57fa\u4e8e\u200b predicates (union vs. intersection) \u200b\u6765\u200b\u786e\u5b9a\u200b\u662f\u200b\u5bf9\u200b\u96c6\u5408\u200b\u53d6\u200b\u4ea4\u96c6\u200b\u8fd8\u662f\u200b\u5e76\u96c6\u200b</li> <li>\u200b\u53d6\u51fa\u200b\u76f8\u5e94\u200b\u7684\u200b tuples \u200b\u5e76\u200b\u5b8c\u6210\u200b\u5269\u4e0b\u200b\u7684\u200b\u5904\u7406\u200b</li> </ul> <p>\u200b\u4ecd\u7136\u200b\u4ee5\u4e0a\u200b\u4e00\u4e2a\u200b SQL \u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b \u200b\u5728\u200bage \u200b\u548c\u200b dept \u200b\u4e0a\u200b\u5efa\u7acb\u200b\u7d22\u5f15\u200b\uff0c\u200b\u4f7f\u7528\u200b multi-index scan \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u5176\u4e2d\u200b\u53d6\u200b\u96c6\u5408\u200b\u4ea4\u96c6\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b bitmaps, hash tables \u200b\u6216\u8005\u200b bloom filters\u3002</p> <p>Postgres \u200b\u79f0\u200b multi-index scan \u200b\u4e3a\u200b Bitmap Scan\u3002</p>"},{"location":"db/cmu15445/L12/#index-scan-page-sorting","title":"Index Scan Page Sorting","text":"<p>\u200b\u5f53\u200b\u4f7f\u7528\u200b\u7684\u200b\u4e0d\u662f\u200b clustering index \u200b\u65f6\u200b\uff0c\u200b\u6309\u200b index \u200b\u987a\u5e8f\u200b\u68c0\u7d22\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u975e\u5e38\u200b\u4f4e\u6548\u200b\u7684\u200b\uff0c\u200b\u56e0\u4e3a\u200b DBMS \u200b\u5f88\u200b\u6709\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u4e0d\u65ad\u200b\u5730\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b pages \u200b\u4e4b\u95f4\u200b\u6765\u56de\u200b\u5207\u6362\u200b\uff0c\u200b\u8fd9\u4f1a\u200b\u5bfc\u81f4\u200b\u8bb8\u591a\u200b\u6ca1\u6709\u200b\u5fc5\u8981\u200b\u7684\u200bI/O\u3002\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0cDBMS \u200b\u901a\u5e38\u200b\u4f1a\u5148\u200b\u627e\u5230\u200b\u6240\u6709\u200b\u9700\u8981\u200b\u7684\u200b tuples\uff0c\u200b\u6839\u636e\u200b\u5b83\u4eec\u200b\u7684\u200b page id \u200b\u6765\u200b\u6392\u5e8f\u200b\uff0c\u200b\u6392\u5e8f\u200b\u5b8c\u6bd5\u200b\u540e\u200b\u518d\u200b\u8bfb\u53d6\u200b tuples \u200b\u6570\u636e\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u200b\u8ba9\u200b\u6574\u4e2a\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u8bbf\u95ee\u200b\u6bcf\u4e2a\u200b\u9700\u8981\u200b\u7684\u200b page \u200b\u53ea\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200bI/O\u3002\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <p></p>"},{"location":"db/cmu15445/L12/#modification-queries","title":"Modification Queries","text":"<p>\u200b\u4fee\u6539\u200b\u6570\u636e\u5e93\u200b\u7684\u200b operator (INSERT\uff0c UPDATE, DELETE) \u200b\u9700\u8981\u200b\u8d1f\u8d23\u200b\u68c0\u67e5\u200b\u7ea6\u675f\u200b\u548c\u200b\u66f4\u65b0\u200b\u7d22\u5f15\u200b\u3002</p> <ul> <li>update\uff0cdelete operator \u200b\u8981\u6c42\u200b child operator \u200b\u4f20\u9012\u200b\u76ee\u6807\u200b\u5143\u7ec4\u200b\u7684\u200b Record id \u200b\u8fc7\u6765\u200b\uff0c\u200b\u7531\u200b\u81ea\u5df1\u200b\u53bb\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\u3002\u200b\u8be5\u200b\u8fc7\u7a0b\u200b\u9700\u8981\u200b\u8bb0\u5f55\u200b\u4fee\u6539\u200b\u8fc7\u200b\u54ea\u4e9b\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\u66f4\u6539\u200b\u4e86\u200b\u5143\u7ec4\u200b\u7684\u200b\u7269\u7406\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u626b\u63cf\u200b\u64cd\u4f5c\u7b26\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u591a\u6b21\u200b\u8bbf\u95ee\u200b\u8be5\u200b\u5143\u7ec4\u200b\u3002\u200b\u5047\u8bbe\u200b\u6211\u8981\u200b\u4e3a\u200b\u6240\u6709\u200b\u5de5\u8d44\u200b\u4f4e\u4e8e\u200b 1000 \u200b\u7684\u200b\u4eba\u6da8\u200b 100 \u200b\u5143\u200b\u5de5\u8d44\u200b\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u8bb0\u5f55\u200b\u4fee\u6539\u200b\u4e86\u200b\u54ea\u4e9b\u200b\u6570\u636e\u200b\uff0c\u200b\u5219\u200b\u4e00\u4e2a\u200b\u76ee\u524d\u200b 300 \u200b\u5143\u200b\u5de5\u8d44\u200b\u7684\u200b\u4eba\u4f1a\u200b\u88ab\u200b\u4fee\u6539\u200b 7 \u200b\u6b21\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6bcf\u200b\u4e00\u6b21\u200b\u4fee\u6539\u200b\u540e\u200b\u4ed6\u200b\u7684\u200b\u5de5\u8d44\u200b\u90fd\u200b\u4f4e\u4e8e\u200b 1000\uff0c\u200b\u7ee7\u7eed\u200b\u5f80\u540e\u200b\u904d\u200b\u5386\u65f6\u200b\u8fd8\u4f1a\u200b\u904d\u5386\u200b\u5230\u200b\u4ed6\u200b\u3002\u2014\u2014 Halloween Problem</li> <li>Insert operator \u200b\u7684\u200b\u5b9e\u73b0\u200b\u6709\u200b\u4e24\u79cd\u200b\uff1a</li> <li>\u200b\u5728\u200b\u672c\u200b operator \u200b\u5185\u200b\u7269\u5316\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u63d2\u5165\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff0c\u200b\u76f4\u63a5\u200b insert (xxx, yyy, zzz)</li> <li>\u200b\u4ece\u200b child operator \u200b\u4e2d\u200b\u83b7\u53d6\u6570\u636e\u200b\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u672c\u200b operator \u200b\u4e2d\u200b\u63d2\u5165\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4ece\u200b\u5176\u4ed6\u200b\u8868\u4e2d\u200b\u83b7\u53d6\u6570\u636e\u200b\uff0c\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\u6216\u8005\u200b\u7ec4\u88c5\u200b\u540e\u200b\u63d2\u5165\u200b\u672c\u8868\u200b</li> </ul>"},{"location":"db/cmu15445/L12/#expression-evaluation","title":"Expression Evaluation","text":"<p>DBMS \u200b\u4f7f\u7528\u200b expression tree \u200b\u6765\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b WHERE \u200b\u8bed\u53e5\u200b\u3002</p> <p>\u200b\u6811\u4e2d\u200b\u7684\u200b\u8282\u70b9\u200b\u4ee3\u8868\u200b\u4e0d\u540c\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u7c7b\u578b\u200b\u3002</p> <ul> <li>\u200b\u6bd4\u8f83\u200b Comparisons (=, &lt;, &gt;, !=)</li> <li>\u200b\u4e0e\u200b Conjunction (AND), \u200b\u6216\u200b Disjunction (OR)</li> <li>\u200b\u7b97\u672f\u200b\u8fd0\u7b97\u7b26\u200b Arithmetic Operators (+, -, *, /, %)</li> <li>\u200b\u5e38\u6570\u200b Constant Values</li> <li>\u200b\u5143\u7ec4\u200b\u5c5e\u6027\u200b\u5f15\u7528\u200b Tuple Attribute References</li> </ul> <p></p> <p>\u200b\u7136\u540e\u200b\u6839\u636e\u200b expression tree \u200b\u5b8c\u6210\u200b\u6570\u636e\u200b\u8fc7\u6ee4\u200b\u7684\u200b\u5224\u65ad\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u6bd4\u8f83\u200b\u4f4e\u6548\u200b\uff0c\u200b\u5f88\u591a\u200b DBMS \u200b\u91c7\u7528\u200b JIT Compilation \u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5c06\u200b\u6bd4\u8f83\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u7f16\u8bd1\u6210\u200b\u673a\u5668\u7801\u200b\u6765\u200b\u6267\u884c\u200b\uff0c\u200b\u63d0\u9ad8\u200b expression evaluation \u200b\u7684\u200b\u6548\u7387\u200b\u3002</p> <p>Expression tree \u200b\u867d\u7136\u200b\u5f88\u200b\u7075\u6d3b\u200b\uff0c\u200b\u4f46\u200b\u901f\u5ea6\u200b\u5f88\u200b\u6162\u200b\u3002 </p>"},{"location":"db/cmu15445/L13/","title":"Query Execution II","text":"<p> \u200b\u7ea6\u200b 1833 \u200b\u4e2a\u200b\u5b57\u200b  6 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 6 \u200b\u5206\u949f\u200b</p> <p>\u200b\u6211\u4eec\u200b\u5728\u200b\u4e0a\u200b\u4e00\u8282\u200b\u4e2d\u200b\u5df2\u7ecf\u200b\u8ba8\u8bba\u200b\u4e86\u200b\u600e\u4e48\u200b\u5c06\u200b operators \u200b\u7ec4\u7ec7\u200b\u4e3a\u200b\u4e00\u4e2a\u200b query plan\u3002\u200b\u5f53\u65f6\u200b\u6211\u4eec\u200b\u662f\u200b\u5047\u8bbe\u200b query \u200b\u662f\u200b\u7531\u200b\u4e00\u4e2a\u200b worker (\u200b\u662f\u200b DBMS \u200b\u7684\u200b\u7ec4\u4ef6\u200b\uff0c\u200b\u8d1f\u8d23\u200b\u4ee3\u8868\u200b\u5ba2\u6237\u673a\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b\u5e76\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\uff0c\u200b\u53ef\u80fd\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u6216\u200b\u8fdb\u7a0b\u200b) \u200b\u6267\u884c\u200b\u3002\u200b\u7136\u800c\u200b\u5728\u5b9e\u8df5\u4e2d\u200b\uff0c query \u200b\u5f80\u5f80\u200b\u662f\u200b\u7531\u200b\u591a\u4e2a\u200b workers \u200b\u5e76\u53d1\u200b\u6267\u884c\u200b \u3002\u200b\u5e76\u53d1\u200b\u6267\u884c\u200b\u4e3a\u200b DBMS \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u5f88\u591a\u200b\u597d\u5904\u200b\uff1a</p> <ul> <li>\u200b\u63d0\u9ad8\u200b\u541e\u5410\u91cf\u200b (\u200b\u6bcf\u79d2\u200b\u80fd\u200b\u6267\u884c\u200b\u591a\u5c11\u200b query)\uff0c\u200b\u964d\u4f4e\u200b\u5ef6\u8fdf\u200b (\u200b\u6267\u884c\u200b\u4e00\u6761\u200b query \u200b\u9700\u8981\u200b\u591a\u4e45\u200b)\u3002</li> <li>\u200b\u4ece\u200b DBMS \u200b\u7528\u6237\u200b\u7684\u200b\u89d2\u5ea6\u770b\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u4e86\u200b\u54cd\u5e94\u200b\u6027\u200b\u548c\u200b\u53ef\u7528\u6027\u200b\u3002</li> <li>\u200b\u51cf\u4f4e\u200b\u603b\u4f53\u200b\u62e5\u6709\u200b\u6210\u672c\u200b (TCO)\uff0c\u200b\u8fd9\u4e2a\u200b\u6210\u672c\u200b\u5305\u62ec\u200b\u786c\u4ef6\u200b\u91c7\u8d2d\u200b\u548c\u200b\u8f6f\u4ef6\u200b\u8bb8\u53ef\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u90e8\u7f72\u200bDBMS\u200b\u7684\u200b\u52b3\u52a8\u529b\u200b\u5f00\u9500\u200b\u548c\u200b\u8fd0\u884c\u200b\u673a\u5668\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u80fd\u6e90\u200b\u3002</li> </ul> <p>BMS\u200b\u652f\u6301\u200b\u4e24\u79cd\u200b\u7c7b\u578b\u200b\u7684\u200b\u5e76\u53d1\u200b\uff1ainter-query parallelism, intra-query parallelism\u3002</p> <p>Note</p> <p>Inter-query VS. Intra-query Parallelism</p> <ul> <li>Inter-query Parallelism\uff1a\u200b\u67e5\u8be2\u200b\u95f4\u200b\u5e76\u53d1\u200b\uff0c\u200b\u5373\u200b\u4e0d\u540c\u200b\u67e5\u8be2\u200b\u95f4\u200b\u5e76\u884c\u6267\u884c\u200b<ul> <li>\u200b\u589e\u52a0\u200b\u541e\u5410\u91cf\u200b\uff0c\u200b\u51cf\u5c11\u200b\u5ef6\u8fdf\u200b</li> </ul> </li> <li>Intra-query Parallelism\uff1a\u200b\u67e5\u8be2\u200b\u5185\u200b\u5e76\u53d1\u200b\uff0c\u200b\u5373\u200b\u67e5\u8be2\u200b\u5185\u200b\u4e0d\u540c\u200b operators \u200b\u5e76\u884c\u6267\u884c\u200b<ul> <li>\u200b\u51cf\u5c11\u200b\u957f\u65f6\u200b\u67e5\u8be2\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b Streaming</li> </ul> </li> </ul> <p>Parallel VS. Distributed DBMS</p> <ul> <li>Parallel DBMSs\uff1a\u200b\u5982\u200b\u8fd0\u884c\u200b\u5728\u200b\u591a\u200b\u6838\u200b CPU \u200b\u4e0a\u200b<ul> <li>\u200b\u6bcf\u4e2a\u200b DB \u200b\u8282\u70b9\u200b\u7269\u7406\u200b\u4e0a\u200b\u975e\u5e38\u200b\u63a5\u8fd1\u200b\uff0c\u200b\u901a\u8fc7\u200b\u9ad8\u901f\u200b LAN \u200b\u76f8\u8fde\u63a5\u200b</li> <li>\u200b\u901a\u4fe1\u200b\u6210\u672c\u200b\u6781\u5c0f\u200b</li> </ul> </li> <li>Distributed DBMSs\uff1a\u200b\u5982\u200b\u5206\u5e03\u5f0f\u200b\u6570\u636e\u5e93\u200b<ul> <li>\u200b\u8282\u70b9\u200b\u4e4b\u95f4\u200b\u8ddd\u79bb\u200b\u53ef\u80fd\u200b\u5f88\u200b\u8fdc\u200b\uff0c\u200b\u901a\u8fc7\u200b\u516c\u7f51\u200b\u76f8\u8fde\u63a5\u200b</li> <li>\u200b\u901a\u4fe1\u200b\u6210\u672c\u200b\u548c\u200b\u901a\u4fe1\u200b\u53ef\u80fd\u200b\u51fa\u73b0\u200b\u7684\u200b\u95ee\u9898\u200b\u4e0d\u53ef\u200b\u5ffd\u7565\u200b</li> </ul> </li> </ul> <p>\u200b\u672c\u200b\u8282\u200b\u5927\u7eb2\u200b\uff1a</p> <ul> <li>Process Models</li> <li>Execution Parallelism</li> <li>I/O Parallelism</li> </ul>"},{"location":"db/cmu15445/L13/#process-models","title":"Process Models","text":"<p>DBMS \u200b\u7684\u200b process model \u200b\u5b9a\u4e49\u200b\u4e86\u200b \u200b\u591a\u7528\u6237\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u5904\u7406\u200b\u5e76\u53d1\u200b\u8bf7\u6c42\u200b\u7684\u200b\u67b6\u6784\u200b \u3002\u200b\u5728\u4e0b\u6587\u200b\u4e2d\u200b\uff0c DBMS \u200b\u7684\u200b\u7ec4\u4ef6\u200b\uff0c\u200b\u8d1f\u8d23\u200b\u4ee3\u8868\u200b\u5ba2\u6237\u673a\u200b\u6267\u884c\u200b\u4efb\u52a1\u200b\u5e76\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5b83\u200b\u53ef\u80fd\u200b\u662f\u200b Process(es)\uff0c\u200b\u4e5f\u200b\u53ef\u80fd\u200b\u662f\u200b Thread(s)\u3002\u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b DBMS \u200b\u90fd\u200b\u60f3\u200b\u5b9e\u73b0\u200b\u5e76\u53d1\u200b\u6267\u884c\u200b\uff0c\u200b\u4f46\u200b\u8981\u200b\u5c06\u200b\u8fd9\u4ef6\u200b\u4e8b\u200b\u505a\u200b\u5bf9\u200b\u5f88\u200b\u96be\u200b\uff0c\u200b\u5176\u200b\u96be\u5ea6\u200b\u5305\u62ec\u200b\u8fd9\u200b\u51e0\u4e2a\u200b\u65b9\u9762\u200b\uff1a\u200b\u534f\u540c\u5de5\u4f5c\u200b\u7684\u200b\u5f00\u9500\u200b\uff0c\u200b\u8c03\u5ea6\u200b\uff0c\u200b\u5e76\u53d1\u200b\u95ee\u9898\u200b\u5904\u7406\u200b\uff0c\u200b\u8d44\u6e90\u200b\u51b2\u7a81\u200b\u3002</p> <p>Approach # 1: Process per DBMS Worker</p> <p>Approach # 2: Process Pool</p> <p>Approach # 3: Thread per DBMS Worker</p>"},{"location":"db/cmu15445/L13/#process-per-worker","title":"Process per Worker","text":"<p>\u200b\u7528\u6237\u200b\u8bf7\u6c42\u200b\u7ecf\u8fc7\u200b Dispatcher \u200b\u540e\u200b\uff0c\u200b\u7531\u200b Dispatcher \u200b\u5206\u914d\u200b\u76f8\u5e94\u200b\u7684\u200b Worker \u200b\u5b8c\u6210\u200b\u67e5\u8be2\u200b\u5e76\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u3002 \u200b\u6bcf\u4e2a\u200b worker \u200b\u90fd\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u8fdb\u7a0b\u200b\uff1a</p> <ul> <li>\u200b\u4f9d\u8d56\u200b \u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u8c03\u5ea6\u200b\u5668\u200b \u200b\u6765\u200b\u8c03\u5ea6\u200b</li> <li>\u200b\u4f7f\u7528\u200b \u200b\u5171\u4eab\u5185\u5b58\u200b \u200b\u6765\u200b\u5b58\u50a8\u200b\u5168\u5c40\u200b\u6570\u636e\u7ed3\u6784\u200b</li> <li>\u200b\u5355\u4e2a\u200b worker \u200b\u5d29\u6e83\u200b\u4e0d\u4f1a\u200b\u5f15\u8d77\u200b\u6574\u4e2a\u200b\u7cfb\u7edf\u200b\u5d29\u6e83\u200b</li> </ul> <p>\u200b\u8fd9\u79cd\u200b Process Model \u200b\u51fa\u73b0\u200b\u5728\u7ebf\u200b\u7a0b\u200b\u8de8\u5e73\u53f0\u200b\u652f\u6301\u200b\u5f88\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u7684\u200b\u65f6\u4ee3\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u7cfb\u7edf\u200b\u7684\u200b\u53ef\u79fb\u690d\u6027\u200b\u95ee\u9898\u200b\u3002\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b Process Model \u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u6709\u200b\u5386\u53f2\u200b\u7248\u672c\u200b\u7684\u200b DB2\u3001ORACLE \u200b\u548c\u200b PostgreSQL \u200b\u7b49\u200b\u3002</p>"},{"location":"db/cmu15445/L13/#process-pool","title":"Process Pool","text":"<p>\u200b\u7528\u6237\u200b\u8bf7\u6c42\u200b\u7ecf\u8fc7\u200b Dispatcher \u200b\u540e\u200b\uff0c\u200b\u7531\u200b Dispatcher \u200b\u5206\u914d\u200b\u76f8\u5e94\u200b\u7684\u200b Worker \u200b\u5b8c\u6210\u200b\u67e5\u8be2\u200b\uff0c\u200b\u5c06\u200b\u7ed3\u679c\u200b\u8fd4\u56de\u200b Dispatcher\uff0c\u200b\u540e\u8005\u200b\u518d\u200b\u8fd4\u56de\u200b\u7ed9\u200b\u7528\u6237\u200b\u3002\u200b\u6bcf\u4e2a\u200b Worker \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b Worker Pool \u200b\u4e2d\u200b\u4efb\u610f\u200b\u7a7a\u95f2\u200b\u7684\u200b Process(es)\uff1a</p> <ul> <li>\u200b\u4ecd\u200b\u4f9d\u8d56\u200b \u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u8c03\u5ea6\u200b\u5668\u200b \u200b\u6765\u200b\u8c03\u5ea6\u200b</li> <li>\u200b\u4e5f\u200b\u4f7f\u7528\u200b \u200b\u5171\u4eab\u5185\u5b58\u200b \u200b\u6765\u200b\u5b58\u50a8\u200b\u5168\u5c40\u200b\u6570\u636e\u7ed3\u6784\u200b</li> <li>\u200b\u4e0d\u5229\u4e8e\u200b\u4f7f\u7528\u200b CPU \u200b\u7f13\u5b58\u200b</li> </ul> <p>\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b Process Model \u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u6709\u200b DB2\u3001PostgreSQL(2015)\u3002</p>"},{"location":"db/cmu15445/L13/#thread-per-worker","title":"Thread per Worker","text":"<p>\u200b\u6574\u4e2a\u200b DBMS \u200b\u7531\u200b\u4e00\u4e2a\u200b Process \u200b\u548c\u200b\u591a\u4e2a\u200b Worker Threads \u200b\u6784\u6210\u200b\uff1a</p> <ul> <li>DBMS \u200b\u81ea\u5df1\u200b\u63a7\u5236\u200b\u8c03\u5ea6\u200b\u7b56\u7565\u200b\uff1a\u200b\u6bcf\u4e2a\u200b\u67e5\u8be2\u200b\u62c6\u6210\u200b\u591a\u5c11\u200b\u4e2a\u200b\u4efb\u52a1\u200b\u3001\u200b\u4f7f\u7528\u200b\u591a\u5c11\u200b\u4e2a\u200b CPU cores\u3001\u200b\u5c06\u200b\u4efb\u52a1\u5206\u914d\u200b\u5230\u200b\u54ea\u4e2a\u200b core \u200b\u4e0a\u200b\uff0c\u200b\u6bcf\u4e2a\u200b task \u200b\u7684\u200b\u8f93\u51fa\u200b\u5b58\u50a8\u200b\u5728\u200b\u54ea\u91cc\u200b\u3002\u200b\u81ea\u5df1\u200b\u63a7\u5236\u200b\u8c03\u5ea6\u200b\u7b56\u7565\u200b\u7684\u200b\u7406\u7531\u200b\u4e0e\u200b\u81ea\u5df1\u200b\u6784\u5efa\u200b Buffer Pools \u200b\u7684\u200b\u7406\u7531\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff1aDBMS \u200b\u6bd4\u200b OS \u200b\u6709\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u9886\u57df\u200b\u77e5\u8bc6\u200b\u3002</li> <li>dispatcher \u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u5b58\u5728\u200b</li> <li>thread \u200b\u5d29\u6e83\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u6574\u4e2a\u200b\u7cfb\u7edf\u200b\u5d29\u6e83\u200b</li> <li>\u200b\u4f7f\u7528\u200b\u591a\u7ebf\u7a0b\u200b\u67b6\u6784\u200b\u7684\u200b\u4f18\u52bf\u200b\uff1a\u200b\u4e0a\u4e0b\u6587\u200b\u5207\u6362\u200b\u6210\u672c\u200b\u66f4\u200b\u4f4e\u200b\uff1b\u200b\u5929\u7136\u200b\u5730\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6240\u6709\u200b\u7ebf\u7a0b\u200b\u4e4b\u95f4\u200b\u5171\u4eab\u200b\u5168\u5c40\u200b\u4fe1\u606f\u200b\uff0c\u200b\u800c\u200b\u65e0\u9700\u200b\u4f7f\u7528\u200b\u5171\u4eab\u5185\u5b58\u200b</li> </ul> <p>\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b Process Model \u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u6709\u200b DB2\u3001MSSQL\u3001MySQL\u3001Oracle (2014) \u200b\u53ca\u5176\u200b\u5b83\u200b\u8fd1\u200b 10 \u200b\u5e74\u200b\u51fa\u73b0\u200b\u7684\u200b DBMS \u200b\u7b49\u200b\u3002</p>"},{"location":"db/cmu15445/L13/#execution-parallelism","title":"Execution Parallelism","text":"<p>\u200b\u5e76\u53d1\u200b\u6267\u884c\u200b \u200b\u5305\u62ec\u200b\uff1a\u200b\u67e5\u8be2\u200b\u95f4\u200b\u5e76\u53d1\u200b (inter-query parallelism), \u200b\u67e5\u8be2\u200b\u5185\u200b\u5e76\u53d1\u200b (intra-query parallelism)\u3002</p>"},{"location":"db/cmu15445/L13/#inter-query-parallelism","title":"Inter-Query Parallelism","text":"<p>\u200b\u67e5\u8be2\u200b\u95f4\u200b\u5e76\u53d1\u200b \uff0c\u200b\u901a\u8fc7\u200b\u5e76\u884c\u6267\u884c\u200b\u591a\u4e2a\u200b\u67e5\u8be2\u200b\u6765\u200b\u63d0\u9ad8\u200b DBMS \u200b\u6027\u80fd\u200b (\u200b\u589e\u52a0\u200b\u541e\u5410\u91cf\u200b\uff0c\u200b\u51cf\u5c11\u200b\u5ef6\u8fdf\u200b)\u3002</p> <p>\u200b\u82e5\u200b\u8fd9\u4e9b\u200b\u67e5\u8be2\u200b\u90fd\u200b\u662f\u200b\u53ea\u8bfb\u200b\u67e5\u8be2\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5904\u7406\u200b\u4e0d\u540c\u200b\u67e5\u8be2\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u65e0\u9700\u200b\u989d\u5916\u200b\u7684\u200b\u5de5\u4f5c\u200b\uff1b\u200b\u82e5\u200b\u67e5\u8be2\u200b\u5b58\u5728\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5904\u7406\u200b\u597d\u200b\u4e0d\u540c\u200b\u67e5\u8be2\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\u5c06\u200b\u53d8\u5f97\u200b\u5f88\u96be\u200b\u3002\u200b\u76f8\u5173\u200b\u5185\u5bb9\u200b\u5c06\u200b\u5728\u200b\u540e\u7eed\u200b (Lect16) \u200b\u4e2d\u200b\u4ecb\u7ecd\u200b\u3002</p>"},{"location":"db/cmu15445/L13/#intra-query-parallelism","title":"Intra-Query parallelism","text":"<p>\u200b\u67e5\u8be2\u200b\u5185\u200b\u5e76\u53d1\u200b \uff0c\u200b\u901a\u8fc7\u200b\u5e76\u884c\u6267\u884c\u200b\u5355\u4e2a\u200b\u67e5\u8be2\u200b\u7684\u200b\u591a\u4e2a\u200b operators \u200b\u6765\u200b\u63d0\u9ad8\u200b DBMS \u200b\u6027\u80fd\u200b (\u200b\u51cf\u5c11\u200b\u957f\u65f6\u200b\u67e5\u8be2\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b Streaming)\uff1a</p> <ul> <li>Approach # 1\uff1aIntra-Operator</li> <li>Approach # 2\uff1aInter-Operator</li> <li>Approach # 3\uff1aBushy</li> </ul> <p>\u200b\u8fd9\u4e9b\u200b\u65b9\u6cd5\u200b\u5e76\u200b\u4e0d\u200b\u76f8\u4e92\u200b\u6392\u65a5\u200b\u3002\u200b\u5728\u200b\u7ed9\u5b9a\u200b\u7684\u200b\u5de5\u4f5c\u200b\u8d1f\u8f7d\u200b\u4e0a\u200b\uff0c\u200b\u4ee5\u200b\u4e00\u79cd\u200b\u4f18\u5316\u200b\u6027\u80fd\u200b\u7684\u200b\u65b9\u5f0f\u200b\u7ec4\u5408\u200b\u8fd9\u4e9b\u200b\u6280\u672f\u200b\u662f\u200b DBMS \u200b\u7684\u200b\u8d23\u4efb\u200b\u3002</p>"},{"location":"db/cmu15445/L13/#intra-operator-parallelism-horizontal","title":"Intra-operator Parallelism (Horizontal)","text":"<p>operator \u200b\u5185\u200b\u7684\u200b\u5e76\u53d1\u200b </p> <p>\u200b\u5c06\u200b data \u200b\u62c6\u89e3\u200b\u6210\u200b\u591a\u4e2a\u200b\u72ec\u7acb\u200b\u5b50\u96c6\u200b\uff0c\u200b\u7136\u540e\u200b\u5bf9\u200b\u8fd9\u4e9b\u200b\u5b50\u96c6\u200b\u5e76\u884c\u200b\u5730\u200b\u6267\u884c\u200b\u76f8\u5e94\u200b\u7684\u200b operator\uff0cDBMS \u200b\u901a\u8fc7\u200b\u5c06\u200b exchange operator \u200b\u5f15\u5165\u200b\u67e5\u8be2\u200b\u8ba1\u5212\u200b\uff0c\u200b\u6765\u200b\u5408\u5e76\u200b\u5b50\u96c6\u200b\u5904\u7406\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u8fc7\u7a0b\u200b\u7c7b\u4f3c\u200b MapReduce\u3002exchange operator \u200b\u4f1a\u200b\u963b\u6b62\u200b DBMS \u200b\u5728\u200b\u8ba1\u5212\u200b\u4e2d\u200b\u6267\u884c\u200b\u5b83\u200b\u4e0a\u9762\u200b\u7684\u200b operator\uff0c\u200b\u76f4\u5230\u200b\u5b83\u200b\u4ece\u200b child operator \u200b\u63a5\u6536\u200b\u5230\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u4e00\u822c\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u6709\u200b\u4e09\u79cd\u200b\u7c7b\u578b\u200b\u7684\u200b exchange operator\uff1a</p> <ul> <li>Gather\uff1a\u200b\u5c06\u200b\u6765\u81ea\u200b\u591a\u4e2a\u200b worker \u200b\u7684\u200b\u7ed3\u679c\u200b\u5408\u5e76\u200b\u5230\u200b\u4e00\u4e2a\u200b\u8f93\u51fa\u200b\u6d41\u4e2d\u200b</li> <li>Repartition\uff1a\u200b\u8de8\u200b\u591a\u4e2a\u200b\u8f93\u51fa\u200b\u6d41\u200b\u91cd\u65b0\u200b\u7ec4\u7ec7\u200b\u591a\u4e2a\u200b\u8f93\u5165\u200b\u6d41\u200b\u3002</li> <li>Distribute\uff1a\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u8f93\u5165\u200b\u6d41\u200b\u5206\u5272\u200b\u6210\u200b\u591a\u4e2a\u200b\u8f93\u51fa\u200b\u6d41\u200b\u3002</li> <li></li> </ul>"},{"location":"db/cmu15445/L13/#inter-operator-parallelism-vertical","title":"Inter-operator Parallelism (Vertical)","text":"<p>operator \u200b\u95f4\u200b\u7684\u200b\u5e76\u53d1\u200b \uff0c\u200b\u4e5f\u200b\u79f0\u4e3a\u200b <code>pipelined parallelism</code>\u3002</p> <p>\u200b\u5c06\u200b operators \u200b\u4e32\u6210\u200b pipeline\uff0c\u200b\u6570\u636e\u200b\u4ece\u200b\u4e0a\u6e38\u200b\u6d41\u5411\u200b\u4e0b\u6e38\u200b\uff0c\u200b\u4e00\u822c\u200b\u65e0\u9700\u200b\u7b49\u5f85\u200b\u524d\u200b\u4e00\u6b65\u200b\u64cd\u4f5c\u200b\u6267\u884c\u200b\u5b8c\u6bd5\u200b\u3002</p> <p>\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u5728\u200b\u4f20\u7edf\u200b DBMSs \u200b\u4e2d\u200b\u5e76\u200b\u4e0d\u200b\u5e38\u7528\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8bb8\u591a\u200b operators\uff0c\u200b\u5982\u200b join\uff0c\u200b\u5fc5\u987b\u200b\u626b\u63cf\u200b\u6240\u6709\u200b tuples \u200b\u4e4b\u540e\u200b\u624d\u80fd\u200b\u5f97\u5230\u200b\u7ed3\u679c\u200b\u3002\u200b\u5b83\u200b\u66f4\u200b\u591a\u200b\u5730\u88ab\u200b\u7528\u200b\u5728\u200b\u6d41\u200b\u5904\u7406\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u5982\u200b Spark\u3001Nifi\u3001Kafka,\u3001Storm\u3001Flink\u3001Heron\u3002</p> <p></p>"},{"location":"db/cmu15445/L13/#bushy-parallelism","title":"Bushy Parallelism","text":"<p>Inter-operator Parallelism \u200b\u7684\u200b\u6269\u5c55\u200b\uff0cworker \u200b\u540c\u65f6\u200b\u6267\u884c\u200b\u6765\u81ea\u200b query plan \u200b\u7684\u200b\u4e0d\u540c\u200b segment \u200b\u7684\u200b\u591a\u4e2a\u200b operator\uff0c\u200b\u4ecd\u200b\u9700\u8981\u200b exchange operator \u200b\u6765\u200b\u7ed3\u5408\u200b\u591a\u4e2a\u200b segment \u200b\u7684\u200b\u4e2d\u95f4\u200b\u7ed3\u679c\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L13/#io-parallelism","title":"I/O Parallelism","text":"<p>\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u4f7f\u7528\u200b\u989d\u5916\u200b\u7684\u200b processes/threads \u200b\u6765\u200b\u5e76\u884c\u200b\u5730\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u63d0\u9ad8\u200b CPU \u200b\u5229\u7528\u7387\u200b\u6765\u200b\u63d0\u9ad8\u200b DBMS \u200b\u6548\u7387\u200b\uff1b\u200b\u4f46\u200b\u5982\u679c\u200b DBMS \u200b\u6548\u7387\u200b\u74f6\u9888\u200b\u51fa\u73b0\u200b\u5728\u200b disk \u200b\u6570\u636e\u200b\u5b58\u53d6\u200b\u4e0a\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u4f18\u5316\u200b\u5e26\u6765\u200b\u7684\u200b\u6548\u679c\u200b\u5c31\u200b\u975e\u5e38\u200b\u6709\u9650\u200b\uff0c\u200b\u751a\u81f3\u200b\u6709\u200b\u53ef\u80fd\u200b\u56e0\u4e3a\u200b disk I/O \u200b\u7684\u200b\u63d0\u9ad8\u200b\u5bfc\u81f4\u200b\u6574\u4f53\u200b\u6027\u80fd\u200b\u4e0b\u964d\u200b\uff0c\u200b\u5982\u200b cache miss rate \u200b\u63d0\u9ad8\u200b\u7b49\u7b49\u200b\u3002\u200b\u5c06\u200b DBMS \u200b\u5b89\u88c5\u200b\u5728\u200b\u591a\u4e2a\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u4e0a\u6765\u200b\u5b9e\u73b0\u200b I/O \u200b\u5e76\u884c\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u4e00\u5b9a\u200b\u7a0b\u5ea6\u200b\u4e0a\u200b\u7f13\u89e3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u3002</p>"},{"location":"db/cmu15445/L13/#multi-disk-parallelism","title":"Multi-Disk Parallelism","text":"<p>\u200b\u591a\u200b\u78c1\u76d8\u200b\u5b58\u50a8\u200b \uff1a\u200b\u901a\u8fc7\u200b OS \u200b\u6216\u786c\u4ef6\u200b\u914d\u7f6e\u200b\u5c06\u200b DBMS \u200b\u7684\u200b\u6570\u636e\u6587\u4ef6\u200b\u5b58\u50a8\u200b\u5230\u200b\u591a\u4e2a\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u4e0a\u200b\uff0c\u200b\u6574\u4e2a\u200b\u8fc7\u7a0b\u200b\u5bf9\u200b DBMS \u200b\u900f\u660e\u200b (\u200b\u6240\u4ee5\u200b\u4e0a\u9762\u200b\u63d0\u5230\u200b\u7684\u200bworker\u200b\u5e76\u4e0d\u77e5\u9053\u200b\u8fd9\u91cc\u200b\u53d1\u751f\u200b\u4e86\u200b\u4ec0\u4e48\u200b)\uff0c\u200b\u5982\u200b\u4f7f\u7528\u200b RAID\u3002</p> <p></p> <p>\u200b\u4e00\u4e9b\u200b DBMS \u200b\u751a\u81f3\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u4e3a\u200b\u5355\u4e2a\u200b\u6570\u636e\u5e93\u200b\u6307\u5b9a\u200b\u78c1\u76d8\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5e76\u200b\u7531\u200b\u7f13\u5b58\u200b\u6c60\u200b\u8d1f\u8d23\u200b\u5c06\u200b\u9875\u200b\u6620\u5c04\u200b\u5230\u200b\u78c1\u76d8\u200b\u4f4d\u7f6e\u200b\u3002</p>"},{"location":"db/cmu15445/L13/#database-partitioning","title":"Database Partitioning","text":"<p>\u200b\u5206\u533a\u200b \uff1a\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u903b\u8f91\u200b\u4e0a\u200b\u7684\u200b\u8868\u200b\u62c6\u5f00\u200b\uff0c\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u7247\u6bb5\u200b (physical segments) \u200b\u4e0a\u200b\u8fdb\u884c\u200b\u5b58\u50a8\u200b\u3002\u200b\u7406\u60f3\u200b\u60c5\u51b5\u200b\u4e0b\u8be5\u200b\u65b9\u6cd5\u200b\u5e94\u8be5\u200b\u5bf9\u200b\u5e94\u7528\u200b\u900f\u660e\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u200b\u5e76\u4e0d\u4e00\u5b9a\u200b\u80fd\u200b\u5b9e\u73b0\u200b\u3002</p>"},{"location":"db/cmu15445/L13/#vertical-partitioning","title":"Vertical Partitioning","text":"<p>\u200b\u5782\u76f4\u200b\u5206\u533a\u200b \uff1a\u200b\u539f\u7406\u200b\u4e0a\u200b\u7c7b\u4f3c\u200b\u5217\u200b\u5b58\u50a8\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u5c06\u8868\u4e2d\u200b\u7684\u200b\u90e8\u5206\u200b\u5c5e\u6027\u200b\u5b58\u50a8\u200b\u5230\u200b\u4e0d\u540c\u200b\u7684\u200b\u5730\u65b9\u200b\uff0c\u200b\u5e76\u4e14\u200b\u9700\u8981\u200b\u5b58\u50a8\u200b\u4e00\u4e9b\u200b\u5143\u7ec4\u200b\u4fe1\u606f\u200b\u6765\u200b\u5e2e\u52a9\u200b\u91cd\u5efa\u200b\u539f\u59cb\u8bb0\u5f55\u200b\u3002\u200b\u5982\u200b\uff1a</p> <pre><code>CREATE TABLE foo (\n  attr1 INT,\n  attr2 INT,\n  attr3 INT,\n  attr4 TEXT  -- attr4 \u200b\u6570\u636e\u200b\u975e\u5e38\u200b\u5927\u200b --\n);\n</code></pre> <p></p>"},{"location":"db/cmu15445/L13/#horizontal-partitioning","title":"Horizontal Partitioning","text":"<p>\u200b\u6c34\u5e73\u200b\u5206\u533a\u200b \uff1a\u200b\u57fa\u4e8e\u200b\u67d0\u4e2a\u200b\u53ef\u200b\u5b9a\u5236\u200b\u7684\u200b partitioning key \u200b\u5c06\u200b table \u200b\u7684\u200b\u4e0d\u540c\u200b segments \u200b\u5206\u5f00\u200b\u5b58\u50a8\u200b\uff0c\u200b\u5305\u62ec\u200b\uff1a</p> <ul> <li>Hash Partitioning</li> <li>Range Partitioning</li> <li>Predicate Partitioning</li> </ul> <p></p>"},{"location":"db/cmu15445/L3/","title":"Database Storage I","text":"<p> \u200b\u7ea6\u200b 5019 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 17 \u200b\u5206\u949f\u200b</p>"},{"location":"db/cmu15445/L3/#\u5b58\u50a8","title":"\u5b58\u50a8","text":"<p>\u200b\u6211\u4eec\u200b\u5c06\u200b\u91cd\u70b9\u200b\u8ba8\u8bba\u200b\u201c\u200b\u9762\u5411\u200b\u78c1\u76d8\u200b\u201d\u200b\u7684\u200bDBMS\u200b\u4f53\u7cfb\u7ed3\u6784\u200b\uff0c\u200b\u5b83\u200b\u5047\u5b9a\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u4e3b\u8981\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b\u5728\u200b\u975e\u6613\u200b\u5931\u6027\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u3002</p> <p></p> <p>\uff08CPU\u200b\u5bc4\u5b58\u5668\u200b\u3001CPU\u200b\u7f13\u5b58\u200b\u3001\u200b\u5185\u5b58\u200b\u3001\u200b\u56fa\u6001\u200b\u786c\u76d8\u200b\u3001\u200b\u786c\u76d8\u200b\u3001\u200b\u7f51\u7edc\u200b\u5b58\u50a8\u200b\uff09</p> <p>\u200b\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u8bbe\u5907\u200b\uff1a</p> <ul> <li>\u200b\u6613\u200b\u5931\u6027\u200b\uff1a\u200b\u65ad\u7535\u200b\u540e\u200b\u6570\u636e\u200b\u5c31\u200b\u4f1a\u200b\u4e22\u5931\u200b</li> <li>\u200b\u652f\u6301\u200b\u5feb\u901f\u200b \u200b\u968f\u673a\u200b\u8bbf\u95ee\u200b \u200b\u4e0e\u200b \u200b\u5b57\u8282\u200b\u5bfb\u5740\u200b \uff0c\u200b\u5219\u200b\u7a0b\u5e8f\u200b\u53ef\u4ee5\u200b\u8df3\u8f6c\u200b\u5230\u200b\u4efb\u4f55\u200b\u5b57\u8282\u200b\u5730\u5740\u200b\u5e76\u200b\u5f97\u5230\u200b\u90a3\u91cc\u200b\u7684\u200b\u6570\u636e\u200b</li> <li>\u200b\u51fa\u4e8e\u200b\u6211\u4eec\u200b\u7684\u200b\u76ee\u7684\u200b\uff0c\u200b\u6211\u4eec\u200b\u603b\u662f\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u5b58\u50a8\u200b\u7c7b\u200b\u79f0\u4e3a\u200b \u200b\u5185\u5b58\u200b</li> </ul> <p>\u200b\u975e\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u8bbe\u5907\u200b\uff1a</p> <ul> <li>\u200b\u975e\u6613\u200b\u5931\u6027\u200b\uff1a\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u65e0\u9700\u200b\u8fde\u7eed\u200b\u7684\u200b\u7535\u6e90\u200b\u6765\u200b\u4fdd\u6301\u200b\u5b83\u200b\u6240\u200b\u5b58\u50a8\u200b\u7684\u200b\u6bd4\u7279\u200b</li> <li>\u200b\u66f4\u200b\u9002\u5408\u200b \u200b\u987a\u5e8f\u200b\u8bbf\u95ee\u200b \uff08\u200b\u540c\u65f6\u200b\u8bfb\u53d6\u200b\u591a\u4e2a\u200b\u6570\u636e\u200b\u5757\u200b\uff09</li> <li>\u200b\u5757\u200b/\u200b\u9875\u200b\u5bfb\u5740\u200b \u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u4e3a\u4e86\u200b\u8bfb\u53d6\u200b\u7279\u5b9a\u200b\u504f\u79fb\u91cf\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u9996\u5148\u200b\u5fc5\u987b\u200b\u5c06\u200b 4KB \u200b\u9875\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5b58\u50a8\u200b\u7a0b\u5e8f\u200b\u60f3\u8981\u200b\u8bfb\u53d6\u200b\u7684\u200b\u503c\u200b\u7684\u200b\u5185\u5b58\u200b\u4e2d\u200b</li> <li>\u200b\u79f0\u4e3a\u200b \u200b\u78c1\u76d8\u200b \u3002\u200b\u6211\u4eec\u200b\u4e0d\u4f1a\u200b\u5bf9\u200b\u56fa\u6001\u200b\u5b58\u50a8\u200b(SSD)\u200b\u548c\u200b\u65cb\u8f6c\u200b\u786c\u76d8\u200b(HDD)\u200b\u8fdb\u884c\u200b(\u200b\u4e3b\u8981\u200b)\u200b\u533a\u5206\u200b</li> </ul> <p>Info</p> <p>\u200b\u8fd8\u6709\u200b\u4e00\u79cd\u200b\u65b0\u200b\u7684\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u5373\u5c06\u200b\u95ee\u4e16\u200b\uff0c\u200b\u53eb\u505a\u200b \u200b\u975e\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u5668\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u8bbe\u5907\u200b\u88ab\u200b\u8bbe\u8ba1\u200b\u4e3a\u200b\u4e24\u4e2a\u200b\u4e16\u754c\u200b\u7684\u200b\u6700\u4f73\u200b\uff1a\u200b\u51e0\u4e4e\u200b\u4e0e\u200bDRAM\u200b\u4e00\u6837\u200b\u5feb\u200b\uff0c\u200b\u4f46\u200b\u5177\u6709\u200b\u78c1\u76d8\u200b\u6301\u4e45\u6027\u200b\u3002\u200b\u6211\u4eec\u200b\u5c06\u200b\u4e0d\u200b\u6d89\u53ca\u200b\u8fd9\u4e9b\u200b\u8bbe\u5907\u200b\u3002</p> <p>\u200b\u5bf9\u200b\u8fd9\u95e8\u200b\u8bfe\u4e2d\u200b\u6211\u4eec\u200b\u8981\u200b\u8c08\u8bba\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u7b97\u6cd5\u200b\u6216\u8005\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e76\u200b\u4e0d\u5728\u610f\u200b\u5b83\u4eec\u200b\u662f\u200b\u7528\u4e8e\u200b\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u200b\u8fd8\u200b\u662f\u975e\u200b\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u200b\u3002join\u200b\u9664\u5916\u200b\uff0c\u200b\u5bf9\u200bjoin\u200b\u800c\u8a00\u200b\u6309\u200b\u987a\u5e8f\u200b\u8bbf\u95ee\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b</p> <p>\u200b\u7531\u4e8e\u200b\u7cfb\u7edf\u200b\u5047\u8bbe\u200b\u6570\u636e\u5e93\u200b\u5b58\u50a8\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff0c\u200b\u800c\u200b\u7cfb\u7edf\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u5bf9\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6240\u4ee5\u200bDBMS\u200b\u7684\u200b\u7ec4\u4ef6\u200b\u9700\u200b\u5f04\u6e05\u695a\u200b\u5982\u4f55\u200b\u5728\u200b\u975e\u6613\u200b\u5931\u6027\u200b\u78c1\u76d8\u200b\u548c\u200b\u6613\u200b\u5931\u6027\u200b\u5185\u5b58\u200b\u4e4b\u95f4\u200b\u6765\u56de\u200b\u79fb\u52a8\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u5c06\u200b \u200b\u91cd\u70b9\u200b\u5173\u6ce8\u200b\u5982\u4f55\u200b\u9690\u85cf\u200b\u78c1\u76d8\u200b\u7684\u200b\u5ef6\u8fdf\u200b \uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5173\u6ce8\u200b\u5bc4\u5b58\u5668\u200b\u548c\u200b\u7f13\u5b58\u200b\u7684\u200b\u4f18\u5316\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4ece\u200b\u78c1\u76d8\u200b\u83b7\u53d6\u6570\u636e\u200b\u975e\u5e38\u200b\u6162\u200b\u3002</p>"},{"location":"db/cmu15445/L3/#\u9762\u5411\u78c1\u76d8\u7684dbms\u6982\u89c8","title":"\u9762\u5411\u200b\u78c1\u76d8\u200b\u7684\u200bDBMS\u200b\u6982\u89c8","text":"<p>\u200b\u9762\u5411\u200b\u78c1\u76d8\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u7ba1\u7406\u7cfb\u7edf\u200b\uff1a</p> <ol> <li>DBMS\u200b\u5047\u8bbe\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u9996\u8981\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b\u5728\u200b \u200b\u975e\u6613\u5931\u200b\u7684\u200b\u78c1\u76d8\u200b \u200b\u4e0a\u200b</li> <li>DBMS\u200b\u7684\u200b\u7ec4\u4ef6\u200b\u7ba1\u7406\u200b\u6570\u636e\u200b\u5728\u200b \u200b\u975e\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u200b \u200b\u548c\u200b \u200b\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u200b \u200b\u4e4b\u95f4\u200b\u7684\u200b\u79fb\u52a8\u200b</li> </ol> <p></p> <p>\u200b\u6570\u636e\u5e93\u200b\u5168\u90e8\u200b\u4f4d\u4e8e\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u88ab\u200b\u7ec4\u7ec7\u200b\u4e3a\u200b \u200b\u9875\u200b \uff0c\u200b\u7b2c\u4e00\u4e2a\u200b\u9875\u200b\u662f\u200b \u200b\u76ee\u5f55\u200b\u9875\u200b\u3002\u200b\u4e3a\u4e86\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\uff0cDBMS\u200b\u9700\u8981\u200b\u5c06\u200b\u6570\u636e\u200b\u5b58\u5165\u200b\u5185\u5b58\u200b\u3002\u200b\u5b83\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u7f13\u51b2\u200b\u6c60\u6765\u200b\u7ba1\u7406\u200b\u78c1\u76d8\u200b\u548c\u200b\u5185\u5b58\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6765\u56de\u200b\u79fb\u52a8\u200b\u3002DBMS\u200b\u4e5f\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u6765\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u3002\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u5c06\u200b\u5411\u200b\u7f13\u51b2\u200b\u6c60\u200b\u8bf7\u6c42\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200b\u9875\u9762\u200b\uff0c\u200b\u7f13\u51b2\u200b\u6c60\u5c06\u200b\u8d1f\u8d23\u200b\u5c06\u200b\u8be5\u200b\u9875\u9762\u200b\u653e\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u5411\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u9875\u9762\u200b\u7684\u200b\u6307\u9488\u200b\u3002\u200b\u7f13\u51b2\u200b\u6c60\u200b\u7ba1\u7406\u5668\u200b\u5c06\u200b\u786e\u4fdd\u200b\u5728\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u5bf9\u200b\u8be5\u200b\u5185\u5b58\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9875\u9762\u200b\u5728\u200b\u90a3\u91cc\u200b\u3002</p> <p>\u200b\u4e4b\u6240\u4ee5\u200b\u8981\u200b\u6784\u5efa\u200b\u9762\u5411\u200b\u78c1\u76d8\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u7ba1\u7406\u7cfb\u7edf\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u80fd\u200b\u652f\u6301\u200b\u6bd4\u200b\u4e00\u53f0\u200b\u673a\u5668\u200b\u4e0a\u200b\u53ef\u7528\u200b\u7684\u200b\u5185\u5b58\u200b\u91cf\u200b\u66f4\u200b\u5927\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u3002</p>"},{"location":"db/cmu15445/L3/#dbms-vs-os","title":"DBMS VS. OS","text":"<p>DBMS\u200b\u7684\u200b\u4e00\u4e2a\u200b\u9ad8\u7ea7\u200b\u8bbe\u8ba1\u200b \u200b\u76ee\u6807\u200b \uff1a\u200b\u7ed9\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u4e00\u79cd\u200b\u9519\u89c9\u200b\u2014\u2014\u200b\u6211\u4eec\u200b\u80fd\u200b\u63d0\u4f9b\u200b\u8db3\u591f\u200b\u7684\u200b\u5185\u5b58\u200b\u5c06\u200b\u6574\u4e2a\u200b\u6570\u636e\u5e93\u200b\u5b58\u5165\u200b\u5185\u5b58\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u78c1\u76d8\u200b\u7684\u200b\u8bfb\u200b/\u200b\u5199\u200b\u5f00\u9500\u200b\u5f88\u5927\u200b\uff0c\u200b\u800c\u200b\u6211\u4eec\u200b\u4e0d\u200b\u5e0c\u671b\u200b\u4ece\u200b\u78c1\u76d8\u200b\u5b58\u53d6\u6570\u636e\u200b\u65f6\u200b\u51fa\u73b0\u200b\u5927\u200b\u7684\u200b\u505c\u987f\u200b\uff0c\u200b\u4ece\u800c\u200b\u964d\u4f4e\u200b\u5176\u4ed6\u200b\u6240\u6709\u200b\u4e1c\u897f\u200b\u7684\u200b\u901f\u5ea6\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200bDBMS\u200b\u5728\u200b\u7b49\u5f85\u200b\u4ece\u200b\u78c1\u76d8\u200b\u83b7\u53d6\u6570\u636e\u200b\u65f6\u200b\u80fd\u591f\u200b\u5904\u7406\u200b\u5176\u4ed6\u200b\u67e5\u8be2\u200b\u3002\uff08\u200b\u6709\u200b\u4e00\u7cfb\u5217\u200b\u6280\u5de7\u200b\uff0c\u200b\u5982\u200b \u200b\u5141\u8bb8\u200b\u5728\u200b\u540c\u4e00\u65f6\u95f4\u200b\u8fd0\u884c\u200b\u4e0d\u540c\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u6216\u8005\u200b\u4e0d\u540c\u200b\u7684\u200b\u67e5\u8be2\u200b\u3001\u200b\u7f13\u5b58\u6570\u636e\u200b\u3001\u200b\u63d0\u524d\u200b\u8ba1\u7b97\u200b\u67d0\u4e9b\u200b\u6570\u636e\u200b \u200b\u7b49\u200b\uff09</p> <p>\u200b\u8fd9\u4e2a\u200b\u9ad8\u7ea7\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u76ee\u6807\u200b\u5c31\u200b\u50cf\u200b \u200b\u865a\u62df\u5185\u5b58\u200b\uff0c\u200b\u5176\u4e2d\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5f88\u5927\u200b\u7684\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u548c\u200b\u4e00\u4e2a\u200b\u8ba9\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4ece\u200b\u78c1\u76d8\u200b\u5bfc\u5165\u200b\u9875\u9762\u200b\u7684\u200b\u5730\u65b9\u200b\u3002</p> <p>\u200b\u5b9e\u73b0\u200b\u865a\u62df\u5185\u5b58\u200b\u7684\u200b\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\uff1a \u200b\u4f7f\u7528\u200bmmap \u200b\u5185\u5b58\u200b\u6620\u5c04\u200b\u6587\u4ef6\u200b \u200b\u5c06\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u6620\u5c04\u200b\u5230\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u8fdb\u7a0b\u200b\u5728\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u4e0a\u200b\u8bfb\u53d6\u200b\uff0c\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u8d1f\u8d23\u200b\u5728\u200b\u78c1\u76d8\u200b\u548c\u200b\u5185\u5b58\u200b\u4e4b\u95f4\u200b\u6765\u56de\u200b\u79fb\u52a8\u200b\u9875\u9762\u200b\u3002 \u200b\u7136\u800c\u200b\uff0c\u200b\u5982\u679c\u200bmmap\u200b\u9047\u5230\u200bpage fault\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u8fdb\u7a0b\u200b\u5c06\u4f1a\u200b\u88ab\u200b\u963b\u585e\u200b\uff08\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u8981\u200b\u5c06\u200bpage\u200b\u4ece\u200b\u78c1\u76d8\u200bload\u200b\u5230\u200b\u5185\u5b58\u200b\uff09\u3002</p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u53ea\u200b\u9700\u8981\u200b\u8bfb\u53d6\u6570\u636e\u200b\u7684\u8bdd\u200b\uff0c\u200b\u4f7f\u7528\u200bmmap\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u53ef\u884c\u200b\u7684\u200b\uff0c\u200b\u4f46\u662f\u200b\u95ee\u9898\u200b\u5728\u4e8e\u200b\u6211\u4eec\u200b\u5e76\u200b\u4e0d\u4ec5\u4ec5\u200b\u9700\u8981\u200b\u8bfb\u200b\u3002\u200b\u5982\u679c\u200b\u6709\u200b\u5199\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u662f\u200b\u4e0d\u200b\u77e5\u9053\u200b\u54ea\u4e9b\u200bpage\u200b\u9700\u8981\u200b\u5728\u200b\u5176\u4ed6\u200bpage\u200b\u6267\u884c\u200b\u524d\u200b\u4ece\u200b\u5185\u5b58\u200b\u5237\u5230\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\uff0c\u200b\u8fd9\u200b\u5c06\u200b\u4f1a\u200b\u4e0e\u200b\u65e5\u5fd7\u200b\u4e0e\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b\u7684\u200b\u5b9e\u73b0\u200b\u6709\u5173\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4e00\u4e9b\u200b\u6307\u4ee4\u200b\u6765\u200b\u6307\u5bfc\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u8fdb\u884c\u200bpage\u200b\u7684\u200b\u66ff\u6362\u200b\uff1a</p> <ul> <li>madvise \uff1a\u200b\u544a\u8bc9\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4f55\u65f6\u200b\u4f60\u200b\u8ba1\u5212\u200b\u9605\u8bfb\u200b\u67d0\u4e9b\u200b\u9875\u9762\u200b\u3002</li> <li>mlock \uff1a\u200b\u544a\u8bc9\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4e0d\u8981\u200b\u5c06\u200b\u5185\u5b58\u200b\u8303\u56f4\u200b\u4ea4\u6362\u200b\u5230\u200b\u78c1\u76d8\u200b\u3002</li> <li>msync \uff1a\u200b\u544a\u8bc9\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5c06\u200b\u5185\u5b58\u200b\u8303\u56f4\u200b\u5237\u65b0\u200b\u5230\u200b\u78c1\u76d8\u200b\u3002</li> </ul> <p>\u200b\u51fa\u4e8e\u200b\u6b63\u786e\u6027\u200b\u548c\u200b\u6027\u80fd\u200b\u7684\u200b\u8003\u8651\u200b\uff0c\u200b\u6211\u4eec\u200b \u200b\u4e0d\u200b\u5efa\u8bae\u200b\u5728\u200bDBMS\u200b\u4e2d\u200b\u4f7f\u7528\u200bmmap \u3002</p> <p>\u200b\u5c3d\u7ba1\u200b\u4f7f\u7528\u200bmmap\u200b\u7cfb\u7edf\u200b\u5c06\u200b\u5177\u6709\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f46\u200b\u8ba9\u200bDBMS\u200b\u5b9e\u73b0\u200b\u8fd9\u4e9b\u200b\u8fc7\u7a0b\u200b\u672c\u8eab\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u66f4\u597d\u200b\u7684\u200b\u63a7\u5236\u200b\u548c\u200b\u6027\u80fd\u200b\uff08\u200b\u4ee5\u200b\u6b63\u786e\u200b\u7684\u200b\u987a\u5e8f\u200b\u5c06\u810f\u9875\u200b\u5237\u200b\u5230\u200b\u78c1\u76d8\u200b\uff0c\u200b\u66f4\u597d\u200b\u7684\u200b\u9884\u53d6\u200b\u3001buffer \u200b\u66ff\u6362\u200b\u3001\u200b\u8fdb\u7a0b\u200b/\u200b\u7ebf\u7a0b\u200b\u8c03\u5ea6\u200b\u7b56\u7565\u200b\uff09\u3002</p>"},{"location":"db/cmu15445/L3/#\u6570\u636e\u5e93\u5b58\u50a8","title":"\u6570\u636e\u5e93\u200b\u5b58\u50a8","text":"<p>\u200b\u5173\u4e8e\u200b  \u200b\u6570\u636e\u5e93\u200b\u5b58\u50a8\u200b \uff0c\u200b\u6211\u4eec\u200b\u5fc5\u987b\u200b\u5173\u5fc3\u200b\u7684\u200b\u95ee\u9898\u200b\u4e3b\u8981\u200b\u6709\u200b\u4e24\u4e2a\u200b\uff1a</p> <ol> <li>\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u6587\u4ef6\u200b\u8868\u793a\u200b\u6570\u636e\u5e93\u200b\uff08\u200b\u5982\u4f55\u200b\u5728\u200b\u4e00\u7cfb\u5217\u200b\u9875\u200bpages\u200b\u4e0a\u200b\u7ec4\u7ec7\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u5982\u4f55\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u9875\u200b\u5b58\u50a8\u200b\u5728\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u9875\u200b\u4e2d\u200b\u7684\u200btuple\u200b\u600e\u4e48\u6837\u200b\u7684\u200b\u3002\uff09</li> <li>\u200b\u5982\u4f55\u200b\u7ba1\u7406\u200b\u5185\u5b58\u200b\u4ee5\u53ca\u200b\u5728\u200b\u786c\u76d8\u200b\u95f4\u200b\u6765\u56de\u200b\u79fb\u52a8\u200b\u6570\u636e\u200b</li> </ol> <p>\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u5f62\u5f0f\u200b\u4e2d\u200b\uff0cDBMS\u200b\u5c06\u200b\u6570\u636e\u5e93\u200b\u4ee5\u200b\u6587\u4ef6\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b \u3002\u200b\u6709\u4e9b\u200b\u53ef\u80fd\u200b\u4f7f\u7528\u200b\u6587\u4ef6\u200b\u5c42\u6b21\u7ed3\u6784\u200b\uff0c\u200b\u6709\u4e9b\u200b\u53ef\u80fd\u200b\u4f7f\u7528\u200b\u5355\u4e2a\u200b\u6587\u4ef6\u200b\uff08\u200b\u4f8b\u5982\u200bSQLite\u200b\u7684\u200bdb\u200b\u6587\u4ef6\u200b\uff09\u3002</p> <p>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4e0d\u200b\u77e5\u9053\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002\u200b\u53ea\u6709\u200bDBMS\u200b\u77e5\u9053\u200b\u5982\u4f55\u200b\u7834\u8bd1\u200b\u5b83\u4eec\u200b\u7684\u200b\u5185\u5bb9\u200b \uff0c\u200b\u56e0\u4e3a\u200b\u5185\u5bb9\u200b\u662f\u200b\u4ee5\u200b\u7279\u5b9a\u200b\u4e8e\u200b\u67d0\u79cd\u200bDBMS\u200b\u7684\u200b\u65b9\u5f0f\u200b\u7f16\u7801\u200b\u7684\u200b\u3002\uff08\u200b\u8fd9\u4e9b\u200b\u6587\u4ef6\u200b\u662f\u200b\u4e13\u200b\u5c5e\u4e8e\u200b\u67d0\u4e2a\u200b\u7279\u5b9a\u200bDBMS\u200b\u7684\u200b\uff09</p> <p>\u200b\u6570\u636e\u5e93\u200b\u6587\u4ef6\u200b\u901a\u5e38\u200b\u5b58\u653e\u200b\u5728\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u63d0\u4f9b\u200b\u7684\u200b**\u200b\u6587\u4ef6\u7cfb\u7edf\u200b** \u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u57fa\u4e8e\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u6240\u200b\u63d0\u4f9b\u200b\u7684\u200b\u57fa\u672c\u200b\u8bfb\u5199\u200bAPI\u200b\u6765\u200b\u5bf9\u200b\u6587\u4ef6\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b\u3002</p> <p>DBMS\u200b\u7684\u200b \u200b\u5b58\u50a8\u7ba1\u7406\u200b\u5668\u200b \u200b\u8d1f\u8d23\u200b\u7ef4\u62a4\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u6587\u4ef6\u200b\u3002\u200b\u5b83\u200b\u5c06\u200b\u6587\u4ef6\u7ec4\u7ec7\u200b\u4e3a\u200bpage\u200b\u7684\u200b\u96c6\u5408\u200b\u3002\u200b\u5b83\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u8ddf\u8e2a\u200bpage\u200b\u4e0a\u200b\u7684\u200b\u6240\u6709\u200b\u8bfb\u53d6\u200b/\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u9875\u9762\u200b\u4e2d\u200b\u8fd8\u6709\u200b\u591a\u5c11\u200b\u7a7a\u95f2\u200b\u7a7a\u95f4\u200b\u3002\u200b\u6709\u4e9b\u200b\u7cfb\u7edf\u200b\u4f1a\u200b\u8981\u6c42\u200bpage\u200b\u662f\u200b\u81ea\u200b\u5305\u542b\u200b\u7684\u200b\uff0c\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u9605\u8bfb\u200b\u6bcf\u4e2a\u200bpage\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u6240\u6709\u200b\u4fe1\u606f\u200b\u90fd\u200b\u5b58\u5728\u200bpage\u200b\u672c\u8eab\u200b\uff0c\u200b\u8fd9\u200b\u4f7f\u5f97\u200bpage\u200b\u51fa\u9519\u200b\u65f6\u80fd\u200b\u5c3d\u53ef\u80fd\u200b\u5bb9\u707e\u200b\u6062\u590d\u200b\u3002</p> <p>Info</p> <p>\u200b\u67d0\u4e9b\u200b\u9ad8\u7aef\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u5b9e\u9645\u4e0a\u200b\u5728\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u4e4b\u4e0a\u200b\u4f1a\u200b\u6709\u200b\u4e00\u4e2a\u200bshim\u200b\u5c42\u200b\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u6570\u636e\u5e93\u200b\u53bb\u200b\u505a\u200b\u4e00\u4e9b\u200b\u78c1\u76d8\u200b\u8c03\u5ea6\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u50cf\u662f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4e00\u5806\u200b\u7ebf\u7a0b\u200b\u6765\u200b\u5bf9\u200b\u5f7c\u6b64\u200b\u90bb\u8fd1\u200b\u7684\u200b\u533a\u5757\u200b\u8fdb\u884c\u200b\u5199\u5165\u200b\uff0c\u200b\u6211\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u5757\u200b\u5408\u5e76\u200b\uff0c\u200b\u5e76\u200b\u505a\u200b\u4e00\u6b21\u200b\u5199\u5165\u200b\u8bf7\u6c42\u200b\u3002\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u505a\u5230\u200b\u8fd9\u4e9b\u200b\u4e8b\u60c5\u200b\uff0c\u200b\u4f46\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5e76\u4e0d\u77e5\u9053\u200b\u5728\u200b\u6b64\u200b\u4e4b\u4e0a\u200b\u7684\u200b\u67e5\u8be2\u200b\u8bed\u4e49\u200b\u5230\u5e95\u200b\u662f\u200b\u4ec0\u4e48\u200b\u3002</p> <p>\u200b\u5927\u90e8\u5206\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u4e0d\u4f1a\u200b\u53bb\u200b\u505a\u200b\u8fd9\u4e2a\u200bshim\u200b\u5c42\u200b\uff0c\u200b\u5728\u200b\u6211\u4eec\u200b\u6240\u200b\u505a\u200b\u7684\u200b\u9879\u76ee\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u53bb\u200b\u505a\u200b\uff0c\u200b\u901a\u5e38\u200b\u8fd9\u200b\u662f\u200b\u5728\u200b\u9ad8\u7ea7\u200b\u8bfe\u7a0b\u200b\u4e2d\u200b\u505a\u200b\u7684\u200b\u4e1c\u897f\u200b\u3002</p>"},{"location":"db/cmu15445/L3/#page","title":"page","text":"<p>\u200b\u672c\u8d28\u200b\u4e0a\u200b\uff0c\u200b\u4e00\u4e2a\u200bpage\u200b\u662f\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u5927\u5c0f\u200b\u7684\u200bblock \uff0c\u200b\u53ef\u200b\u5305\u542b\u200b\u4e0d\u540c\u200b\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u200b(\u200b\u5143\u7ec4\u200b\u3001\u200b\u5143\u200b\u6570\u636e\u200b\u3001\u200b\u7d22\u5f15\u200b\u3001\u200b\u65e5\u5fd7\u200b\u8bb0\u5f55\u200b\u7b49\u200b)\u3002\u200b\u5927\u591a\u6570\u200bDBMS\u200b\u4e2d\u200b\uff0c\u200b\u4e00\u4e2a\u200bpage\u200b\u53ea\u200b\u5b58\u50a8\u200b\u4e00\u79cd\u200b\u7c7b\u578b\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4f8b\u5982\u200b\u53ea\u200b\u5b58\u50a8\u200btuple\uff0c\u200b\u53ea\u200b\u5b58\u50a8\u200b\u7d22\u5f15\u200b\u7b49\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u6bcf\u4e2a\u200bpage\u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u8d4b\u4e88\u200b\u2f00\u200b\u4e2a\u200b\u552f\u200b\u2f00\u200b\u7684\u200b\u5185\u90e8\u200b\u6807\u8bc6\u7b26\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u4f1a\u200b\u751f\u6210\u200b\u5c5e\u4e8e\u200bpage\u200b\u7684\u200bID\u3002</p> <p>\u200b\u6bcf\u4e2a\u200bpage\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\u3002\u200b\u5982\u679c\u200b\u6570\u636e\u5e93\u200b\u662f\u200b\u5355\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u90a3\u4e48\u200b page ID \u200b\u53ef\u4ee5\u200b\u53ea\u662f\u200b\u6587\u4ef6\u200b\u504f\u79fb\u91cf\u200b\u3002 \u200b\u5927\u591a\u6570\u200b DBMS \u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200bindirection \u200b\u5c42\u200b\uff0c\u200b\u6765\u200b\u5c06\u200b page ID \u200b\u6620\u5c04\u200b\u5230\u200b\u7269\u7406\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u548c\u200b\u504f\u79fb\u91cf\u200b\uff09\u3002\u200b\u7cfb\u7edf\u200b\u7684\u200b\u4e0a\u5c42\u200b\u5c06\u200b\u8bf7\u6c42\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200b\u9875\u7801\u200b\uff0c\u200b\u7136\u540e\u200b\u5b58\u50a8\u7ba1\u7406\u200b\u5668\u200b\u5fc5\u987b\u200b\u5c06\u200b\u8be5\u200b\u9875\u7801\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6587\u4ef6\u200b\u548c\u200b\u504f\u79fb\u91cf\u200b\uff0c\u200b\u4ee5\u200b\u627e\u5230\u200b\u8be5\u9875\u200b\u3002</p> <p>\u200b\u5927\u591a\u6570\u200bDBMS\u200b\u4f7f\u7528\u200b\u56fa\u5b9a\u200b\u5927\u5c0f\u200b\u7684\u200bpage \uff0c\u200b\u4ee5\u200b\u907f\u514d\u200b\u652f\u6301\u200b\u53ef\u53d8\u200b\u5927\u5c0f\u200bpage\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u5de5\u7a0b\u200b\u5f00\u9500\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u53ef\u53d8\u200b\u5927\u5c0f\u200b\u7684\u200b\u9875\u9762\u200b\uff0c\u200b\u5220\u9664\u200b\u4e00\u4e2a\u200b\u9875\u9762\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5728\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6f0f\u6d1e\u200b\uff0cDBMS\u200b\u65e0\u6cd5\u200b\u8f7b\u677e\u200b\u5730\u7528\u200b\u65b0\u9875\u9762\u200b\u586b\u8865\u200b\u8fd9\u4e2a\u200b\u6f0f\u6d1e\u200b\u3002</p> <p>\u200b\u5728\u200bDBMS\u200b\u4e2d\u200b\uff0cpage\u200b\u6709\u200b\u4e09\u4e2a\u200b\u6982\u5ff5\u200b:</p> <ol> <li>\u200b\u786c\u4ef6\u200b\u9875\u9762\u200b\uff084KB\uff09\uff1a\u200b\u4f60\u200b\u4ece\u200b\u5b9e\u9645\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u672c\u8eab\u200b\u83b7\u5f97\u200b\u7684\u200bpage\u200b\u76f8\u5173\u200b\u7684\u200bAPI\u200b\u6216\u200bpage\u200b\u8bbf\u95ee\u200b\u7ea7\u522b\u200b\u3002</li> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u9875\u9762\u200b\uff084KB\uff09\uff1a\u200b\u901a\u8fc7\u200b\u5b83\u200b\u53ef\u200b\u4ece\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u4e2d\u200b\u53d6\u51fa\u200b\u6570\u636e\u200b\u653e\u5165\u200b\u5185\u5b58\u200b\u3002</li> <li>\u200b\u6570\u636e\u5e93\u200b\u9875\u9762\u200b\uff08512B -16 KB)\u3002</li> </ol> <p>\u200b\u786c\u4ef6\u200b\u9875\u9762\u200b\u662f\u200b\u6211\u4eec\u200b\u6700\u200b\u5173\u5fc3\u200b\u7684\u200b\uff0c\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u53ea\u80fd\u200b\u4fdd\u8bc1\u200b\u786c\u4ef6\u200b\u9875\u9762\u200b\u5927\u5c0f\u200b\u7684\u200b\u539f\u5b50\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\u3002\u200b\u5982\u679c\u200b\u786c\u4ef6\u200b\u9875\u200b\u662f\u200b4kb\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u200b\u7cfb\u7edf\u200b\u5c1d\u8bd5\u200b\u5c06\u200b4kb\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b\u65f6\u200b\uff0c\u200b\u8981\u4e48\u200b\u5c06\u200b\u5199\u5165\u200b\u5168\u90e8\u200b4kb\uff0c\u200b\u8981\u4e48\u200b\u4e0d\u200b\u5199\u5165\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b  \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u9875\u200b\u6bd4\u200b\u786c\u4ef6\u200b\u9875\u200b\u5927\u200b\uff0cDBMS\u200b\u5c06\u200b\u4e0d\u5f97\u4e0d\u200b\u91c7\u53d6\u200b\u989d\u5916\u200b\u7684\u200b\u63aa\u65bd\u200b\u6765\u200b\u786e\u4fdd\u200b\u6570\u636e\u5b89\u5168\u200b\u5730\u200b\u5199\u5165\u200b \uff0c\u200b\u56e0\u4e3a\u200b\u5f53\u200b\u7cfb\u7edf\u200b\u5d29\u6e83\u200b\u65f6\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u5c06\u200b\u6570\u636e\u5e93\u200b\u9875\u200b\u5199\u5165\u200b\u78c1\u76d8\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u53ea\u200b\u5b8c\u6210\u200b\u4e86\u200b\u4e00\u90e8\u5206\u200b\uff08\u200b\u786c\u4ef6\u200b\u53ea\u80fd\u200b\u4fdd\u8bc1\u200b4KB\u200b\u5927\u5c0f\u200b\u7684\u200b\u6570\u636e\u200b\u6ca1\u6709\u200b\u95ee\u9898\u200b\uff09\u3002\u200b\u8fd9\u4f1a\u200b\u5bf9\u200b\u65e5\u5fd7\u200b\u4e0e\u200b\u5e76\u53d1\u200b\u4ea7\u751f\u200b\u4e00\u5b9a\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</p> <p>\u200b\u4e0d\u540c\u200b\u7684\u200bDBMS\u200b\u4f1a\u200b\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u7ba1\u7406\u200b\u78c1\u76d8\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200bpages\uff08\u200b\u5806\u200b\u6587\u4ef6\u200b\u3001\u200b\u987a\u5e8f\u200b\u6587\u4ef6\u200b\u3001hash\u200b\u6587\u4ef6\u200b\u7b49\u200b\uff09\uff0c\u200b\u8fd9\u91cc\u200b\u5217\u4e3e\u200b\u4e00\u79cd\u200b\u5e38\u89c1\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1aHeap File Organization\u3002</p>"},{"location":"db/cmu15445/L3/#heap-file","title":"heap file","text":"<p>\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b heap\u200b\u6587\u4ef6\u200b\u662f\u200b\u4e00\u4e2a\u200b\u65e0\u5e8f\u200b\u7684\u200bpage\u200b\u96c6\u5408\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u968f\u673a\u200b\u5730\u200b\u628a\u200btuple\u200b\u6570\u636e\u200b\u5b58\u5728\u200b\u6587\u4ef6\u200b\u91cc\u200b\u3002</p> <p>Warning</p> <p>\u200b\u5173\u7cfb\u6570\u636e\u5e93\u200b\u6a21\u578b\u200b\u4e2d\u200b\u7684\u200b\u884c\u200b\u65e0\u5e8f\u200b\u548c\u200b\u5217\u200b\u65e0\u5e8f\u200b\u6027\u8d28\u200b\u4f7f\u5f97\u200b\u8fd9\u79cd\u200b\u968f\u673a\u200b\u5b58\u50a8\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u95ee\u9898\u200b</p> <p>\u200b\u4e24\u79cd\u200b\u8868\u793a\u200bheap\u200b\u6587\u4ef6\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a</p> <ol> <li>Linked List \u200b\u94fe\u8868\u200b\uff1a \u200b\u5806\u200b\u6587\u4ef6\u200b\u7684\u200bheader\u200b\u4e2d\u200b\uff0c\u200b\u94fe\u8868\u200b\u6709\u200b\u4e24\u4e2a\u200b\u6307\u9488\u200b\uff0c\u200b\u5206\u522b\u200b\u6307\u5411\u200b\u7a7a\u95f2\u200b\u9875\u200b\u5217\u8868\u200b\u548c\u200b\u6570\u636e\u200b\u9875\u200b\u5217\u8868\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5982\u679c\u200bDBMS\u200b\u6b63\u5728\u200b\u5bfb\u627e\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200b\u9875\u9762\u200b\uff0c\u200b\u5b83\u200b\u5fc5\u987b\u200b\u5bf9\u200b\u6570\u636e\u200b\u9875\u9762\u200b\u5217\u8868\u200b\u8fdb\u884c\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\uff0c\u200b\u76f4\u5230\u200b\u627e\u5230\u200b\u5b83\u200b\u6b63\u5728\u200b\u5bfb\u627e\u200b\u7684\u200b\u9875\u9762\u200b\u3002(\u200b\u5f88\u8822\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u57fa\u672c\u200b\u6ca1\u4eba\u7528\u200b)\u3002    </li> <li>page directory \u200b\u9875\u9762\u200b\u76ee\u5f55\u200b\uff1a DBMS\u200b\u7ef4\u62a4\u200b\u7684\u200b\u7279\u6b8a\u200b\u9875\u9762\u200b\uff0c\u200b\u8ddf\u8e2a\u200b\u6570\u636e\u200b\u9875\u9762\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u7ef4\u62a4\u200b\u4e86\u200bpage ID \u200b\u548c\u200bpage\u200b\u6240\u200b\u5904\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u6620\u5c04\u200b\uff09\u200b\u4ee5\u53ca\u200b\u6bcf\u4e2a\u200b\u9875\u9762\u200b\u4e0a\u200b\u7684\u200b\u7a7a\u95f2\u200b\u7a7a\u95f4\u200b\u6570\u91cf\u200b\u3002\u200b\u6570\u636e\u5e93\u200b\u5fc5\u987b\u200b\u4fdd\u8bc1\u200b\u76ee\u5f55\u200b\u9875\u9762\u200b\u548c\u200b\u6570\u636e\u200b\u9875\u9762\u200b\u7684\u200b\u540c\u6b65\u200b\u3002</li> </ol> <p></p>"},{"location":"db/cmu15445/L3/#page\u5185\u90e8\u7ed3\u6784","title":"page\u200b\u5185\u90e8\u7ed3\u6784","text":"<p>\u200b\u6bcf\u4e2a\u200b page \u200b\u90fd\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b  header \uff0c\u200b\u8bb0\u5f55\u200b\u5173\u4e8e\u200b page \u200b\u7684\u200b\u4e00\u4e9b\u200b metadata\uff1a</p> <ul> <li>page \u200b\u5927\u5c0f\u200b\u3001\u200b\u6821\u9a8c\u200b\u548c\u200b\u3001DBMS\u200b\u7684\u200b\u7248\u672c\u200b\u3001\u200b\u4e8b\u52a1\u200b\u7684\u200b\u53ef\u89c1\u200b\u6027\u200b\uff08\u200b\u4e00\u4e9b\u200b\u6570\u636e\u200b\u67e5\u8be2\u200b\u548c\u200b\u4fee\u6539\u200b\u7684\u200b\u6743\u9650\u200b\u7b49\u200b\uff09\u3001\u200b\u538b\u7f29\u200b\u4fe1\u606f\u200b\u3002</li> <li>\u200b\u4e00\u4e9b\u200b\u7cfb\u7edf\u200b\u8981\u6c42\u200b\u9875\u9762\u200b\u662f\u200b\u81ea\u200b\u5305\u542b\u200b\u7684\u200b\uff08\u200b\u4f8b\u5982\u200boracle\uff09\u3002</li> </ul> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6839\u636e\u200b header \u200b\u7684\u200b\u4fe1\u606f\u200b\u6765\u200b\u89e3\u6790\u200bpage\u200b\u4e2d\u200b\u5b58\u50a8\u200b\u7684\u200b\u6570\u636e\u200b\u3002</p> <p>page \u200b\u4e2d\u200b\u5e03\u5c40\u200b\u6570\u636e\u200b\u7684\u200b\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\u662f\u200b\u7c7b\u4f3c\u200b\u6570\u7ec4\u200b\u7684\u200b\u65b9\u5f0f\u200b\u53bb\u200b\u5b58\u50a8\u200b tuple\uff0cheader \u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002\u200b\u7136\u540e\u200b\u6bcf\u6b21\u200b\u6dfb\u52a0\u200b\u65b0\u200b tuple \u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u5c06\u200b\u8be5\u200b tuple \u200b\u6dfb\u52a0\u200b\u5230\u200b\u672b\u5c3e\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5f53\u200b\u5b83\u200b\u5220\u9664\u200b tuple \u200b\u6216\u200b tuple \u200b\u5177\u6709\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u5c5e\u6027\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u95ee\u9898\u200b\u3002</p> <p>\u200b\u5728\u200bpage \u200b\u4e2d\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\u6709\u200b\u4e24\u79cd\u200b\u4e3b\u8981\u200b\u65b9\u6cd5\u200b\uff1aslotted-pages\u3001log-structured\u3002</p> <p>Info</p> <p>slotted-pages \u200b\u662f\u200b\u5927\u591a\u6570\u200bDBMS\u200b\u91c7\u7528\u200b\u4e3b\u8981\u200b\u65b9\u5f0f\u200b\u3002</p> <p>slotted-pages \uff1apage \u200b\u5c06\u200b slot \u200b\u6620\u5c04\u200b\u5230\u200b offset\uff08\u200b\u504f\u79fb\u91cf\u200b\uff09\u3002</p> <p></p> <ul> <li>\u200b\u5f53\u4eca\u200bDBMS\u200b\u4e2d\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</li> <li>\u200b\u5934\u90e8\u200bheader\u200b\u8ddf\u8e2a\u200b \u200b\u4f7f\u7528\u200b\u7684\u200bslot\u200b\u7684\u200b\u6570\u91cf\u200b\u3001\u200b\u6700\u540e\u200b\u4f7f\u7528\u200b\u7684\u200bslot\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u504f\u79fb\u91cf\u200b\u3001slot\u200b\u6570\u7ec4\u200b\uff0c slot\u200b\u6570\u7ec4\u200b\u8ddf\u8e2a\u200b\u6bcf\u4e2a\u200b\u5143\u7ec4\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200bslot\u200b\u6620\u5c04\u200b\u5230\u200bpage\u200b\u4e0a\u200b\u7684\u200b\u67d0\u4e2a\u200b\u504f\u79fb\u91cf\u200b\u4e0a\u200b\uff09\u3002\u200b\u8fd9\u6837\u200b\u4e00\u4e2a\u200b tuple \u200b\u5c31\u200b\u53ef\u200b\u7531\u200b\u4e00\u4e2a\u200bpage id\u200b\u548c\u200bslot id\u200b\u6765\u200b\u552f\u4e00\u200b\u5b9a\u4f4d\u200b\u3002</li> <li>\u200b\u8981\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\uff0c\u200b\u4ece\u524d\u200b\u5f80\u540e\u200b\u5bf9\u200b slot \u200b\u6570\u7ec4\u200b\u8fdb\u884c\u200b\u586b\u5145\u200b\uff0c\u200b\u800c\u200b\u5143\u7ec4\u200b\u7684\u200b\u6570\u636e\u200b\u4ece\u540e\u200b\u5f80\u524d\u200b\u586b\u5145\u200b\u3002\u200b\u5f53\u200b slot \u200b\u6570\u7ec4\u200b\u548c\u200b\u5143\u7ec4\u200b\u6570\u636e\u200b\u76f8\u9047\u200b\u65f6\u200b\uff0c\u200b\u8be5\u9875\u200b\u88ab\u200b\u8ba4\u4e3a\u200b\u5df2\u6ee1\u200b\uff08\u200b\u4e2d\u95f4\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u7a7a\u9699\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u4e9b\u200b\u7a7a\u95f4\u200b\u592a\u5c0f\u200b\u4ee5\u81f3\u4e8e\u200b\u65e0\u6cd5\u200b\u5b58\u200b\u4e1c\u897f\u200b\uff09\u3002</li> <li>\u200b\u5173\u952e\u5728\u4e8e\u200b\u95f4\u63a5\u200b\u5c42\u200b\u907f\u514d\u200b\u4e86\u200b\u7269\u7406\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b\u66f4\u65b0\u200b\u4fe1\u606f\u200b\u4f20\u64ad\u200b\u5230\u200b\u7cfb\u7edf\u200b\u7684\u200b\u5176\u4ed6\u200b\u4e0a\u5c42\u200b\u90e8\u5206\u200b\u3002\u200b\u6839\u636e\u200bpage ID \u200b\u5c31\u200b\u80fd\u200b\u5728\u200bpage \u200b\u76ee\u5f55\u200b\u4e2d\u200b\u627e\u5230\u200b\u6b64\u200bpage\u200b\u4fdd\u5b58\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u800c\u200b\u6839\u636e\u200bslot\u200b\u5c31\u200b\u80fd\u200b\u627e\u5230\u200btuple\u200b\u7684\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u66f4\u65b0\u200b\u7269\u7406\u200b\u5b58\u50a8\u200b\u65e0\u9700\u200b\u66f4\u65b0\u200b\u5176\u4ed6\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\u3002</li> </ul> <p>log-structured \uff1aDBMS\u200b\u53ea\u200b\u5b58\u50a8\u200b\u65e5\u5fd7\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u5b58\u50a8\u200btuples\u3002</p> <p></p> <ul> <li>\u200b\u5c06\u200b\u6570\u636e\u5e93\u200b\u5982\u4f55\u200b\u4fee\u6539\u200b\uff08\u200b\u63d2\u5165\u200b\u3001\u200b\u66f4\u65b0\u200b\u3001\u200b\u5220\u9664\u200b\uff09\u200b\u7684\u200b\u8bb0\u5f55\u200b\u5b58\u50a8\u200b\u5230\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u3002\u200b\u65b9\u4fbf\u200b\u56de\u6eda\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u7528\u200b\u4e86\u200b\u65e5\u5fd7\u200b\u6570\u636e\u7ed3\u6784\u200b\u540e\u200b\u56de\u6eda\u200b\u53ea\u200b\u9700\u8981\u200b\u5220\u9664\u200b\u67d0\u4e9b\u200blog\u200b\u5373\u53ef\u200b\u5b8c\u6210\u200b\u3002</li> <li>\u200b\u4e3a\u4e86\u200b\u8bfb\u53d6\u200b\u8bb0\u5f55\u200b\uff0cDBMS\u200b\u4ece\u540e\u200b\u5f80\u524d\u200b\u626b\u63cf\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u5e76\u200b\u201c\u200b\u91cd\u65b0\u200b\u521b\u5efa\u200b\u201d\u200b\u5143\u7ec4\u200b\u3002 <p>\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u7d22\u5f15\u200b\u6216\u8005\u200b\u538b\u7f29\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u8fdb\u884c\u200b\u4f18\u5316\u200b\u3002\u200b\u8fd9\u79cd\u200b\u505a\u6cd5\u200b\u5728\u200bHBase\uff0cCassandra\uff0cLevelDB\uff08Google\uff09\u200b\u4ee5\u53ca\u200bRocksDB\uff08Facebook\uff0c\u200b\u7531\u200bLevelDB\u200b\u9b54\u6539\u200b\uff0c\u200b\u79fb\u200b\u9664\u4e86\u200bmmap\uff09\u200b\u4e2d\u200b\u8fd9\u4e9b\u200b\u6bd4\u8f83\u200b\u65b0\u200b\u7684\u200b\u90fd\u200b\u6216\u591a\u6216\u5c11\u200b\u5f97\u5230\u200b\u4e86\u200b\u5e94\u7528\u200b\u4e0e\u200b\u6539\u8fdb\u200b\u3002\u200b\u73b0\u5728\u200b\u8bb8\u591a\u200b\u65b0\u200b\u7684\u200b\u5206\u5e03\u5f0f\u200b\u6570\u636e\u5e93\u200b\u90fd\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\u6280\u672f\u200b\u5e76\u4e14\u200b\u4f7f\u7528\u200bGo\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u4f8b\u5982\u200bCockroachDB\u200b\u4f7f\u7528\u200b\u4e86\u200bRocksDB\u200b\u4f5c\u4e3a\u200b\u5e95\u5c42\u200b\u7684\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u3002 </p> </li> <li>\u200b\u5199\u5feb\u200b\uff0c\u200b\u8bfb\u6162\u200b\u3002</li> <li>\u200b\u5728\u200b\u4ec5\u200b\u8ffd\u52a0\u200b\u5b58\u50a8\u200b\u4e0a\u200b\u5de5\u4f5c\u200b\u5f97\u200b\u5f88\u200b\u597d\u200b\uff0c\u200b\u56e0\u4e3a\u200bDBMS\u200b\u4e0d\u80fd\u200b\u8fd4\u56de\u200b\u5e76\u200b\u66f4\u65b0\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u4e3a\u4e86\u200b\u63d0\u9ad8\u200b\u8bfb\u53d6\u200b\u901f\u5ea6\u200b\uff0cDBMS\u200b\u53ef\u4ee5\u200b\u6709\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5141\u8bb8\u200b\u5b83\u200b\u8df3\u8f6c\u200b\u5230\u200b\u65e5\u5fd7\u200b\u4e2d\u200b\u7684\u200b\u7279\u5b9a\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u5b83\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u5b9a\u671f\u200b\u538b\u7f29\u200b\u65e5\u5fd7\u200b\uff08\u200b\u5982\u679c\u200b\u5b83\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\uff0c\u200b\u7136\u540e\u200b\u5bf9\u200b\u5b83\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u538b\u7f29\u200b\u5b83\u200b\uff0c\u200b\u53ea\u200b\u63d2\u5165\u200b\u66f4\u65b0\u200b\u540e\u200b\u7684\u200b\u5143\u7ec4\u200b\uff09\u3002\u200b\u538b\u7f29\u200b\u7684\u200b\u95ee\u9898\u200b\u4f7f\u200bDBMS\u200b\u6700\u7ec8\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u5199\u200b\u7684\u200b\u653e\u5927\u200b\uff08\u200b\u5b83\u200b\u4e00\u904d\u200b\u53c8\u200b\u4e00\u904d\u200b\u5730\u200b\u91cd\u5199\u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b\uff09\u3002 </li> </ul>"},{"location":"db/cmu15445/L3/#8-tuple\u5185\u90e8\u7ed3\u6784","title":"8 tuple\u200b\u5185\u90e8\u7ed3\u6784","text":"<p>\u200b\u5143\u7ec4\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u5e8f\u5217\u200b\uff08\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\uff09\u3002\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u5b57\u8282\u200b\u89e3\u91ca\u200b\u4e3a\u200b\u5c5e\u6027\u200b\u7c7b\u578b\u200b\u548c\u200b\u503c\u200b\u662f\u200bDBMS\u200b\u7684\u200b\u5de5\u4f5c\u200b\u3002</p> <p></p> <p>Tuple Header \uff1a\u200b\u5305\u542b\u200b\u5173\u4e8e\u200bTuple\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u3002</p> <ul> <li>DBMS\u200b\u7684\u200b\u5e76\u53d1\u200b\u63a7\u5236\u534f\u8bae\u200b\u7684\u200b\u53ef\u89c1\u200b\u6027\u200b\u4fe1\u606f\u200b\uff08\u200b\u5373\u200b\u5173\u4e8e\u200b\u54ea\u4e2a\u200b\u4e8b\u52a1\u200b\u521b\u5efa\u200b/\u200b\u4fee\u6539\u200b\u8be5\u200b\u5143\u7ec4\u200b\u7684\u200b\u4fe1\u606f\u200b\uff09\u3002</li> <li>NULL\u200b\u503c\u200b\u7684\u200b\u4f4d\u200b\u6620\u5c04\u200b\u3002\uff08NULL\u200b\u5b9e\u9645\u200b\u4e5f\u200b\u662f\u200b\u5143\u200b\u6570\u636e\u200b\uff09</li> <li>\u200b\u6ce8\u610f\u200b\uff0cDBMS\u200b\u4e0d\u200b\u9700\u8981\u200b\u5728\u200b\u8fd9\u91cc\u200b\u5b58\u50a8\u200b\u5173\u4e8e\u200b\u6570\u636e\u5e93\u200b\u6a21\u5f0f\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u3002</li> </ul> <p>\u200b\u5143\u7ec4\u200b\u6570\u636e\u200b \uff1a\u200b\u5c5e\u6027\u200b\u7684\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u3002</p> <ul> <li>\u200b\u5c5e\u6027\u200b\u901a\u5e38\u200b\u6309\u7167\u200b\u521b\u5efa\u200b\u8868\u65f6\u200b\u6307\u5b9a\u200b\u7684\u200b\u987a\u5e8f\u200b\u8fdb\u884c\u200b\u5b58\u50a8\u200b\u3002</li> <li>\u200b\u5927\u591a\u6570\u200bDBMS\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u5143\u7ec4\u200b\u8d85\u8fc7\u200bpage\u200b\u7684\u200b\u5927\u5c0f\u200b\u3002</li> </ul> <p>\u200b\u72ec\u7279\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b :</p> <ul> <li>\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7ec4\u200b\u90fd\u200b\u88ab\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\u3002</li> <li>\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\uff1apage ID +\uff08\u200b\u504f\u79fb\u91cf\u200b\u6216\u200bslot\uff09\u3002</li> <li>\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u4e0d\u80fd\u200b\u4f9d\u8d56\u200b\u8fd9\u4e9b\u200b ID \u200b\u6765\u200b\u8868\u793a\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\u3002</li> </ul> <p></p> <p>\u200b\u975e\u200b\u6b63\u89c4\u5316\u200b\u5143\u7ec4\u200b\u6570\u636e\u200b\uff1a \u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u8868\u662f\u200b\u76f8\u5173\u200b\u7684\u200b\uff0cDBMS\u200b\u53ef\u4ee5\u200b\u201c\u200b\u9884\u200b\u8fde\u63a5\u200b\u201d\u200b\u5b83\u4eec\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u8868\u200b\u6700\u7ec8\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200bpage\u200b\u4e0a\u200b\u3002\u200b\u8fd9\u200b\u4f7f\u5f97\u200b\u8bfb\u53d6\u200b\u901f\u5ea6\u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u56e0\u4e3a\u200bDBMS\u200b\u53ea\u200b\u9700\u8981\u200b\u52a0\u8f7d\u200b\u4e00\u4e2a\u200bpage\u200b\u800c\u200b\u4e0d\u662f\u200b\u4e24\u4e2a\u200b\u72ec\u7acb\u200b\u7684\u200bpage\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u200b\u4f7f\u5f97\u200b\u66f4\u65b0\u200b\u66f4\u52a0\u200b\u6602\u8d35\u200b\uff0c\u200b\u56e0\u4e3a\u200bDBMS\u200b\u9700\u8981\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b\u5143\u7ec4\u200b\u63d0\u4f9b\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u7a7a\u95f4\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L3/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u200b\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u8bbe\u5907\u200b\uff1a\u200b\u65ad\u7535\u200b\u540e\u200b\u6570\u636e\u200b\u4e22\u5931\u200b\uff0c\u200b\u968f\u673a\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5b57\u8282\u200b\u5bfb\u5740\u200b\u3002\ud83c\udf30 \u200b\u5185\u5b58\u200b (DRAM)</p> <p>\u200b\u975e\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u8bbe\u5907\u200b\uff1a\u200b\u65ad\u7535\u200b\u540e\u200b\u6570\u636e\u200b\u4e0d\u200b\u4e22\u5931\u200b\uff0c\u200b\u987a\u5e8f\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u5757\u200b/\u200b\u9875\u200b\u5bfb\u5740\u200b\u3002\ud83c\udf30 \u200b\u78c1\u76d8\u200b (\u200b\u56fa\u6001\u200b SSD, \u200b\u673a\u68b0\u200b\u786c\u76d8\u200b HDD)</p> <p>\u200b\u9762\u5411\u200b\u78c1\u76d8\u200b\u7684\u200b DBMS\uff1a\u200b\u6570\u636e\u5e93\u200b\u4f4d\u4e8e\u200b\u78c1\u76d8\u200b\uff0cDBMS \u200b\u7ec4\u4ef6\u200b Buffer Pool \u200b\u7ba1\u7406\u200b\u6570\u636e\u200b\u5728\u200b <code>\u200b\u975e\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u200b</code>\u200b\u548c\u200b <code>\u200b\u6613\u200b\u5931\u6027\u200b\u5b58\u50a8\u200b</code>\u200b\u4e4b\u95f4\u200b\u7684\u200b\u79fb\u52a8\u200b\u3002</p> <p></p> <p>\u200b\u6570\u636e\u5e93\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u88ab\u200b\u7ec4\u7ec7\u200b\u4e3a\u200b \u200b\u9875\u200b\uff0c\u200b\u7b2c\u4e00\u4e2a\u200b\u9875\u200b\u662f\u200b \u200b\u76ee\u5f55\u200b\u9875\u200b\u3002\u200b\u4e3a\u4e86\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\uff0cDBMS \u200b\u9700\u8981\u200b\u5c06\u200b\u6570\u636e\u200b\u5b58\u5165\u200b\u5185\u5b58\u200b\u3002\u200b\u5b83\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u7f13\u51b2\u200b\u6c60\u6765\u200b\u7ba1\u7406\u200b\u78c1\u76d8\u200b\u548c\u200b\u5185\u5b58\u200b\u4e4b\u95f4\u200b\u7684\u200b\u6765\u56de\u200b\u79fb\u52a8\u200b\u3002</p> <p>DBMS \u200b\u4e5f\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u6765\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u3002\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u5c06\u200b\u5411\u200b\u7f13\u51b2\u200b\u6c60\u200b\u8bf7\u6c42\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200b\u9875\u9762\u200b\uff0c\u200b\u7f13\u51b2\u200b\u6c60\u5c06\u200b\u8d1f\u8d23\u200b\u5c06\u200b\u8be5\u200b\u9875\u9762\u200b\u653e\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u5411\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u9875\u9762\u200b\u7684\u200b\u6307\u9488\u200b\u3002\u200b\u7f13\u51b2\u200b\u6c60\u200b\u7ba1\u7406\u5668\u200b\u5c06\u200b\u786e\u4fdd\u200b\u5728\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u5bf9\u200b\u8be5\u200b\u5185\u5b58\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u9875\u9762\u200b\u5728\u200b\u90a3\u91cc\u200b\u3002</p> DBMS \ud83c\udd9a OS\uff1a <p>DBMS \u200b\u5bf9\u200b page \u200b\u7684\u200b\u79fb\u52a8\u200b\u548c\u200b OS \u200b\u4e2d\u200b\u7684\u200b\u865a\u62df\u5185\u5b58\u200b\u5f88\u200b\u50cf\u200b\uff0cOS \u200b\u4e2d\u200b \u200b\u4f7f\u7528\u200b mmap \u200b\u5185\u5b58\u200b\u6620\u5c04\u200b\u6587\u4ef6\u200b \u200b\u5c06\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u6620\u5c04\u200b\u5230\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u8fdb\u7a0b\u200b\u5728\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u4e0a\u200b\u8bfb\u53d6\u200b\uff0c\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u8d1f\u8d23\u200b\u5728\u200b\u78c1\u76d8\u200b\u548c\u200b\u5185\u5b58\u200b\u4e4b\u95f4\u200b\u6765\u56de\u200b\u79fb\u52a8\u200b\u9875\u9762\u200b\u3002 \u200b\u5982\u679c\u200b mmap \u200b\u9047\u5230\u200b page fault\uff0c\u200b\u8be5\u200b\u8fdb\u7a0b\u200b\u5c06\u4f1a\u200b\u88ab\u200b\u963b\u585e\u200b\uff0c\u200b\u7b49\u5f85\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5c06\u200b page \u200b\u4ece\u200b\u78c1\u76d8\u200b load \u200b\u5230\u200b\u5185\u5b58\u200b\u3002</p> <p>\u200b\u82e5\u200b\u6570\u636e\u5e93\u200b\u53ea\u200b\u9700\u200b\u8bfb\u53d6\u6570\u636e\u200b\uff0c\u200b\u4f7f\u7528\u200b mmap \u200b\u662f\u200b\u53ef\u884c\u200b\u7684\u200b\uff0c\u200b\u4f46\u662f\u200b DBMS \u200b\u8fd8\u200b\u9700\u200b\u8fdb\u884c\u200b\u5199\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u800c\u200b OS \u200b\u4e0d\u200b\u77e5\u9053\u200b\u54ea\u4e9b\u200b page \u200b\u9700\u8981\u200b\u5728\u200b\u5176\u4ed6\u200b page \u200b\u6267\u884c\u200b\u524d\u200b\u4ece\u200b\u5185\u5b58\u200b\u5237\u5230\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\uff0c\u200b\u8fd9\u200b\u4e0e\u200b\u65e5\u5fd7\u200b\u4e0e\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b\u7684\u200b\u5b9e\u73b0\u200b\u6709\u5173\u200b\u3002\u200b\u56e0\u6b64\u200b\u51fa\u4e8e\u200b\u6b63\u786e\u6027\u200b\u548c\u200b\u6027\u80fd\u200b\u7684\u200b\u8003\u8651\u200b\uff0c\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u5728\u200bDBMS\u200b\u4e2d\u200b\u4f7f\u7528\u200bmmap \u3002\u200b\u5c3d\u7ba1\u200b\u4f7f\u7528\u200b mmap \u200b\u7cfb\u7edf\u200b\u5c06\u200b\u5177\u6709\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u4f46\u200b\u8ba9\u200b DBMS \u200b\u5b9e\u73b0\u200b\u8fd9\u4e9b\u200b\u8fc7\u7a0b\u200b\u672c\u8eab\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u66f4\u597d\u200b\u7684\u200b\u63a7\u5236\u200b\u548c\u200b\u6027\u80fd\u200b\uff08\u200b\u4ee5\u200b\u6b63\u786e\u200b\u7684\u200b\u987a\u5e8f\u200b\u5c06\u810f\u9875\u200b\u5237\u200b\u5230\u200b\u78c1\u76d8\u200b\uff0c\u200b\u66f4\u597d\u200b\u7684\u200b\u9884\u53d6\u200b\u3001buffer \u200b\u66ff\u6362\u200b\u3001\u200b\u8fdb\u7a0b\u200b/\u200b\u7ebf\u7a0b\u200b\u8c03\u5ea6\u200b\u7b56\u7565\u200b\uff09\u3002</p> <p>\u200b\u6570\u636e\u5e93\u200b\u5b58\u50a8\u200b\uff0c\u200b\u4e3b\u8981\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>\u200b\u5982\u4f55\u200b\u5229\u7528\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u6587\u4ef6\u200b\u8868\u793a\u200b\u6570\u636e\u5e93\u200b    \uff08\u200b\u5982\u4f55\u200b\u5728\u200b\u4e00\u7cfb\u5217\u200b page \u200b\u4e0a\u200b\u7ec4\u7ec7\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u5373\u200b\u5982\u4f55\u200b\u5c06\u200b\u8fd9\u4e9b\u200b page \u200b\u5b58\u50a8\u200b\u5728\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff1bpage \u200b\u4e2d\u200b\u6570\u636e\u200b\u5982\u4f55\u200b\u5b58\u50a8\u200b\uff09</li> <li>\u200b\u5982\u4f55\u200b\u7ba1\u7406\u200b\u5185\u5b58\u200b\u9884\u8ba1\u200b\u5728\u200b\u78c1\u76d8\u200b\u95f4\u200b\u6765\u56de\u200b\u79fb\u52a8\u200b\u6570\u636e\u200b</li> </ol> <p>DBMS \u200b\u5c06\u200b\u6570\u636e\u5e93\u200b\u4ee5\u200b\u6587\u4ef6\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u3002DBMS\u200b\u7684\u200b \u200b\u5b58\u50a8\u7ba1\u7406\u200b\u5668\u200b \u200b\u8d1f\u8d23\u200b\u7ef4\u62a4\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u6587\u4ef6\u200b\u3002\u200b\u5b83\u200b\u5c06\u200b\u6587\u4ef6\u7ec4\u7ec7\u200b\u4e3a\u200b page \u200b\u7684\u200b\u96c6\u5408\u200b\u3002\u200b\u5b83\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u8ddf\u8e2a\u200b page \u200b\u4e0a\u200b\u7684\u200b\u6240\u6709\u200b\u8bfb\u53d6\u200b/\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u9875\u9762\u200b\u4e2d\u200b\u8fd8\u6709\u200b\u591a\u5c11\u200b\u7a7a\u95f2\u200b\u7a7a\u95f4\u200b\u3002</p> <p>\u200b\u4e00\u4e2a\u200b page \u200b\u662f\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u5927\u5c0f\u200b\u7684\u200b block\uff0c\u200b\u6bcf\u4e2a\u200b page \u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b page ID\u3002\u200b\u5982\u679c\u200b\u6570\u636e\u5e93\u200b\u662f\u200b\u5355\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u90a3\u4e48\u200b page ID \u200b\u53ef\u4ee5\u200b\u53ea\u662f\u200b\u6587\u4ef6\u200b\u504f\u79fb\u91cf\u200b\u3002\u200b\u5927\u591a\u6570\u200b DBMS \u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u95f4\u63a5\u200b\u5c42\u200b\uff0c\u200b\u6765\u200b\u5c06\u200b page ID \u200b\u6620\u5c04\u200b\u5230\u200b\u7269\u7406\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\u548c\u200b\u504f\u79fb\u91cf\u200b\uff09\u3002</p> <p>\u200b\u4e0d\u540c\u200b\u7684\u200bDBMS\u200b\u4f1a\u200b\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u7ba1\u7406\u200b\u78c1\u76d8\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b pages\uff08\u200b\u5806\u200b\u6587\u4ef6\u200b\u3001\u200b\u987a\u5e8f\u200b\u6587\u4ef6\u200b\u3001hash\u200b\u6587\u4ef6\u200b\u7b49\u200b\uff09</p> <p>heap \u200b\u6587\u4ef6\u200b\u662f\u200b\u4e00\u4e2a\u200b\u65e0\u5e8f\u200b\u7684\u200b page \u200b\u96c6\u5408\u200b\u3002\u200b\u8868\u793a\u200b heap \u200b\u6587\u4ef6\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff1a</p> <ul> <li>Linked List\uff1a\u200b\u5806\u200b\u6587\u4ef6\u200b\u7684\u200b header \u200b\u4e2d\u200b\uff0c\u200b\u94fe\u8868\u200b\u6709\u200b\u4e24\u4e2a\u200b\u6307\u9488\u200b\uff0c\u200b\u5206\u522b\u200b\u6307\u5411\u200b\u7a7a\u95f2\u200b\u9875\u200b\u5217\u8868\u200b\u548c\u200b\u6570\u636e\u200b\u9875\u200b\u5217\u8868\u200b\u3002\u200b\u82e5\u200b\u8981\u200b\u67e5\u627e\u200b\u6307\u5b9a\u200b page\uff0c\u200b\u9700\u5bf9\u200b\u6570\u636e\u200b\u9875\u200b\u5217\u8868\u200b\u8fdb\u884c\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\u3002\uff08\u200b\u57fa\u672c\u200b\u6ca1\u4eba\u7528\u200b\uff09</li> <li>page directory \uff1aDBMS \u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u9875\u9762\u200b page directory\uff0c\u200b\u7528\u4e8e\u200b\u8ddf\u8e2a\u200b\u6570\u636e\u200b\u9875\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u7ef4\u62a4\u200b page ID \u200b\u548c\u200b page \u200b\u6240\u200b\u5904\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u6620\u5c04\u200b\uff09\u200b\u548c\u200b\u6bcf\u4e2a\u200b\u9875\u200b\u7684\u200b\u7a7a\u95f2\u200b\u7a7a\u95f4\u200b\u6570\u200b\u3002</li> </ul> <p>page \u200b\u4e2d\u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\u65b9\u5f0f\u200b\uff1a</p> <ul> <li>slotted-pages \uff1apage \u200b\u5c06\u200b slot \u200b\u6620\u5c04\u200b\u5230\u200b offset\uff08\u200b\u504f\u79fb\u91cf\u200b\uff09\u3002</li> <li>\u200b\u5934\u90e8\u200bheader\u200b\u8ddf\u8e2a\u200b \u200b\u4f7f\u7528\u200b\u7684\u200bslot\u200b\u7684\u200b\u6570\u91cf\u200b\u3001\u200b\u6700\u540e\u200b\u4f7f\u7528\u200b\u7684\u200bslot\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u504f\u79fb\u91cf\u200b\u3001slot\u200b\u6570\u7ec4\u200b\uff0c slot\u200b\u6570\u7ec4\u200b\u8ddf\u8e2a\u200b\u6bcf\u4e2a\u200b\u5143\u7ec4\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u7684\u200bslot\u200b\u6620\u5c04\u200b\u5230\u200bpage\u200b\u4e0a\u200b\u7684\u200b\u67d0\u4e2a\u200b\u504f\u79fb\u91cf\u200b\u4e0a\u200b\uff09 \u3002\u200b\u8fd9\u6837\u200b\u4e00\u4e2a\u200b tuple \u200b\u5c31\u200b\u53ef\u200b\u7531\u200b\u4e00\u4e2a\u200bpage id\u200b\u548c\u200bslot id\u200b\u6765\u200b\u552f\u4e00\u200b\u5b9a\u4f4d\u200b\u3002</li> <li>\u200b\u8981\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u5143\u7ec4\u200b\uff0c\u200b\u4ece\u524d\u200b\u5f80\u540e\u200b\u5bf9\u200b slot \u200b\u6570\u7ec4\u200b\u8fdb\u884c\u200b\u586b\u5145\u200b\uff0c\u200b\u800c\u200b\u5143\u7ec4\u200b\u7684\u200b\u6570\u636e\u200b\u4ece\u540e\u200b\u5f80\u524d\u200b\u586b\u5145\u200b\u3002\u200b\u5f53\u200b slot \u200b\u6570\u7ec4\u200b\u548c\u200b\u5143\u7ec4\u200b\u6570\u636e\u200b\u76f8\u9047\u200b\u65f6\u200b\uff0c\u200b\u8be5\u9875\u200b\u88ab\u200b\u8ba4\u4e3a\u200b\u5df2\u6ee1\u200b\u3002</li> <li>\u200b\u95f4\u63a5\u200b\u5c42\u200b\u907f\u514d\u200b\u4e86\u200b\u7269\u7406\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b\u66f4\u65b0\u200b\u4fe1\u606f\u200b\u4f20\u64ad\u200b\u5230\u200b\u7cfb\u7edf\u200b\u7684\u200b\u5176\u4ed6\u200b\u4e0a\u5c42\u200b\u90e8\u5206\u200b\u3002 \u200b\u6839\u636e\u200b page ID \u200b\u5c31\u200b\u80fd\u200b\u5728\u200b page \u200b\u76ee\u5f55\u200b\u4e2d\u200b\u627e\u5230\u200b\u6b64\u200b page \u200b\u4fdd\u5b58\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u800c\u200b\u6839\u636e\u200b slot \u200b\u5c31\u200b\u80fd\u200b\u627e\u5230\u200b tuple \u200b\u7684\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b \u3002\u200b\u66f4\u65b0\u200b\u7269\u7406\u200b\u5b58\u50a8\u200b\u65e0\u9700\u200b\u66f4\u65b0\u200b\u5176\u4ed6\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\u3002</li> <li>log-structured\uff1aDBMS\u200b\u53ea\u200b\u5b58\u50a8\u200b\u65e5\u5fd7\u200b\u8bb0\u5f55\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u5b58\u50a8\u200b tuples\u3002</li> <li>\u200b\u4e3a\u4e86\u200b\u8bfb\u53d6\u200b\u8bb0\u5f55\u200b\uff0cDBMS\u200b\u4ece\u540e\u200b\u5f80\u524d\u200b\u626b\u63cf\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u5e76\u200b\u201c\u200b\u91cd\u65b0\u200b\u521b\u5efa\u200b\u201d\u200b\u5143\u7ec4\u200b\u3002</li> <li>\u200b\u5199\u5feb\u200b\uff0c\u200b\u8bfb\u6162\u200b\u3002\u200b\u53ef\u200b\u5b9a\u671f\u200b\u538b\u7f29\u200b\u65e5\u5fd7\u200b\uff0c\u200b\u4f46\u4f1a\u200b\u5bfc\u81f4\u200b\u5199\u200b\u653e\u5927\u200b\uff08\u200b\u4e00\u904d\u200b\u53c8\u200b\u4e00\u904d\u200b\u5730\u200b\u91cd\u5199\u200b\u76f8\u540c\u200b\u7684\u200b\u6570\u636e\u200b\uff09\u3002</li> </ul> <p>Tuple \u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u5e8f\u5217\u200b\uff08\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\uff09\u3002\u200b\u4e00\u4e2a\u200b tuple \u200b\u53ef\u200b\u7531\u200b page id+slot/offset \u200b\u552f\u4e00\u200b\u5b9a\u4f4d\u200b\u3002</p>"},{"location":"db/cmu15445/L4/","title":"Database Storage II","text":"<p> \u200b\u7ea6\u200b 2380 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 8 \u200b\u5206\u949f\u200b</p> <p>\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u6784\u5efa\u200b\u9762\u5411\u200b\u78c1\u76d8\u200b\u7684\u200bDBMS\u3002</p> <p>\u200b\u6211\u4eec\u200b\u4e4b\u524d\u200b\u8bf4\u200b\u8fc7\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u7531\u200b\u4e00\u7cfb\u5217\u200bpage\u200b\u8868\u793a\u200b\uff1b\u200b\u63a5\u7740\u200b\u6211\u4eec\u200b\u8ba8\u8bba\u200b\u4e86\u200b\u5982\u4f55\u200b\u5c06\u200bheap\u200b\u6587\u4ef6\u200b\u62c6\u200b\u5206\u4e3a\u200bpage\uff1b\u200b\u7136\u540e\u200b\u8bb2\u200b\u4e86\u200bpage\u200b\u4e2d\u200b\u7ec4\u7ec7\u200btuple\u200b\u7684\u200b\u5e38\u7528\u200b\u65b9\u6cd5\u200bslotted-pages\uff1b\u200b\u6700\u540e\u200b\u662f\u200btuple\u200b\u4e2d\u200b\u5e03\u5c40\u200b\u3002</p>"},{"location":"db/cmu15445/L4/#\u6570\u636e\u8868\u793a","title":"\u6570\u636e\u8868\u793a","text":"<p>Tuple\u200b\u672c\u8d28\u200b\u4e0a\u200b\u5c31\u662f\u200b byte \u200b\u6570\u7ec4\u200b\u3002DBMS\u200b\u7684\u200b\u4efb\u52a1\u200b\u5c31\u662f\u200b\u5c06\u200b\u90a3\u4e9b\u200bbytes\u200b\u7ffb\u8bd1\u6210\u200b\u6709\u200b\u610f\u4e49\u200b\u7684\u200b\u5c5e\u6027\u200b\u503c\u200b\u3002\u200b\u6570\u636e\u8868\u793a\u200b\u6a21\u5f0f\u200b sehema \u200b\u662f\u200bDBMS\u200b\u5b58\u50a8\u200b\u503c\u200b\u7684\u200b\u5b57\u8282\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002DBMS\u200b\u7684\u200b catalogs \u200b\u4e2d\u200b\u5305\u542b\u200b\u7740\u200b\u6570\u636e\u8868\u200b\u7684\u200b schema \u200b\u548c\u200b\u5143\u7ec4\u200b\u7684\u200b layout\uff08\u200b\u7c7b\u4f3c\u200b\u6570\u636e\u8868\u200b\u7684\u200b\u8bf4\u660e\u4e66\u200b\uff09\u3002</p> <p>\u200b\u5143\u7ec4\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b  \u200b\u4e94\u79cd\u200b\u4e3b\u8981\u200b\u7c7b\u578b\u200b \uff1a\u200b\u6574\u6570\u200b\u3001\u200b\u53ef\u53d8\u200b\u7cbe\u5ea6\u200b\u6570\u200b\u3001\u200b\u5b9a\u70b9\u200b\u7cbe\u5ea6\u200b\u6570\u200b\u3001\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u503c\u200b\u548c\u200b\u65e5\u671f\u200b/\u200b\u65f6\u95f4\u200b\u3002</p> <p>IEEE-754\u200b\u662f\u200b\u4e00\u79cd\u200b\u884c\u4e1a\u6807\u51c6\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u79cd\u200b\u7528\u6765\u200b\u8868\u793a\u200b\u6570\u5b57\u200b\u548c\u200bCPU\u200b\u7684\u200b\u89c4\u8303\u200b</p> <ol> <li> <p>\u200b\u6574\u578b\u200b\uff1a</p> <ul> <li>\u200b\u5927\u591a\u6570\u200b DBMS \u200b\u4f7f\u7528\u200b IEEE-754 \u200b\u6807\u51c6\u200b\u6307\u5b9a\u200b\u7684\u200b\u201c\u200b\u672c\u5730\u200b\u201dC/C++\u200b\u7c7b\u578b\u200b\u5b58\u50a8\u200b\u6574\u6570\u200b\u3002\u200b\u503c\u200b\u7684\u200b\u957f\u5ea6\u200b\u56fa\u5b9a\u200b\u3002</li> <li>\u200b\u793a\u4f8b\u200b\uff1aINTEGER\u3001BIGINT\u3001SMALLINT\u3001TINYINT</li> </ul> </li> <li> <p>\u200b\u53ef\u53d8\u200b\u7cbe\u5ea6\u200b\u7c7b\u578b\u200b\uff1a</p> <ul> <li>\u200b\u4f7f\u7528\u200b IEEE-754 \u200b\u6807\u51c6\u200b\u6307\u5b9a\u200b\u7684\u200b\u201c\u200b\u672c\u5730\u200b\u201dC/ C++\u200b\u7c7b\u578b\u200b\u7684\u200b\u4e0d\u200b\u7cbe\u786e\u200b\u3001\u200b\u53ef\u53d8\u200b\u7cbe\u5ea6\u200b\u7684\u200b\u6570\u5b57\u200b\u7c7b\u578b\u200b\u3002\u200b\u503c\u200b\u7684\u200b\u957f\u5ea6\u200b\u56fa\u5b9a\u200b\u3002</li> <li>\u200b\u53ef\u53d8\u200b\u7cbe\u5ea6\u200b\u6570\u6bd4\u200b\u4efb\u610f\u200b\u7cbe\u5ea6\u200b\u6570\u200b\uff08\u200b\u56fa\u5b9a\u200b\u7cbe\u5ea6\u200b\u6570\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u662f\u200b\u4efb\u610f\u200b\u7684\u200b\uff0c\u200b\u5373\u200b\u5b83\u200b\u7684\u200b\u8303\u56f4\u200b\u65e0\u6cd5\u200b\u786e\u5b9a\u200b\uff09\u200b\u8ba1\u7b97\u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u56e0\u4e3a\u200bCPU\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u5bf9\u200b\u5b83\u4eec\u200b\u6267\u884c\u200b\u6307\u4ee4\u200b\u3002\u200b\u4f46\u200b\u5b58\u5728\u200b\u820d\u5165\u200b\u8bef\u5dee\u200b\u3002</li> <li>\u200b\u793a\u4f8b\u200b\uff1aFLOAT\u3001REAL/DOUBLE</li> </ul> </li> <li>\u200b\u56fa\u5b9a\u200b\u7cbe\u5ea6\u200b\u7c7b\u578b\u200b\uff1a <ul> <li>\u200b\u8fd9\u4e9b\u200b\u662f\u200b\u5177\u6709\u200b\u4efb\u610f\u200b\u7cbe\u5ea6\u200b\u548c\u200b\u6bd4\u4f8b\u200b\u7684\u200b\u6570\u5b57\u200b\u6570\u636e\u7c7b\u578b\u200b\u3002\u200b\u5b83\u4eec\u200b\u901a\u5e38\u200b\u4ee5\u200b\u7cbe\u786e\u200b\u7684\u200b\u3001\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u8868\u793a\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\uff0c\u200b\u5e76\u200b \u200b\u5e26\u6709\u200b\u989d\u5916\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b \uff0c\u200b\u8fd9\u4e9b\u200b\u5143\u200b\u6570\u636e\u200b\u5c06\u200b\u544a\u8bc9\u200b\u7cfb\u7edf\u200b\u5c0f\u6570\u200b\u5e94\u8be5\u200b\u5728\u200b\u54ea\u91cc\u200b\u3002\u200b\u6240\u4ee5\u200b \u200b\u4e0d\u200b\u5b58\u5728\u200b\u820d\u5165\u200b\u8bef\u5dee\u200b\uff0c\u200b\u4f46\u200b\u8ba1\u7b97\u200b\u6162\u200b \uff0c\u200b\u56e0\u4e3a\u200b\u8ba1\u7b97\u200b\u9700\u8981\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6307\u4ee4\u200b\u5904\u7406\u200b\u3002\uff08\u200b\u50cf\u200b VARCHAR \u200b\u4f46\u200b\u4e0d\u662f\u200b string\uff09</li> <li>\u200b\u82e5\u200b\u4e0d\u60f3\u200b\u56e0\u200b\u7cbe\u5ea6\u200b\u95ee\u9898\u200b\u4e22\u5931\u200b\u6570\u636e\u200b\uff0c\u200b\u5c31\u200b\u4f7f\u7528\u200b\u56fa\u5b9a\u200b\u7cbe\u5ea6\u200b\u7c7b\u578b\u200b\uff0c\u200b\u4f46\u200bDBMS\u200b\u4e3a\u200b\u83b7\u5f97\u200b\u8fd9\u79cd\u200b\u51c6\u786e\u6027\u200b\u4ed8\u51fa\u200b\u4e86\u200b\u6027\u80fd\u200b\u4ee3\u4ef7\u200b\u3002</li> <li>\u200b\u793a\u4f8b\u200b\uff1aNUMERIC\u3001 DECIMAL</li> </ul> </li> <li> <p>\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u7c7b\u578b\u200b\uff1a</p> <ul> <li>\u200b\u4efb\u610f\u200b\u957f\u5ea6\u200b\u7684\u200b\u5b57\u8282\u200b\u6570\u7ec4\u200b\u3002</li> <li>\u200b\u6709\u200b\u4e00\u4e2a\u200b header \u200b\u8ddf\u8e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u957f\u5ea6\u200b\uff08\u200b\u82e5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u975e\u5e38\u200b\u5927\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u540e\u9762\u200b\u8fd8\u200b\u8ddf\u200b\u4e00\u4e2a\u200bchecksum\uff09\uff0c\u200b\u4f7f\u200b\u5b83\u200b\u5bb9\u6613\u200b\u8df3\u8f6c\u200b\u5230\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002\u200b\u540e\u9762\u200b\u8ddf\u200b\u5b57\u8282\u200b\u5e8f\u5217\u200b\u3002</li> <li>\u200b\u5927\u591a\u6570\u200b DBMS \u200b\u4e0d\u200b\u5141\u8bb8\u200b tuple \u200b\u8d85\u8fc7\u200b\u5355\u4e2a\u200b page \u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4ed6\u4eec\u200b\u5728\u200b overflow page \u200b\u4e0a\u200b\u5199\u5165\u200b\u503c\u200b\uff0c\u200b\u8ba9\u200b tuple \u200b\u5305\u542b\u200b\u5bf9\u200b\u8be5\u200b page \u200b\u7684\u200b\u6307\u9488\u200b\u3002\uff08\u200b\u8fd9\u200b\u5c31\u200b\u50cf\u662f\u200b\u53e6\u200b\u4e00\u4e2a\u200brecord id\uff0c\u200b\u901a\u8fc7\u200bpage number\u200b\u548c\u200bslot id\u200b\u6765\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b\u8be5\u200b\u53bb\u200b\u54ea\u91cc\u200b\u627e\u5230\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u7684\u200b\u90a3\u4e2a\u200b\u6570\u636e\u200b\uff09\uff08\u200b\u4e00\u822c\u200b\u8fd9\u4e9b\u200boverflow page\u200b\u662f\u200b\u53ea\u8bfb\u200b\u6216\u200b\u51e0\u4e4e\u200b\u7528\u4e8e\u200b\u8bfb\u200b\uff0c\u200b\u5f88\u5c11\u200b\u5f80\u4e0a\u9762\u200b\u5199\u200b\u4e1c\u897f\u200b\uff09  </li> <li> <p>\u200b\u9664\u4e86\u200b\u5c06\u200b\u6570\u636e\u200b\u76f4\u63a5\u200b\u4fdd\u5b58\u200b\u5728\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\uff0c\u200b\u8fd8\u6709\u200b\u53e6\u200b\u4e00\u79cd\u200b\u65b9\u6848\u200b\u2014\u2014 \u200b\u5916\u90e8\u200b\u5b58\u50a8\u200b \uff08Exturnal File\uff09\uff0c\u200b\u57fa\u672c\u601d\u8def\u200b\u662f\u200b\uff1a\u200b\u4e0d\u200b\u5c06\u200b\u8be5\u200b\u5c5e\u6027\u200b\u7684\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u5728\u200btuple\u200b\u5185\u90e8\u200b\uff0c\u200b\u800c\u662f\u200b\u5f80\u91cc\u9762\u200b\u4fdd\u5b58\u200b\u4e00\u4e2a\u200b\u6307\u9488\u200b\u6216\u8005\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b\uff0c\u200b\u5b83\u4eec\u200b\u6307\u5411\u200b\u80fd\u200b\u627e\u5230\u200b\u8be5\u200b\u6570\u636e\u200b\u7684\u200b\u672c\u5730\u200b\u78c1\u76d8\u200b\uff0c\u200b\u6216\u8005\u200b\u7f51\u7edc\u200b\u5b58\u50a8\u200b\uff0c\u200b\u4ea6\u200b\u6216\u662f\u200b\u67d0\u4e9b\u200b\u5916\u90e8\u200b\u5b58\u50a8\u8bbe\u5907\u200b\u3002</p> <p>\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u5927\u200b\u503c\u200b\u5b58\u50a8\u200b\u5728\u200b\u5916\u90e8\u200b\u6587\u4ef6\u200b External File \u200b\u4e2d\u200b\uff0c\u200b\u7136\u540e\u200b tuple \u200b\u5c06\u200b\u5305\u542b\u200b\u6307\u5411\u200b\u8be5\u200b\u6587\u4ef6\u200b\u7684\u200b\u6307\u9488\u200b\u3002\ud83c\udf30 \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u5b58\u50a8\u200b\u7167\u7247\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u7167\u7247\u200b\u5b58\u50a8\u200b\u5728\u200b\u5916\u90e8\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u8ba9\u200b\u5b83\u4eec\u200b\u5360\u7528\u200bDBMS\u200b\u4e2d\u200b\u7684\u200b\u5927\u91cf\u200b\u7a7a\u95f4\u200b\u3002\u200b\u7f3a\u70b9\u200b\uff1aDBMS\u200b\u65e0\u6cd5\u200b\u64cd\u4f5c\u200b\u8be5\u200b\u6587\u4ef6\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002 </p> </li> <li> <p>\u200b\u793a\u4f8b\u200b\uff1aVARCHAR\u3001VARBINARY\u3001TEXT\u3001BLOB</p> </li> </ul> </li> <li> <p>\u200b\u65e5\u671f\u200b\u548c\u200b\u65f6\u95f4\u200b\u7c7b\u578b\u200b\uff1a</p> <ul> <li>\u200b\u901a\u5e38\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u8868\u793a\u200b\u4e3a\u200b\u81ea\u200b unix \u200b\u65f6\u4ee3\u200b\uff081970\u200b\u5e74\u200b1\u200b\u6708\u200b1\u200b\u65e5\u200b\uff09\u200b\u4ee5\u6765\u200b\u7684\u200b\u5fae\u79d2\u200b/\u200b\u6beb\u79d2\u200b/\u200b\u79d2\u6570\u200b\u3002</li> <li>\u200b\u793a\u4f8b\u200b\uff1aTIME\u3001DATE\u3001TIMESTAMP</li> </ul> </li> </ol> <p>\u200b\u7cfb\u7edf\u76ee\u5f55\u200b System Catalogs\uff1a</p> <p>DBMS\u200b\u5c06\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u5728\u200b\u5185\u90e8\u200b\u7684\u200b catalog \u200b\u4e2d\u200b\uff0c\u200b\u5305\u62ec\u200b\u8868\u540d\u200b\u3001\u200b\u7d22\u5f15\u200b\u3001\u200b\u89c6\u56fe\u200b\u3001\u200b\u7528\u6237\u200b\u6743\u9650\u200b\u7b49\u200b\u4fe1\u606f\u200b\u3002</p> <p>\u200b\u5927\u591a\u6570\u200bDBMS\u200b\u5c06\u200b\u5b83\u4eec\u200b\u7684\u200b\u76ee\u5f55\u200b\u5b58\u50a8\u200b\u5728\u200b\u5b83\u4eec\u200b\u81ea\u5df1\u200b\u7684\u200b\u8868\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b\u683c\u5f0f\u200b\u4e2d\u200b\u3002\u200b\u901a\u8fc7\u200b <code>STANDARD INFORMATION_SCHEMA</code>API\u200b\u5c06\u200b\u76ee\u5f55\u200b\u66b4\u9732\u200b\u51fa\u6765\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L4/#\u5de5\u4f5c\u8d1f\u8f7d-workload","title":"\u5de5\u4f5c\u200b\u8d1f\u8f7d\u200b workload","text":"<p>\u200b\u76ee\u524d\u200b\u6839\u636e\u200b\u4e0d\u540c\u200b\u7684\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\u548c\u200b\u6570\u636e\u200b\u8bfb\u5199\u200b\u7279\u5f81\u200b\uff0c\u200b\u5927\u81f4\u200b\u5c06\u200b\u6570\u636e\u5e93\u200b\u5212\u5206\u200b\u4e3a\u200b\ud83d\udc47\u200b\u4e24\u79cd\u200b\u3002\u200b\u4e0d\u540c\u200bworkload \u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u5b58\u50a8\u200b\u65b9\u5f0f\u200b\u4e5f\u200b\u5b58\u5728\u200b\u5f88\u5927\u200b\u5dee\u5f02\u200b\u3002</p> <p><code>OLTP</code>\uff1a\u200b\u8054\u673a\u200b\u4e8b\u52a1\u5904\u7406\u200b\u3002\u200b\u4ece\u200b\u5916\u754c\u200b\u62ff\u5230\u200b\u6570\u636e\u200b\u540e\u200b\u653e\u5165\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\uff1b\u200b\u67e5\u8be2\u200b\u591a\u4e3a\u200b\u8bfb\u53d6\u200b/\u200b\u66f4\u65b0\u200b\u4e00\u5c0f\u90e8\u5206\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u65ad\u200b\u91cd\u590d\u200b\u76f8\u540c\u200b\u64cd\u4f5c\u200b\u3002</p> <ul> <li>\u200b\u5feb\u901f\u200b\u3001\u200b\u77ed\u65f6\u95f4\u200b\u8fd0\u884c\u200b\u7684\u200b\u64cd\u4f5c\u200b</li> <li>\u200b\u67e5\u8be2\u200b\u5728\u200b\u540c\u4e00\u65f6\u95f4\u200b\u5bf9\u200b\u5355\u4e2a\u200b\u5b9e\u4f53\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b</li> <li>\u200b\u5199\u200b\u6bd4\u8bfb\u200b\u591a\u200b</li> <li>\u200b\u91cd\u590d\u200b\u64cd\u4f5c\u200b</li> <li>\u200b\u901a\u5e38\u200b\u662f\u200b\u4eba\u4eec\u200b\u9996\u5148\u200b\u6784\u5efa\u200b\u7684\u200b\u5e94\u7528\u7a0b\u5e8f\u200b</li> <li>\u200b\u793a\u4f8b\u200b\uff1aAmazon\u200b\u7684\u200b\u7528\u6237\u200b\u8c03\u7528\u200b\u3002\u200b\u4ed6\u4eec\u200b\u53ef\u4ee5\u200b\u6dfb\u52a0\u200b\u8d2d\u7269\u8f66\u200b\uff0c\u200b\u8d2d\u4e70\u200b\u5546\u54c1\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u4e9b\u200b\u884c\u4e3a\u200b\u53ea\u4f1a\u200b\u5f71\u54cd\u200b\u4ed6\u4eec\u200b\u7684\u200b\u8d26\u6237\u200b\u3002 BigTable\u3001Cassandra\u3001MongoDB\u3001Radis\u200b\u4ee5\u53ca\u200b\u5176\u4ed6\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u3002\uff08Cassandra\u3001MongoDB\u3001Radis\u200b\u662f\u200bNoSQL\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\uff09</li> </ul> <p><code>OLAP</code>\uff1a\u200b\u8054\u673a\u200b\u5206\u6790\u200b\u5904\u7406\u200b\u3002 \u200b\u5206\u6790\u200b\u901a\u8fc7\u200bOLTP\u200b\u83b7\u53d6\u200b\u7684\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\uff0c\u200b\u4ece\u4e2d\u200b\u63a8\u65ad\u51fa\u200b\u65b0\u200b\u4fe1\u606f\u200b\u3002 \uff08\u200b\u88ab\u200b\u79f0\u4e3a\u200b\u6570\u636e\u200b\u79d1\u5b66\u200b\uff0c\u200b\u4ece\u200b\u5df2\u6709\u200b\u6570\u636e\u200b\u4e2d\u200b\u63a8\u65ad\u51fa\u200b\u65b0\u200b\u6570\u636e\u200b\uff09</p> <ul> <li>\u200b\u957f\u65f6\u95f4\u200b\u8fd0\u884c\u200b\uff0c\u200b\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u67e5\u8be2\u200b</li> <li>\u200b\u8bfb\u53d6\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u5185\u5bb9\u200b</li> <li>\u200b\u63a2\u7d22\u200b\u67e5\u8be2\u200b</li> <li>\u200b\u4ece\u200bOLTP\u200b\u7aef\u200b\u6536\u96c6\u200b\u7684\u200b\u6570\u636e\u200b\u4e2d\u200b\u83b7\u53d6\u200b\u65b0\u200b\u6570\u636e\u200b</li> <li>\u200b\u4e3e\u4f8b\u200b\uff1a\u200b\u8ba1\u7b97\u200b\u8fd9\u4e9b\u200b\u5730\u7406\u4f4d\u7f6e\u200b\u5728\u200b\u4e00\u4e2a\u6708\u200b\u5185\u200b\u8d2d\u4e70\u200b\u6700\u591a\u200b\u7684\u200b\u4e94\u4ef6\u200b\u5546\u54c1\u200b\u3002 Hadoop</li> </ul> <p><code>HTAP</code>\uff1a\u200b\u6df7\u5408\u200b\u4e8b\u52a1\u200b\u5206\u6790\u200b\u5904\u7406\u200b\u3002\u200b\u5c06\u200bOLTP\u200b\u4e0e\u200bOLAP\u200b\u76f8\u7ed3\u5408\u200b\u3002</p> <p></p> <p>\u200b\u53ef\u89c1\u200b OLTP \u200b\u64c5\u957f\u200b\u7b80\u5355\u200b\u7684\u200b\u67e5\u8be2\u200b\uff0c\u200b\u4f46\u4f1a\u200b\u505a\u200b\u5927\u91cf\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\uff1bOLAP \u200b\u4f1a\u200b\u505a\u200b\u5927\u91cf\u200b\u8bfb\u53d6\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4f46\u200b\u66f4\u200b\u590d\u6742\u200b\u3002HTAP \u200b\u662f\u200b\u4e8c\u8005\u200b\u7684\u200b\u7ed3\u5408\u200b\uff0c\u200b\u65e2\u200b\u8981\u200b\u83b7\u53d6\u6570\u636e\u200b\u53c8\u200b\u8981\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b\u3002</p>"},{"location":"db/cmu15445/L4/#\u5b58\u50a8\u6a21\u578b-storge-model","title":"\u5b58\u50a8\u200b\u6a21\u578b\u200b storge model","text":"<p>\u200b\u5728\u200b\u9875\u9762\u200b\u4e2d\u200b\u5b58\u50a8\u200b\u5143\u7ec4\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u5230\u200b\u76ee\u524d\u4e3a\u6b62\u200b\uff0c\u200b\u6211\u4eec\u200b\u5df2\u7ecf\u200b\u5047\u8bbe\u200b\u4e86\u200bn\u200b\u5143\u200b\u5b58\u50a8\u200b\u6a21\u578b\u200b\u3002</p> <p>n\u200b\u5143\u200b\u5b58\u50a8\u200b\u6a21\u578b\u200b\uff08NSM\uff09</p> <p>DBMS\u200b\u8fde\u7eed\u200b\u5b58\u50a8\u200b\u5355\u4e2a\u200b\u5143\u7ec4\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\uff0c\u200b\u56e0\u6b64\u200bNSM\u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200b \u200b\u884c\u200b\u5b58\u50a8\u200b\u3002</p> <p>\u200b\u9002\u5408\u200b OLTP \u200b\u5de5\u4f5c\u200b\u8d1f\u8f7d\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5728\u200b OLTP \u200b\u5de5\u4f5c\u200b\u8d1f\u8f7d\u200b\u4e2d\u200b\uff0c\u200b\u4e8b\u52a1\u200b\u5f80\u5f80\u200b\u53ea\u200b\u64cd\u4f5c\u200b\u5355\u4e2a\u200b\u5b9e\u4f53\u200b\u5e76\u200b\u63d2\u5165\u200b\u5927\u91cf\u200b\u5de5\u4f5c\u200b\u8d1f\u8f7d\u200b\u3002\u200b\u5b83\u200b\u662f\u200b\u7406\u60f3\u200b\u7684\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u53ea\u200b\u9700\u8981\u200b\u4e00\u6b21\u200b\u83b7\u53d6\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u83b7\u5f97\u200b\u5355\u4e2a\u200b\u5143\u7ec4\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u3002</p> <p></p> <ol> <li>\u200b\u4f18\u70b9\u200b<ul> <li>\u200b\u5feb\u901f\u200b\u63d2\u5165\u200b\u3001\u200b\u66f4\u65b0\u200b\u548c\u200b\u5220\u9664\u200b\u3002</li> <li>\u200b\u9002\u7528\u200b\u4e8e\u200b\u9700\u8981\u200b\u6574\u4e2a\u200b\u5143\u7ec4\u200b\u7684\u200b\u67e5\u8be2\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u53ea\u200b\u9700\u8981\u200b\u83b7\u53d6\u200b\u51e0\u6761\u200b\u6570\u636e\u200b\u7684\u200b\u70b9\u200b\u67e5\u8be2\u200b\u3002</li> </ul> </li> <li>\u200b\u7f3a\u70b9\u200b<ul> <li>\u200b\u4e0d\u200b\u9002\u5408\u200b\u626b\u63cf\u200b\u8868\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u6216\u200b\u5c5e\u6027\u200b\u7684\u200b\u5b50\u96c6\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u83b7\u53d6\u200b\u4e86\u200b\u5904\u7406\u200b\u67e5\u8be2\u200b\u4e0d\u200b\u9700\u8981\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4ece\u800c\u200b\u6c61\u67d3\u200b\u4e86\u200b\u7f13\u51b2\u200b\u6c60\u200b\u3002</li> </ul> </li> <li>\u200b\u7ec4\u7ec7\u200bNSM\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\uff1a<ul> <li>\u200b\u5806\u200b\u7ec4\u7ec7\u200b\u8868\u200b\uff1a\u200b\u5143\u7ec4\u200b\u5b58\u50a8\u200b\u5728\u200b\u79f0\u4e3a\u200b\u5806\u200b\u7684\u200b\u5757\u200b\u4e2d\u200b\uff0c\u200b\u5806\u200b\u5e76\u4e0d\u4e00\u5b9a\u200b\u5b9a\u4e49\u200b\u987a\u5e8f\u200b\u3002</li> <li>\u200b\u7d22\u5f15\u200b\u7ec4\u7ec7\u200b\u8868\u200b\uff1a\u200b\u5143\u7ec4\u200b\u5b58\u50a8\u200b\u5728\u200b\u4e3b\u952e\u200b\u7d22\u5f15\u200b\u672c\u8eab\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u540c\u4e8e\u200b\u805a\u96c6\u200b\u7d22\u5f15\u200b\u3002</li> </ul> </li> </ol> <p>\u200b\u5206\u89e3\u200b\u5b58\u50a8\u200b\u6a21\u578b\u200b\uff08DSM\uff09</p> <p>DBMS\u200b\u5c06\u200b\u6240\u6709\u200b\u5143\u7ec4\u200b\u7684\u200b\u5355\u4e2a\u200b\u5c5e\u6027\u200b\uff08\u200b\u5217\u200b\uff09\u200b\u8fde\u7eed\u200b\u5b58\u50a8\u200b\u5728\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5757\u200b\u4e2d\u200b \u3002\u200b\u4e5f\u200b\u79f0\u4e3a\u200b \u200b\u5217\u200b\u5b58\u50a8\u200b\u3002</p> <p>\u200b\u9002\u5408\u200b OLAP \u200b\u5de5\u4f5c\u200b\u8d1f\u8f7d\u200b\uff0c\u200b\u5728\u200b\u8fd9\u79cd\u200b\u5de5\u4f5c\u200b\u8d1f\u8f7d\u200b\u4e2d\u200b\uff0c\u200b\u53ea\u8bfb\u200b\u67e5\u8be2\u200b\u5bf9\u8868\u200b\u5c5e\u6027\u200b\u7684\u200b\u5b50\u96c6\u200b\u6267\u884c\u200b\u5927\u89c4\u6a21\u200b\u626b\u63cf\u200b\u3002</p> <p></p> <ol> <li> <p>\u200b\u4f18\u70b9\u200b</p> <ul> <li>\u200b\u51cf\u5c11\u200b\u67e5\u8be2\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u6d6a\u8d39\u200b\u7684\u200bI/O\u200b\u5de5\u4f5c\u91cf\u200b\uff0c\u200b\u56e0\u4e3a\u200bDBMS\u200b\u53ea\u200b\u8bfb\u53d6\u200b\u5b83\u200b\u9700\u8981\u200b\u7684\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u652f\u6301\u200b\u66f4\u597d\u200b\u7684\u200b\u538b\u7f29\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u540c\u4e00\u4e2a\u200b\u5c5e\u6027\u200b\u7684\u200b\u6240\u6709\u200b\u503c\u200b\u90fd\u200b\u662f\u200b\u8fde\u7eed\u200b\u5b58\u50a8\u200b\u7684\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u7f3a\u70b9\u200b</p> <ul> <li>\u200b\u7531\u4e8e\u200b\u5143\u7ec4\u200b\u62c6\u5206\u200b/\u200b\u62fc\u63a5\u200b\uff0c\u200b\u70b9\u200b\u67e5\u8be2\u200b\u3001\u200b\u63d2\u5165\u200b\u3001\u200b\u66f4\u65b0\u200b\u548c\u200b\u5220\u9664\u200b\u7684\u200b\u901f\u5ea6\u200b\u5f88\u200b\u6162\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u5f53\u200b\u4f7f\u7528\u200b\u5217\u200b\u5b58\u50a8\u200b\u65f6\u200b\uff0c\u200b\u8981\u200b\u5c06\u200b\u5143\u7ec4\u200b\u653e\u200b\u56de\u200b\u4e00\u8d77\u200b\uff0c\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\uff1a     </p> <ul> <li>\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u504f\u79fb\u200b\uff1a\u200b\u9996\u5148\u200b\u5047\u8bbe\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u90fd\u200b\u662f\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u7684\u200b\u3002\u200b\u7136\u540e\u200b\uff0c\u200b\u5f53\u200b\u7cfb\u7edf\u200b\u9700\u8981\u200b\u7279\u5b9a\u200b\u5143\u7ec4\u200b\u7684\u200b\u5c5e\u6027\u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u77e5\u9053\u200b\u5982\u4f55\u200b\u8df3\u8f6c\u200b\u5230\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u90a3\u4e2a\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u4e3a\u4e86\u200b\u9002\u5e94\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u4e0d\u540c\u200bDBMS\u200b\u5904\u7406\u200b\u65b9\u6cd5\u200b\u4e0d\u540c\u200b\uff09\uff0c\u200b\u7cfb\u7edf\u200b\u53ef\u4ee5\u200b\u586b\u5145\u200b\u5b83\u4eec\u200b\uff0c\u200b\u4f7f\u200b\u5b83\u4eec\u200b\u90fd\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\u957f\u5ea6\u200b\uff0c\u200b\u6216\u8005\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u5b57\u5178\u200b\uff0c\u200b\u5b83\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u5927\u5c0f\u200b\u7684\u200b\u6574\u6570\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u6574\u6570\u200b\u6620\u5c04\u200b\u5230\u503c\u200b\u3002</li> <li>\u200b\u5d4c\u5165\u200b\u7684\u200bTuple id\uff1a\u200b\u5bf9\u4e8e\u200b\u5217\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5c5e\u6027\u200b\uff0c\u200b\u5c06\u200b Tuple id \u200b\u5b58\u50a8\u200b\u5728\u200b\u5176\u4e2d\u200b\u3002\u200b\u7cfb\u7edf\u200b\u8fd8\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u7684\u200b\u4fe1\u606f\u200b\u6765\u200b\u544a\u8bc9\u200b\u5b83\u200b\u5982\u4f55\u200b\u8df3\u8f6c\u200b\u5230\u200b\u6bcf\u4e2a\u200b\u5177\u6709\u200b\u8be5\u200b id \u200b\u7684\u200b\u5c5e\u6027\u200b\u3002</li> </ul> </li> </ol> <p>Warning</p> <p>\u200b\u5927\u591a\u6570\u200b DBMS \u200b\u4f7f\u7528\u200b\u7b2c\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\uff1b\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6cd5\u200b\u6bd4\u8f83\u200b\u7cdf\u7cd5\u200b\uff0c\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u5927\u91cf\u200b\u5f00\u9500\u200b\uff0c\u200b\u73b0\u5728\u200b\u5e94\u8be5\u200b\u6ca1\u4eba\u7528\u200b\u3002</p> <p>\u200b\u884c\u200b\u5b58\u50a8\u200b\u901a\u5e38\u200b\u66f4\u200b\u9002\u5408\u200bOLTP\uff0c\u200b\u800c\u5217\u200b\u5b58\u50a8\u200b\u5219\u200b\u66f4\u200b\u9002\u5408\u200bOLAP\u3002</p>"},{"location":"db/cmu15445/L4/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u5143\u7ec4\u200b\u4e2d\u200b\u53ef\u200b\u5b58\u50a8\u200b\u7684\u200b\u4e94\u79cd\u200b\u4e3b\u8981\u200b\u7c7b\u578b\u200b\uff1a\u200b\u6574\u6570\u200b\u3001\u200b\u53ef\u53d8\u200b\u7cbe\u5ea6\u200b\u6570\u200b\u3001\u200b\u5b9a\u70b9\u200b\u7cbe\u5ea6\u200b\u6570\u200b\u3001\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u503c\u200b\u548c\u200b\u65e5\u671f\u200b/\u200b\u65f6\u95f4\u200b\u3002</p> <p>\u200b\u4ecb\u7ecd\u200b\u4e86\u200b workload\uff1a</p> <ul> <li>OLTP \uff1a\u200b\u5728\u7ebf\u200b\u4e8b\u52a1\u5904\u7406\u200b\u3002\u200b\u7279\u5f81\u200b\uff1a\u200b\u8bfb\u5199\u200b\u7b80\u5355\u200b\uff0c\u200b\u5199\u200b\u6bd4\u8bfb\u200b\u591a\u200b\uff0c\u200b\u901a\u5e38\u200b\u662f\u200b\u8bfb\u200b/\u200b\u5199\u200b\u4e00\u5c0f\u90e8\u5206\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4e8b\u52a1\u200b\u53ef\u200b\u4fdd\u8bc1\u6570\u636e\u200b\u7684\u200b\u4e00\u81f4\u6027\u200b\u3002</li> <li>OLAP \uff1a\u200b\u5728\u7ebf\u200b\u5206\u6790\u200b\u5904\u7406\u200b\u3002\u200b\u7279\u5f81\u200b\uff1a\u200b\u67e5\u8be2\u200b\u590d\u6742\u200b\uff0c\u200b\u9700\u8981\u200b\u8bfb\u53d6\u200b\u5927\u6279\u91cf\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7edf\u8ba1\u5206\u6790\u200b\u3002</li> <li>HTAP \uff1a\u200b\u6df7\u5408\u200b\u4e8b\u52a1\u200b\u5206\u6790\u200b\u5904\u7406\u200b\u3002\u200b\u5c06\u200b OLTP \u200b\u4e0e\u200b OLAP \u200b\u76f8\u7ed3\u5408\u200b\u3002</li> </ul> <p>\u200b\u4ecb\u7ecd\u200b\u4e86\u200b\u4e0d\u540c\u200b workload \u200b\u4e0b\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u5b58\u50a8\u200b\u65b9\u5f0f\u200b\u3002</p> <ol> <li> <p>\u200b\u884c\u200b\u5b58\u50a8\u200b \u200b\u662f\u200b\u6700\u200b\u5e38\u89c1\u200b\u3001\u200b\u7b26\u5408\u200b\u76f4\u89c2\u200b\u601d\u7ef4\u200b\u7684\u200b\u5b58\u50a8\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5c06\u200b\u4e0d\u540c\u200b\u5c5e\u6027\u200b\u7684\u200b\u6570\u636e\u200b\u4e00\u884c\u884c\u200b\u7684\u200b\u7ec4\u7ec7\u200b\u8d77\u6765\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5b58\u50a8\u200b\u5230\u200b page \u200b\u5f53\u4e2d\u200b\u3002\u200b\u66f4\u200b\u9002\u5408\u200b OLTP \u200b\u6570\u636e\u5e93\u200b\u3002</p> <ul> <li>\u200b\u65b9\u4fbf\u200b\u5feb\u901f\u200b\u63d2\u5165\u200b/\u200b\u66f4\u65b0\u200b/\u200b\u5220\u9664\u200b\u548c\u200b\u70b9\u200b\u67e5\u8be2\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u9002\u5408\u200b\u626b\u63cf\u200b\u8868\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u6216\u200b\u5c5e\u6027\u200b\u7684\u200b\u5b50\u96c6\u200b\u3002</li> <li>\u200b\u6570\u636e\u5e93\u200b\u7ec4\u7ec7\u200b\u5f62\u5f0f\u200b\uff1a\u200b\u5806\u200b\u7ec4\u7ec7\u200b\u8868\u200b\u3001\u200b\u7d22\u5f15\u200b\u7ec4\u7ec7\u200b\u8868\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u5217\u200b\u5b58\u50a8\u200b \u200b\u5c06\u8868\u4e2d\u200b\u4e00\u4e2a\u200b\u5217\u200b\u7684\u200b\u6570\u636e\u200b\u5b58\u200b\u5230\u200b page \u200b\u4e2d\u200b\u3002\u200b\u7531\u4e8e\u200b\u5177\u6709\u200b\u76f8\u540c\u200b\u5c5e\u6027\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4f1a\u200b\u66f4\u200b\u53ef\u80fd\u200b\u6709\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u7279\u5f81\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8fd9\u6837\u200b\u7684\u200b\u6570\u636e\u7ec4\u7ec7\u200b\u65b9\u5f0f\u200b\u66f4\u200b\u9002\u5408\u200b\u538b\u7f29\u200b\uff0c\u200b\u8282\u7701\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u3002\u200b\u66f4\u200b\u9002\u5408\u200b OLAP \u200b\u6570\u636e\u5e93\u200b\u3002</p> <ul> <li>\u200b\u65b9\u4fbf\u200b\u5927\u6279\u91cf\u200b\u626b\u63cf\u200b\u6570\u636e\u200b\uff0c\u200b\u652f\u6301\u200b\u66f4\u597d\u200b\u7684\u200b\u538b\u7f29\u200b\uff0c\u200b\u4f46\u200b\u63d2\u5165\u200b/\u200b\u66f4\u65b0\u200b/\u200b\u5220\u9664\u200b\u548c\u200b\u70b9\u200b\u67e5\u8be2\u200b\u901f\u5ea6\u200b\u90fd\u200b\u5f88\u6162\u200b\u3002</li> <li>\u200b\u6570\u636e\u5e93\u200b\u7ec4\u7ec7\u200b\u5f62\u5f0f\u200b\uff1a\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u504f\u79fb\u200b (\u200b\u66f4\u200b\u5e38\u7528\u200b)\u3001\u200b\u5d4c\u5165\u200b\u7684\u200b tuple id (\u200b\u5f00\u9500\u200b\u5f88\u5927\u200b\uff0c\u200b\u6ca1\u4eba\u7528\u200b)\u3002</li> </ul> </li> </ol>"},{"location":"db/cmu15445/L5/","title":"Buffer Pools","text":"<p> \u200b\u7ea6\u200b 4453 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 15 \u200b\u5206\u949f\u200b</p> <p>review: database workloads</p> <p>OLTP\uff1a\u200b\u6536\u96c6\u200b\u6570\u636e\u200b\uff0c\u200b\u8fd0\u7b97\u200b\u5feb\u901f\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u53ea\u200b\u8bfb\u53d6\u200b/\u200b\u66f4\u65b0\u200b\u4e00\u5c0f\u90e8\u5206\u200b\u6570\u636e\u200b\u3002\uff08simple\uff0cread\uff09</p> <p>OLAP\uff1a\u200b\u67e5\u8be2\u200b\u590d\u6742\u200b\uff0c\u200b\u5bf9\u200b\u5927\u91cf\u200bOLTP\u200b\u6536\u96c6\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8bfb\u53d6\u200b\u5206\u6790\u200b\uff0c\u200b\u4ee5\u200b\u63a8\u65ad\u51fa\u200b\u65b0\u200b\u6570\u636e\u200b\u3002\uff08complex\uff0cwrite\uff09</p> <p>HTAP\uff1a\u200b\u65e2\u200b\u505a\u200bOLTP\u200b\u53c8\u200b\u505a\u200bOLAP\u200b\u7684\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u3002</p> <p>\ud83d\udc47\u200b\u6807\u51c6\u914d\u7f6e\u200b\uff1a\u200b\u524d\u7aef\u200bOLTP\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u540e\u200b\u7aef\u200b\u5927\u578b\u200b\u6570\u636e\u4ed3\u5e93\u200b\u3002\u200b\u524d\u7aef\u200b\u505a\u200b\u4e8b\u52a1\u5904\u7406\u200b\uff0c\u200b\u540e\u200b\u7aef\u200b\u5b8c\u6210\u200b\u6570\u636e\u5206\u6790\u200b\u3002</p> <p>\uff08\u200b\u6709\u65f6\u200b\u88ab\u200b\u79f0\u4e3a\u200bData silo \u200b\u6570\u636e\u200b\u5b64\u5c9b\u200b\uff0c\u200b\u76f8\u4e92\u200b\u72ec\u7acb\u200b\u7684\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u533a\u200b\uff09</p> <p>\u200b\u7136\u540e\u200b\u53ef\u200b\u6267\u884c\u200b ETL\u200b\u64cd\u4f5c\u200b\uff1a\u200b\u5c06\u200b\u4e1a\u52a1\u200b\u7cfb\u7edf\u200b\u7684\u200b\u6570\u636e\u200b\u7ecf\u8fc7\u200b\u62bd\u53d6\u200b\u3001\u200b\u6e05\u6d17\u200b\u8f6c\u6362\u200b\u540e\u200b\u52a0\u8f7d\u200b\u5230\u200b\u6570\u636e\u4ed3\u5e93\u200b\uff1b\u200b\u6570\u636e\u4ed3\u5e93\u200b\u5b8c\u6210\u200b\u5206\u6790\u200b\u540e\u200b\u5c06\u200b\u5206\u6790\u200b\u6570\u636e\u200b\u4f20\u7ed9\u200b\u524d\u7aef\u200b\u6570\u636e\u5e93\u200b\u3002</p> <p></p> <p>HTAP\uff1a\u200b\u5728\u200bOLTP\u200b\u7aef\u200b\u4e5f\u200b\u8981\u200b\u5b8c\u6210\u200b\u4e00\u4e9b\u200b\u6570\u636e\u5206\u6790\u200b\u64cd\u4f5c\u200b\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u7528\u200b\u7b49\u5f85\u200b\u6570\u636e\u4ed3\u5e93\u200b\u5b8c\u6210\u200bOLAP\u200b\u540e\u200b\u4f20\u7ed9\u200b\u524d\u7aef\u200b\u3002\u200b\u6570\u636e\u4ed3\u5e93\u200b\u505a\u200b\u6570\u636e\u200b\u6c47\u603b\u200b\u7528\u200b\u3002</p> <p></p> <p>\u200b\u524d\u7aef\u200b\u6570\u636e\u5e93\u200b\uff1aMySQL\u3001PostgreSQL\u3001MongoDB\u200b\u7b49\u200b\u4f60\u200b\u60f3\u8981\u200b\u7684\u200b\u6570\u636e\u5e93\u200b</p> <p>\u200b\u540e\u200b\u7aef\u200b\u6570\u636e\u4ed3\u5e93\u200b\uff1aHadoop\u3001Spark\u3001Greenplum\u3001Vertica\u3001\u200b\u4e91\u7aef\u200b\u6570\u636e\u5e93\u200b\uff08RedShift\u3001Snowflake\uff09</p> <p>\u200b\u4e0a\u8282\u200b\u4e2d\u200b\u63d0\u5230\u200b\uff0cDBMS \u200b\u7684\u200b\u78c1\u76d8\u200b\u7ba1\u7406\u200b\u6a21\u5757\u200b\u4e3b\u8981\u200b\u89e3\u51b3\u200b\u4e24\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u78c1\u76d8\u200b\u6587\u4ef6\u200b\u6765\u200b\u8868\u793a\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u6570\u636e\u200b\uff08\u200b\u5143\u200b\u6570\u636e\u200b\u3001\u200b\u7d22\u5f15\u200b\u3001\u200b\u6570\u636e\u8868\u200b\u7b49\u200b\uff09</li> <li>\uff08\u200b\u672c\u200b\u8282\u200b\uff09\u200b\u5982\u4f55\u200b\u7ba1\u7406\u200b\u6570\u636e\u200b\u5728\u200b\u5185\u5b58\u200b\u4e0e\u200b\u78c1\u76d8\u200b\u4e4b\u95f4\u200b\u7684\u200b\u79fb\u52a8\u200b</li> </ol> <p>\u200b\u51af\u8bfa\u200b\u4f9d\u66fc\u7ed3\u6784\u200b\u8868\u660e\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u6709\u200b\u5c06\u200b\u6570\u636e\u200b\u653e\u5165\u200b\u5185\u5b58\u200b\u540e\u200b\u624d\u80fd\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b</p> <p>\u200b\u672c\u8282\u200b\u5c06\u200b\u8ba8\u8bba\u200b\u7b2c\u4e8c\u4e2a\u200b\u95ee\u9898\u200b\u3002\u200b\u7ba1\u7406\u200b\u6570\u636e\u200b\u5728\u200b\u5185\u5b58\u200b\u4e0e\u200b\u78c1\u76d8\u200b\u4e4b\u95f4\u200b\u7684\u200b\u79fb\u52a8\u200b\u53c8\u200b\u5206\u4e3a\u200b\u4e24\u4e2a\u200b\u65b9\u9762\u200b\uff1a\u200b\u7a7a\u95f4\u200b\u63a7\u5236\u200b\uff08Spatial Control\uff09\u200b\u548c\u200b\u65f6\u95f4\u200b\u63a7\u5236\u200b\uff08Temporal Control\uff09</p> <p>\u200b\u5185\u5b58\u200b\u7684\u200b\u8bbf\u95ee\u901f\u5ea6\u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u5e76\u4e14\u200b\u78c1\u76d8\u200b page \u200b\u7684\u200b\u8bbf\u95ee\u200b\u8bfb\u53d6\u200b\u5728\u200b\u65f6\u95f4\u200b\u548c\u200b\u7a7a\u95f4\u200b\u4e0a\u200b\u5177\u6709\u200b\u5c40\u90e8\u6027\u200b\u7684\u200b\u7279\u5f81\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e00\u6b21\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u5230\u200b\u7684\u200b page\uff0c\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5185\u5b58\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6709\u200b\u53ef\u80fd\u200b\u88ab\u200b\u518d\u6b21\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u9891\u7e41\u200b\u4ece\u200b\u78c1\u76d8\u200b\u4e2d\u200b\u52a0\u8f7d\u200b page\u3002</p> <ul> <li>Spatical Control \uff1a\u200b\u7a7a\u95f4\u200b\u63a7\u5236\u7b56\u7565\u200b\u51b3\u5b9a\u200b\u5c06\u200b pages \u200b\u5199\u200b\u5230\u200b\u78c1\u76d8\u200b\u7684\u200b\u54ea\u4e2a\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u76ee\u6807\u200b\u662f\u200b\u8ba9\u200b\u5e38\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\u7684\u200b pages \u200b\u80fd\u79bb\u200b\u5f97\u200b\u66f4\u200b\u8fd1\u200b\uff0c\u200b\u4ece\u800c\u200b\u63d0\u9ad8\u200b I/O \u200b\u6548\u7387\u200b\u3002</li> <li>Temporal Control \uff1a\u200b\u65f6\u95f4\u200b\u63a7\u5236\u7b56\u7565\u200b\u51b3\u5b9a\u200b\u4f55\u65f6\u200b\u5c06\u200b pages \u200b\u8bfb\u5165\u200b\u5185\u5b58\u200b/\u200b\u5199\u56de\u200b\u78c1\u76d8\u200b\uff0c\u200b\u76ee\u6807\u200b\u662f\u200b\u4f7f\u200b\u8bfb\u5199\u200b\u7684\u200b\u6b21\u6570\u200b\u6700\u5c0f\u200b\uff0c\u200b\u4ece\u800c\u200b\u63d0\u9ad8\u200b I/O \u200b\u6548\u7387\u200b\u3002</li> </ul> <p></p> <p>\u200b\u672c\u8282\u200b\u7684\u200b\u63d0\u7eb2\u200b\u5982\u4e0b\u200b\uff1a</p> <ul> <li>Buffer Pool Manager \u200b\u53ca\u5176\u200b\u4f18\u5316\u200b</li> <li>Allocation Policies</li> <li>Replacement Policies</li> <li>Other Memory Pools</li> </ul>"},{"location":"db/cmu15445/L5/#buffer-pool-manager","title":"Buffer Pool Manager","text":"<p>DBMS \u200b\u542f\u52a8\u200b\u65f6\u4f1a\u200b\u4ece\u200b OS \u200b\u7533\u8bf7\u200b\u4e00\u7247\u200b\u5185\u5b58\u200b\u533a\u57df\u200b\uff0c\u200b\u5373\u200b <code>Buffer Pool</code>\uff0c\u200b\u5e76\u200b\u5c06\u200b\u8fd9\u5757\u200b\u533a\u57df\u200b\u5212\u5206\u200b\u6210\u200b\u5927\u5c0f\u200b\u76f8\u540c\u200b\u7684\u200b pages\uff0c\u200b\u4e3a\u4e86\u200b\u4e0e\u200b disk \u200b\u7684\u200b pages \u200b\u533a\u522b\u200b\u5f00\u200b\uff0c\u200b\u901a\u5e38\u200b\u79f0\u4e3a\u200b <code>frames</code>\uff0c\u200b\u5f53\u200b DBMS \u200b\u8bf7\u6c42\u200b\u4e00\u4e2a\u200b disk page \u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u88ab\u200b\u590d\u5236\u5230\u200b Buffer Pool \u200b\u7684\u200b\u4e00\u4e2a\u200b frame \u200b\u4e2d\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u56e0\u4e3a\u200bBuffer Pool \u200b\u4e2d\u200b frame \u200b\u7684\u200b\u987a\u5e8f\u200b\u4e0e\u200b disk \u200b\u4e2d\u200b page \u200b\u7684\u200b\u987a\u5e8f\u200b\u65e0\u5173\u200b\u3002\u200b\u56e0\u6b64\u200b\u8fd8\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u989d\u5916\u200b\u7684\u200b indirection \u200b\u5c42\u200b\uff08page table\uff09\uff0c\u200b\u544a\u77e5\u200b\u54ea\u4e2a\u200bpage\u200b\u5728\u200b\u54ea\u4e2a\u200bframe\u200b\u4e2d\u200b\u3002</p> <p>DBMS \u200b\u7ef4\u62a4\u200b\u7684\u200b\u9875\u8868\u200b <code>page table</code>\uff0c\u200b\u8d1f\u8d23\u200b\u8bb0\u5f55\u200b\u6bcf\u4e2a\u200b page \u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u662f\u5426\u200b\u88ab\u200b\u4fee\u6539\u200b\uff08Dirty Flag\uff09\uff0c\u200b\u662f\u5426\u200b\u88ab\u200b\u5f15\u7528\u200b\u6216\u200b\u5f15\u7528\u200b\u8ba1\u6570\u200b\uff08Pin/Reference Counter\uff09\u200b\u7b49\u200b\u5143\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u5f53\u200b page table \u200b\u4e2d\u200b\u7684\u200b\u67d0\u200b page \u200b\u88ab\u200b\u5f15\u7528\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u8bb0\u5f55\u200b\u5f15\u7528\u200b\u6570\u200b\uff08pin/reference\uff09\uff0c\u200b\u8868\u793a\u200b\u8be5\u200b page \u200b\u6b63\u5728\u200b\u88ab\u200b\u4f7f\u7528\u200b\uff0c\u200b\u7a7a\u95f4\u200b\u4e0d\u591f\u200b\u65f6\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u88ab\u200b\u79fb\u9664\u200b\uff1b\u200b\u5f53\u200b\u88ab\u200b\u8bf7\u6c42\u200b\u7684\u200b page \u200b\u4e0d\u200b\u5728\u200b page table \u200b\u4e2d\u200b\u65f6\u200b\uff0cDBMS \u200b\u4f1a\u5148\u200b\u7533\u8bf7\u200b\u4e00\u4e2a\u200b latch\uff0c\u200b\u8868\u793a\u200b\u8be5\u200b entry \u200b\u88ab\u200b\u5360\u7528\u200b\uff0c\u200b\u7136\u540e\u200b\u4ece\u200b disk \u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u76f8\u5173\u200b page \u200b\u5230\u200b buffer pool\uff0c\u200b\u91ca\u653e\u200b latch\u3002\u200b\u4ee5\u4e0a\u200b\u4e24\u79cd\u200b\u8fc7\u7a0b\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <p></p>"},{"location":"db/cmu15445/L5/#locks-vs-latches","title":"locks VS. latches","text":"<p>locks</p> <ul> <li>\u200b\u4fdd\u62a4\u200b  \u200b\u6570\u636e\u5e93\u200b\u903b\u8f91\u200b\u5185\u5bb9\u200b (\u200b\u4f8b\u5982\u200b\u5143\u7ec4\u200b\u3001\u200b\u8868\u200b\u3001\u200b\u6570\u636e\u5e93\u200b)\u200b\u4e0d\u200b\u53d7\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</li> <li>\u200b\u5728\u200b\u4e8b\u52a1\u200b\u6301\u7eed\u200b\u671f\u95f4\u200b\u4fdd\u6301\u200b\u3002</li> <li>\u200b\u9700\u8981\u200b\u80fd\u591f\u200b\u56de\u6eda\u200b\u66f4\u6539\u200b\u3002</li> </ul> <p>latches</p> <ul> <li>\u200b\u4fdd\u62a4\u200b DBMS\u200b\u5185\u90e8\u200b\u6570\u636e\u7ed3\u6784\u200b \u200b\u7684\u200b\u5173\u952e\u200b\u90e8\u5206\u200b\u4e0d\u200b\u53d7\u200b\u5176\u4ed6\u200b\u7ebf\u7a0b\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</li> <li>\u200b\u64cd\u4f5c\u200b\u671f\u95f4\u200b\u4fdd\u6301\u200b\u3002</li> <li>\u200b\u4e0d\u200b\u9700\u8981\u200b\u80fd\u591f\u200b\u56de\u6eda\u200b\u66f4\u6539\u200b\u3002</li> </ul> <p>lock\u200b\u662f\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u66f4\u200b\u9ad8\u7ea7\u200b\u7684\u200b\u903b\u8f91\u200b\u539f\u8bed\u200b\uff0clatch\u200b\u662f\u200b\u5e95\u5c42\u200b\u4fdd\u62a4\u200b\u539f\u8bed\u200b</p>"},{"location":"db/cmu15445/L5/#page-table-vs-page-directory","title":"page table VS. page directory","text":"<p>page directory \uff1a\u200b\u6570\u636e\u5e93\u200b\u6587\u4ef6\u200b\u4e2d\u200b page id \u200b\u5230\u200b page \u200b\u4f4d\u7f6e\u200b\u7684\u200b\u6620\u5c04\u200b</p> <ul> <li>\u200b\u662f\u200b\u544a\u8bc9\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u6570\u636e\u200b\u5728\u200b\u54ea\u4e2a\u200bpage\u200b\u7684\u200b\u54ea\u4e2a\u200bslot\uff08\u200b\u5373\u200boffset\uff09\u200b\u7684\u200b\u5173\u952e\u200b\u7d22\u5f15\u200b\uff0c\u200b\u6240\u6709\u200b\u6539\u53d8\u200b\u90fd\u200b\u5e94\u200b\u88ab\u200b\u8bb0\u5f55\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff08\u200b\u6301\u4e45\u200b\u5316\u200b\uff09\uff0c\u200b\u4ee5\u200b\u4fdd\u8bc1\u200bDBMS\u200b\u91cd\u542f\u200b\u65f6\u80fd\u200b\u627e\u5230\u200b</li> </ul> <p>page table \uff1a\u200b\u662f\u200bpage id \u200b\u5230\u200b buffer pool \u200b\u4e2d\u200b frame \u200b\u7684\u200b\u6620\u5c04\u200b</p> <ul> <li>\u200b\u662f\u200b\u4e2a\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff08hash\u200b\u8868\u200b\uff09\uff0c\u200b\u56e0\u6b64\u200b\u65e0\u9700\u200b\u5b58\u50a8\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff08\u200b\u65e0\u9700\u200b\u4fdd\u8bc1\u200b\u6301\u4e45\u200b\u5316\u200b\uff0c\u200b\u4e22\u5931\u200b\u4e86\u200b\u91cd\u65b0\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b\u5c31\u200b\u597d\u200b\uff0c\u200b\u4f46\u200b\u8981\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\uff09</li> </ul> <p>\u200b\u56e0\u6b64\u200b page table \u200b\u53ef\u7528\u200b hashtable \u200b\u6216\u200b hashmap \u200b\u5b9e\u73b0\u200b</p>"},{"location":"db/cmu15445/L5/#2-allocation-policies","title":"2 Allocation Policies","text":"<p>Allocation Policies \u200b\u6307\u200b DBMS \u200b\u5982\u4f55\u200b\u4e3a\u200b\u4e0d\u540c\u200b\u7684\u200b\u67e5\u8be2\u200b\u5206\u914d\u200b\u7f13\u51b2\u200b\u6c60\u200b\u5185\u5b58\u200b\uff1a</p> <ul> <li>\u200b\u5168\u5c40\u200b\u7b56\u7565\u200b\uff08Global Policies\uff09\uff1a\u200b\u540c\u65f6\u200b\u8003\u8651\u200b\u6240\u6709\u200b\u67e5\u8be2\u200b\u548c\u200b\u4e8b\u52a1\u200b\u6765\u200b\u5206\u914d\u5185\u5b58\u200b</li> <li>\u200b\u5c40\u90e8\u200b\u7b56\u7565\u200b\uff08Local Policies\uff09\uff1a\u200b\u4e3a\u200b\u5355\u4e2a\u200b\u67e5\u8be2\u200b/\u200b\u4e8b\u52a1\u200b\u5206\u914d\u5185\u5b58\u200bframes\u200b\u65f6\u200b\u4e0d\u200b\u8003\u8651\u200b\u5176\u5b83\u200b\u67e5\u8be2\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u7279\u5b9a\u200b\u7684\u200b\u4e8b\u52a1\u200b\u8868\u73b0\u200b\u66f4\u597d\u200b\uff0c\u200b\u5f53\u7136\u200b\u5168\u5c40\u200b\u4e0a\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u200b\u7cdf\u7cd5\u200b\u7684\u200b\u8868\u73b0\u200b\u3002</li> </ul> <p>\u200b\u5927\u591a\u6570\u200bDBMS\u200b\u90fd\u200b\u4f1a\u200b\u5c3d\u91cf\u200b\u517c\u987e\u200b\u5168\u5c40\u200b\u548c\u200b\u5c40\u90e8\u200b\u4fe1\u606f\u200b\u6765\u200b\u8fdb\u884c\u200b\u5206\u914d\u200b\u3002</p>"},{"location":"db/cmu15445/L5/#buffer-pool-\u4f18\u5316","title":"Buffer Pool \u200b\u4f18\u5316","text":"<p>\u200b\u7b80\u5355\u200b\u7684\u200b\u7f13\u5b58\u200b\u6c60\u200b\u505a\u5230\u200b\u4e0a\u9762\u200b\u7684\u200b\u5185\u5bb9\u200b\u5c31\u591f\u200b\u4e86\u200b\uff0c\u200b\u4f46\u662f\u200b\u5bf9\u4e8e\u200b\u5b9e\u9645\u200b\u7684\u200b\u751f\u4ea7\u200b\u5176\u200b\u8868\u73b0\u200b\u8fdc\u8fdc\u4e0d\u591f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u9700\u8981\u200b\u5bf9\u200b\u5176\u200b\u8fdb\u884c\u200b\u7279\u5b9a\u200b\u7684\u200b\u4f18\u5316\u200b\u3002\u200b\u4e0b\u9762\u200b\u5c55\u793a\u200b\u4e00\u4e9b\u200bBuffer Pool\u200b\u7684\u200b\u4f18\u5316\u200b\u65b9\u6cd5\u200b\uff1aMultiple Buffer Pools\u3001Pre-fetching\u3001Scan Sharing\u3001Buffer Pool Bypass\u3002</p>"},{"location":"db/cmu15445/L5/#multiple-buffer-pools\u590d\u6570\u7f13\u5b58\u6c60","title":"Multiple Buffer Pools\uff08\u200b\u590d\u6570\u200b\u7f13\u5b58\u200b\u6c60\u200b\uff09","text":"<p>Info</p> <p>\u200b\u5b9e\u9645\u4e0a\u200b\u6ca1\u6709\u200b\u89c4\u5b9a\u200b\u4e00\u4e2a\u200b\u6570\u636e\u5e93\u200b\u53ea\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200bBuffer Pool\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5206\u914d\u200b\u591a\u200b\u5757\u5185\u5b58\u200b\u533a\u57df\u200b\u4ee5\u200b\u652f\u6301\u200b\u591a\u4e2a\u200bBuffer Pool\uff0c\u200b\u6bcf\u4e2a\u200b\u533a\u57df\u200b\u53ef\u4ee5\u200b\u6709\u200b\u81ea\u5df1\u200b\u7684\u200b\u9875\u8868\u200b\uff0c\u200b\u5e76\u4e14\u200b\u81ea\u5df1\u200b\u4e00\u5957\u200bpage id\u200b\u548c\u200bframe\u200b\u7684\u200b\u6620\u5c04\u200b\u5173\u7cfb\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u66f4\u597d\u200b\u5730\u200b\u8fd0\u7528\u200b\u5c40\u90e8\u200b\u7b56\u7565\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6839\u636e\u200b\u4e0d\u540c\u200b\u7684\u200b\u7c7b\u578b\u200b\u6765\u200b\u5206\u914d\u200bpage\u200b\u7684\u200b\u7f6e\u6362\u200b\u7b56\u7565\u200b\uff08\u200b\u4f8b\u5982\u200bindex\u200b\u6216\u8005\u200btable data\uff09\uff0c\u200b\u8fd9\u6837\u200b\u4e5f\u200b\u80fd\u200b\u51cf\u5c11\u200b\u8bbf\u95ee\u200b\u7f13\u5b58\u200b\u6c60\u200b\u7684\u200b\u4e0d\u540c\u200b\u7ebf\u7a0b\u200b\u4e4b\u95f4\u200b\u5bf9\u4e8e\u200b\u9875\u8868\u200b\u9501\u200b\u7684\u200b\u4e89\u593a\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u51cf\u5c11\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b\u7684\u200b\u5f00\u9500\u200b\uff08\u200b\u51cf\u5c11\u200b\u90a3\u4e9b\u200b\u8bd5\u56fe\u200b\u8bbf\u95ee\u200bBuffer\u200b\u6c60\u200b\u7684\u200b\u4e0d\u540c\u200b\u7ebf\u7a0b\u200b\u95f4\u200b\u4e89\u62a2\u200bLatch\u200b\u7684\u200b\u60c5\u51b5\u200b\uff09\u200b\u5e76\u200b\u6539\u5584\u200b\u6570\u636e\u200b\u7684\u200b\u5c40\u90e8\u6027\u200b\uff0cDBMS \u200b\u53ef\u4ee5\u200b \u200b\u5728\u200b\u4e0d\u540c\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u7ef4\u62a4\u200b\u591a\u4e2a\u200bBuffer Pools \uff1a</p> <ul> <li>\u200b\u591a\u4e2a\u200b Buffer Pools \u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u76f8\u540c\u200b\u7684\u200b page hash \u200b\u5230\u200b\u76f8\u540c\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u4e0a\u200b</li> <li>\u200b\u6bcf\u4e2a\u200b Database \u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b Buffer Pool</li> <li>\u200b\u6bcf\u79cd\u200b Page \u200b\u7c7b\u578b\u200b\u4e00\u4e2a\u200b Buffer Pool</li> </ul> <p>\u200b\u5b9e\u73b0\u200b multiple buffer pools \u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a</p> <ul> <li>\u200b\u5728\u200b record id \u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b objectId</li> <li>\u200b\u4f7f\u7528\u200b hash \u200b\u5c06\u200b page id \u200b\u6620\u5c04\u200b\u5230\u200b\u4e0d\u540c\u200b buffer pool</li> </ul> <p></p> <p></p>"},{"location":"db/cmu15445/L5/#pre-fetching\u9884\u53d6","title":"Pre-fetching\uff08\u200b\u9884\u53d6\u200b\uff09","text":"<p>Info</p> <p>\u200b\u8fd9\u662f\u200b\u4e00\u79cd\u200b\u5927\u80c6\u200b\u7684\u200b\u731c\u6d4b\u200b\uff08\u200b\u5b9e\u9645\u4e0a\u200b\u6709\u8ff9\u53ef\u5faa\u200b\uff09\u3002\u200b\u5bf9\u4e8e\u200b\u987a\u5e8f\u200b\u7684\u200b\u626b\u63cf\u200b\u6216\u8005\u200b\u7d22\u5f15\u200b\u7684\u200b\u626b\u63cf\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u4f1a\u8bfb\u200b\u4e00\u5927\u200b\u6bb5\u200b\u8fde\u7eed\u200b\u7684\u200bpage\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4e00\u6b21\u6027\u200b\u628a\u200b\u8bb8\u591a\u200b\u8fde\u7eed\u200b\u7684\u200b page \u200b\u9884\u200b\u5b58\u5728\u200b\u7f13\u5b58\u200b\u6c60\u4e2d\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u7528\u200b\u6bcf\u6b21\u200b\u53ea\u200b\u5c06\u200b\u4e00\u4e2a\u200b page \u200b\u52a0\u8f7d\u200b\u8fdb\u6765\u200b\u800c\u662f\u200b\u4e00\u6b21\u6027\u200b\u52a0\u8f7d\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u51cf\u8f7b\u200b\u5f88\u591a\u200b\u8d1f\u62c5\u200b\u3002</p> <p>\u200b\u5e0c\u671b\u200b\u6700\u5c0f\u5316\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u7684\u200b\u505c\u987f\u200b\uff0c\u200b\u5219\u200bDBMS \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u67e5\u8be2\u200b\u8ba1\u5212\u200b\u6765\u200b\u9884\u53d6\u200b pages\uff0c\u200b\u5982\u200b\uff1a</p> <ul> <li>\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b Sequential Scans</li> <li>\u200b\u6309\u200b\u7d22\u5f15\u200b\u626b\u63cf\u200b Index Scans\uff1a\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u8bb0\u5f55\u200b\u4e00\u4e9b\u200b\u5143\u200b\u6570\u636e\u200b\uff08index-page\u200b\u6309\u7167\u200b\u4e8c\u53c9\u200b\u641c\u7d22\u200b\u6811\u200b\u7684\u200b\u65b9\u5f0f\u200b\u53bb\u200b\u7ec4\u7ec7\u200b\uff09</li> </ul> <p></p> <p>\u200b\u4ece\u200bindex-page0\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5047\u8bbe\u200b\u6211\u200b\u60f3\u200b\u67e5\u627e\u200bvalue\u200b\u8303\u56f4\u200b\u5728\u200b100\u200b\u5230\u200b250\u200b\u7684\u200b\u6240\u6709\u200b\u7ed3\u679c\u200b\uff1a\u200b\u6211\u4f1a\u200b\u8df3\u200b\u5230\u200bpage1\uff0c\u200b\u518d\u200b\u5230\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\u3002</p> <p></p> <p>\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u4e3a\u4ec0\u4e48\u200bDBMS\u200b\u8981\u200b\u81ea\u5df1\u200b\u7ba1\u7406\u200b\u5185\u5b58\u200b\u7684\u200b\u539f\u56e0\u200b\uff0cDBMS\u200b\u77e5\u9053\u200b\u8fd9\u4e2a\u200b\u64cd\u4f5c\u200b\u8981\u200b\u505a\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u505a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4f18\u5316\u200b\u3002</p>"},{"location":"db/cmu15445/L5/#scan-sharing\u626b\u63cf\u5171\u4eab","title":"Scan Sharing\uff08\u200b\u626b\u63cf\u200b\u5171\u4eab\u200b\uff09","text":"<p>Scan Sharing \u200b\u6280\u672f\u200b\u4e3b\u8981\u200b\u7528\u200b\u5728\u200b \u200b\u591a\u4e2a\u200b\u67e5\u8be2\u200b\u5b58\u5728\u200b\u6570\u636e\u200b\u5171\u7528\u200b \u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u5f53\u200b\u4e24\u4e2a\u200b\u67e5\u8be2\u200b A, B \u200b\u5148\u540e\u200b\u53d1\u751f\u200b\uff0cB \u200b\u53d1\u73b0\u81ea\u5df1\u200b\u6709\u200b\u4e00\u90e8\u5206\u200b\u6570\u636e\u200b\u4e0e\u200b A \u200b\u5171\u7528\u200b\uff0c\u200b\u4e8e\u662f\u200b\u5148\u200b\u5171\u7528\u200b A \u200b\u7684\u200b cursor\uff0c\u200b\u7b49\u200b A \u200b\u626b\u200b\u5b8c\u540e\u200b\uff0c\u200b\u518d\u200b\u626b\u63cf\u200b\u81ea\u5df1\u200b\u8fd8\u200b\u9700\u8981\u200b\u7684\u200b\u5176\u5b83\u200b\u6570\u636e\u200b\u3002</p> <p>Warning</p> <p>\u200b\u8fd9\u200b\u4e0e\u200b\u7ed3\u679c\u200b\u7f13\u5b58\u200b\uff08 result caching \uff09\u200b\u4e0d\u540c\u200b\uff0c\u200b\u7ed3\u679c\u200b\u7f13\u5b58\u200b\u6307\u200b\u2014\u2014\u200b\u6211\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u67d0\u4e9b\u200b\u7ed3\u679c\u200b\u5e76\u200b\u5c06\u200b\u4e4b\u200b\u7f13\u5b58\u200b\u8d77\u6765\u200b\uff0c\u200b\u518d\u200b\u9047\u4e0a\u200b\u76f8\u540c\u200b\u7684\u200b\u67e5\u8be2\u200b\u65f6\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u3002\u200b\u901a\u5e38\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0cresult caching\u200b\u4e2d\u200b\uff0c\u200b\u67e5\u8be2\u200b\u5fc5\u987b\u200b\u4e00\u6837\u200b\uff1b\u200b\u4f46\u200bscan sharing\u200b\u4e2d\u200b\uff0c\u200b\u67e5\u8be2\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u8981\u200b\u4e00\u6837\u200b\u3002</p> <p>Oracle\u200b\u652f\u6301\u200b\u4e00\u79cd\u200b\u57fa\u672c\u200b\u7684\u200b Scan Sharing\uff0c\u200b\u4ed6\u4eec\u200b\u79f0\u4e4b\u4e3a\u200b\u00a0Cursor Sharing\uff08\u200b\u6e38\u6807\u200b\u5171\u4eab\u200b\uff09</p>"},{"location":"db/cmu15445/L5/#buffer-pool-bypass\u8df3\u8fc7buffer-pool","title":"Buffer Pool Bypass\uff08\u200b\u8df3\u8fc7\u200bBuffer Pool\uff09","text":"<p>\u200b\u5f53\u200b\u9047\u5230\u200b\u5927\u200b\u6570\u636e\u91cf\u200b\u7684\u200b Sequential Scan \u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u5c06\u200b\u6240\u200b\u9700\u200b pages \u200b\u987a\u5e8f\u200b\u5b58\u5165\u200b Buffer Pool\uff0c\u200b\u5c06\u200b\u9020\u6210\u200b\u540e\u8005\u200b\u7684\u200b\u6c61\u67d3\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u4e9b\u200b pages \u200b\u901a\u5e38\u200b\u53ea\u200b\u4f7f\u7528\u200b\u4e00\u6b21\u200b\uff0c\u200b\u800c\u200b\u5b83\u4eec\u200b\u7684\u200b\u8fdb\u5165\u200b\u5c06\u200b\u5bfc\u81f4\u200b\u4e00\u4e9b\u200b\u53ef\u80fd\u200b\u5728\u200b\u672a\u6765\u200b\u66f4\u200b\u9700\u8981\u200b\u7684\u200b pages \u200b\u88ab\u200b\u79fb\u9664\u200b\u3002\u200b\u56e0\u6b64\u200b\u4e00\u4e9b\u200b DBMS \u200b\u505a\u200b\u4e86\u200b\u76f8\u5e94\u200b\u7684\u200b\u4f18\u5316\u200b\uff0c\u200b\u5728\u200b\u8fd9\u79cd\u200b\u67e5\u8be2\u200b\u51fa\u73b0\u200b\u65f6\u200b\uff0c\u200b\u4e3a\u200b\u5b83\u200b\u5355\u72ec\u200b\u5206\u914d\u200b\u4e00\u5757\u200b\u5c40\u90e8\u200b\u5185\u5b58\u200b\uff0c\u200b\u5c06\u200b\u5176\u200b\u5bf9\u200b Buffer Pool \u200b\u7684\u200b\u5f71\u54cd\u200b\u9694\u79bb\u200b\uff1b\u200b\u5f53\u200b\u67e5\u8be2\u200b\u5b8c\u6210\u200b\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u8fd9\u4e9b\u200bpage\u200b\u5c31\u200b\u4f1a\u200b\u88ab\u200b\u4e22\u5f03\u200b\u3002</p>"},{"location":"db/cmu15445/L5/#buffer-pool-vs-os-page-cache","title":"Buffer Pool VS. OS Page Cache","text":"<p>\u200b\u5927\u90e8\u5206\u200b disk operations \u200b\u90fd\u200b\u662f\u200b\u901a\u8fc7\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u5b8c\u6210\u200b\uff0c\u200b\u901a\u5e38\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4f1a\u200b\u7ef4\u62a4\u200b\u81ea\u8eab\u200b\u7684\u200b\u6570\u636e\u200b\u7f13\u5b58\u200b\uff0c\u200b\u8fd9\u4f1a\u200b\u5bfc\u81f4\u200b\u4e00\u4efd\u200b\u6570\u636e\u200b\u5206\u522b\u200b\u5728\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u548c\u200b DMBS \u200b\u4e2d\u200b\u88ab\u200b\u7f13\u5b58\u200b\u4e24\u6b21\u200b\u3002\u200b\u662f\u5426\u200b\u8981\u200b\u5bf9\u200bOS\u200b\u63d0\u4f9b\u200b\u7684\u200b\u7f13\u5b58\u200b\u8fdb\u884c\u200b\u5229\u7528\u200b\u5c31\u662f\u200b\u4e00\u79cd\u200b\u53d6\u820d\u200b\u3002\u200b\u5927\u591a\u6570\u200b DBMS \u200b\u90fd\u200b\u4f1a\u200b\u4f7f\u7528\u200b (O_DIRECT) \u200b\u6765\u200b\u544a\u8bc9\u200b OS \u200b\u4e0d\u8981\u200b\u7f13\u5b58\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\uff0c\u200b\u9664\u4e86\u200b PostgresSQL\u3002</p>"},{"location":"db/cmu15445/L5/#buffer-replacement-policies","title":"Buffer Replacement Policies","text":"<p>\u200b\u5f53\u200b Buffer Pool \u200b\u7a7a\u95f4\u200b\u4e0d\u8db3\u200b\u65f6\u200b\uff0c\u200b\u8bfb\u5165\u200b\u65b0\u200b\u7684\u200b pages \u200b\u5fc5\u7136\u200b\u9700\u8981\u200b DBMS \u200b\u4ece\u200b\u5df2\u7ecf\u200b\u5728\u200b Buffer Pool \u200b\u4e2d\u200b\u7684\u200b pages \u200b\u9009\u62e9\u200b\u4e00\u4e9b\u200b\u79fb\u9664\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u9009\u62e9\u200b\u5c31\u200b\u7531\u200b Buffer Replacement Policies \u200b\u8d1f\u8d23\u200b\u5b8c\u6210\u200b\u3002\u200b\u9700\u4ece\u200b\u4ee5\u4e0b\u200b\u56db\u200b\u56e0\u7d20\u200b\u9009\u62e9\u200b\u5408\u9002\u200b\u7684\u200b\u7f6e\u6362\u200b\u7b97\u6cd5\u200b\uff1a</p> <ul> <li>\u200b\u6b63\u786e\u6027\u200b\uff08Correctness\uff09\uff1a\u200b\u64cd\u4f5c\u8fc7\u7a0b\u200b\u4e2d\u8981\u200b\u4fdd\u8bc1\u200b\u810f\u200b\u6570\u636e\u200b\u540c\u6b65\u200b\u5230\u200b disk</li> <li>\u200b\u51c6\u786e\u6027\u200b\uff08Accuracy\uff09\uff1a\u200b\u5c3d\u91cf\u200b\u9009\u62e9\u200b\u4e0d\u200b\u5e38\u7528\u200b\u7684\u200b pages \u200b\u79fb\u9664\u200b</li> <li>\u200b\u901f\u5ea6\u200b\uff08Speed\uff09\uff1a\u200b\u51b3\u7b56\u200b\u8981\u200b\u8fc5\u901f\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u79fb\u9664\u200b pages \u200b\u90fd\u200b\u9700\u8981\u200b\u7533\u8bf7\u200b latch\uff0c\u200b\u4f7f\u7528\u200b\u592a\u4e45\u200b\u5c06\u200b\u4f7f\u5f97\u200b\u5e76\u53d1\u200b\u5ea6\u200b\u4e0b\u964d\u200b</li> <li>\u200b\u5143\u200b\u6570\u636e\u200b\u8d1f\u8377\u200b\uff08Meta-data overhead\uff09\uff1a\u200b\u51b3\u7b56\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b\u5143\u200b\u4fe1\u606f\u200b\u5360\u7528\u200b\u7684\u200b\u91cf\u200b\u4e0d\u80fd\u200b\u592a\u200b\u5927\u200b</li> </ul>"},{"location":"db/cmu15445/L5/#lru-\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u7b97\u6cd5","title":"LRU \u200b\u6700\u8fd1\u200b\u6700\u5c11\u200b\u4f7f\u7528\u200b\u7b97\u6cd5","text":"<p>\u200b\u7ef4\u62a4\u200b\u6bcf\u4e2a\u200b page \u200b\u4e0a\u200b\u4e00\u6b21\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u79fb\u9664\u200b\u65f6\u95f4\u200b\u6233\u200b\u6700\u65e9\u200b\u7684\u200b page\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u6bd4\u5982\u200bqueue\uff0c\u200b\u5b83\u200b\u6839\u636e\u200bpage\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff1b\u200b\u82e5\u200b\u67d0\u200b\u65f6\u523b\u200b\u6709\u4eba\u200b\u5bf9\u200b\u67d0\u4e2a\u200bpage\u200b\u8fdb\u884c\u200b\u8bfb\u200b\u6216\u200b\u5199\u200b\uff0c\u200b\u5219\u200b\u5c06\u200b\u6b64\u200bpage\u200b\u4ece\u200bqueue\u200b\u4e2d\u200b\u53d6\u51fa\u200b\u5e76\u200b\u653e\u5165\u200b\u961f\u5217\u200b\u5c3e\u90e8\u200b\uff08\u200b\u56e0\u4e3a\u200b\u961f\u5217\u200b\u662f\u200b\u5148\u8fdb\u5148\u51fa\u200b\u7684\u200b\uff09</p>"},{"location":"db/cmu15445/L5/#clock-\u7b97\u6cd5","title":"Clock \u200b\u7b97\u6cd5","text":"<p>Clock \u200b\u662f\u200b LRU \u200b\u7684\u200b\u8fd1\u4f3c\u200b\u7b56\u7565\u200b\uff08\u200b\u4e8c\u8005\u200b\u6027\u80fd\u200b\u63a5\u8fd1\u200b\uff09\uff0c\u200b\u5b83\u200b\u4e0d\u200b\u9700\u200b\u8ffd\u8e2a\u200b\u6bcf\u4e2a\u200b page \u200b\u4e0a\u6b21\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\uff0c\u200b\u800c\u662f\u200b\u4e3a\u200b\u6bcf\u4e2a\u200b page \u200b\u4fdd\u5b58\u200b\u4e00\u4e2a\u200b\u6807\u5fd7\u200b\u4f4d\u200b reference bit\uff0c\u200b\u5b83\u200b\u544a\u8bc9\u200b\u4f60\u200b\u81ea\u4ece\u200b\u4e0a\u6b21\u200b\u68c0\u67e5\u200b\u5b8c\u8be5\u200bpage\u200b\u540e\u200b\uff0c\u200b\u6b64\u200bpage\u200b\u662f\u5426\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u4e86\u200b\u3002</p> <ul> <li>\u200b\u6bcf\u5f53\u200b page \u200b\u88ab\u200b\u8bbf\u95ee\u200b\u65f6\u200b\uff0creference bit \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1</li> <li>\u200b\u6bcf\u5f53\u200b\u9700\u8981\u200b\u79fb\u9664\u200b page \u200b\u65f6\u200b\uff0c\u200b\u4ece\u200b\u4e0a\u200b\u6b21\u8bbf\u95ee\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u5f00\u59cb\u200b\uff0c\u200b\u6309\u200b\u987a\u5e8f\u200b\u8f6e\u8be2\u200b\u6bcf\u4e2a\u200b page \u200b\u7684\u200b reference bit\uff0c\u200b\u82e5\u8be5\u200b bit \u200b\u4e3a\u200b 1\uff0c\u200b\u5219\u200b\u91cd\u7f6e\u200b\u4e3a\u200b 0\uff1b\u200b\u82e5\u8be5\u200b bit \u200b\u4e3a\u200b 0\uff0c\u200b\u5219\u200b\u79fb\u9664\u200b\u8be5\u200b page</li> </ul>"},{"location":"db/cmu15445/L5/#lru-\u4e0e-clock-\u7684\u95ee\u9898","title":"LRU \u200b\u4e0e\u200b Clock \u200b\u7684\u200b\u95ee\u9898","text":"<p>\u200b\u4e8c\u8005\u200b\u90fd\u200b\u5bb9\u6613\u200b\u88ab\u200b sequential flooding \uff08\u200b\u987a\u5e8f\u200b\u6ea2\u51fa\u200b\uff09\u200b\u73b0\u8c61\u200b\u5f71\u54cd\u200b\uff0c\u200b\u4ece\u800c\u200b\u5bfc\u81f4\u200b\u6700\u8fd1\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u7684\u200b page \u200b\u5b9e\u9645\u4e0a\u200b\u5374\u662f\u200b\u6700\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u7684\u200b page\u3002</p> <p>\u200b\u987a\u5e8f\u200b\u8bfb\u53d6\u200b\u6240\u6709\u200bpage\uff0c\u200b\u5219\u200bbuffer pool\u200b\u4f1a\u200b\u88ab\u200b\u53ea\u8bfb\u200b\u4e86\u200b\u4e00\u6b21\u200b\u4e4b\u540e\u200b\u518d\u4e5f\u4e0d\u4f1a\u200b\u8bfb\u53d6\u200b\u7684\u200bpage\u200b\u6c61\u67d3\u200b\u3002\u200b\u5373\u200b\u5728\u200b\u67d0\u4e9b\u200b\u7279\u5b9a\u200b\u7684\u200bworkload\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u60f3\u200b\u79fb\u51fa\u200b\u7684\u200bpage\u200b\u662f\u200b\u90a3\u4e9b\u200b\u6700\u8fd1\u200b\u88ab\u200b\u4f7f\u7528\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6700\u8fd1\u200b\u6700\u5c11\u200b\u88ab\u200b\u4f7f\u7528\u200b\u7684\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u6709\u200b\u591a\u79cd\u200b\u529e\u6cd5\u200b\u6765\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>LRU-K\uff1a\u200b\u8bb0\u5f55\u200b\u9875\u9762\u200b\u6700\u540e\u200bk\u200b\u6b21\u8bbf\u95ee\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\u5e76\u4e14\u200b\u8ba1\u7b97\u200b\u65f6\u95f4\u200b\u6233\u200b\u7684\u200b\u95f4\u9694\u200b</li> <li>\u200b\u5c40\u90e8\u200b\u7b56\u7565\u200b\uff1a\u200b\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u8bbf\u95ee\u200b\u91c7\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u5185\u5b58\u200b\u6c60\u200b</li> <li>\u200b\u4f18\u5148\u7ea7\u200b\u63d0\u793a\u200b\uff1a\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u9700\u8981\u200b\u4e00\u4e9b\u200b\u5148\u9a8c\u200b\u77e5\u8bc6\u200b\u3002\u200b\u5982\u679c\u200b\u4f8b\u5982\u200b\u6211\u4eec\u200b\u8bbf\u95ee\u200b\u7684\u200b\u662f\u200bindex\uff0c\u200b\u800c\u200bindex-page\u200b\u6309\u7167\u200bB+\u200b\u6811\u200b\u6216\u8005\u200b\u6709\u200b\u7ec4\u7ec7\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6309\u7167\u200b\u8fd9\u4e2a\u200b\u4fe1\u606f\u200b\u6765\u200b\u5e2e\u52a9\u200b\u9875\u9762\u200b\u7f6e\u6362\u200b\u4fe1\u606f\u200b\u7684\u200b\u5224\u65ad\u200b\u3002</li> </ol>"},{"location":"db/cmu15445/L5/#lru-k","title":"LRU-K","text":"<p>LRU-K \u200b\u4fdd\u5b58\u200b\u6bcf\u4e2a\u200b page \u200b\u7684\u200b\u6700\u540e\u200b K \u200b\u6b21\u8bbf\u95ee\u200b\u65f6\u95f4\u200b\u6233\u200b\uff0c\u200b\u5229\u7528\u200b\u8fd9\u4e9b\u200b\u65f6\u95f4\u200b\u6233\u200b\u95f4\u9694\u200b\u6765\u200b\u4f30\u8ba1\u200b\u5b83\u4eec\u200b\u4e0b\u6b21\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\u6700\u957f\u200b\u7684\u200bpage\u200b\u662f\u200b\u6700\u8fd1\u200b\u6700\u5c11\u200b\u88ab\u200b\u4f7f\u7528\u200b\u7684\u200b\u3002\u200b\u901a\u5e38\u200b K \u200b\u53d6\u200b 2 \u200b\u5c31\u200b\u80fd\u200b\u83b7\u5f97\u200b\u5f88\u200b\u597d\u200b\u7684\u200b\u6548\u679c\u200b\u3002</p>"},{"location":"db/cmu15445/L5/#localization","title":"Localization","text":"<p>\u200b\u4f7f\u7528\u200b\u591a\u4e2a\u200bbuffer\u200b\u6c60\u200b\uff0c\u200b\u8ba9\u200b\u6bcf\u4e2a\u200b\u67e5\u8be2\u200b\u672c\u5730\u5316\u200b\u3002DBMS \u200b\u9488\u5bf9\u200b\u6bcf\u4e2a\u200b\u67e5\u8be2\u200b\u505a\u51fa\u200b\u79fb\u9664\u200b pages \u200b\u7684\u200b\u9650\u5236\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u8fd9\u79cd\u200b\u5f71\u54cd\u200b\u88ab\u200b\u63a7\u5236\u200b\u5728\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u8303\u56f4\u200b\u5185\u200b\uff0c\u200b\u7c7b\u4f3c\u200b API \u200b\u7684\u200b rate limit\u3002</p>"},{"location":"db/cmu15445/L5/#priority-hints","title":"Priority Hints","text":"<p>\u200b\u6709\u65f6\u5019\u200b DBMS \u200b\u77e5\u9053\u200b\u6bcf\u4e2a\u200b page \u200b\u5728\u200b\u67e5\u8be2\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\u4fe1\u606f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u8fd9\u4e9b\u200b\u4fe1\u606f\u200b\u5224\u65ad\u200b\u4e00\u4e2a\u200b page \u200b\u662f\u5426\u200b\u91cd\u8981\u200b\u3002</p>"},{"location":"db/cmu15445/L5/#dirty-pages","title":"Dirty Pages","text":"<p>\u200b\u79fb\u9664\u200b\u4e00\u4e2a\u200b dirty page \u200b\u7684\u200b\u6210\u672c\u200b\u8981\u200b\u9ad8\u4e8e\u200b\u79fb\u9664\u200b\u4e00\u822c\u200b page\uff0c\u200b\u56e0\u4e3a\u200b\u524d\u8005\u200b\u9700\u8981\u200b\u5199\u200b disk\uff0c\u200b\u540e\u8005\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b drop\uff0c\u200b\u56e0\u6b64\u200b DBMS \u200b\u5728\u200b\u79fb\u9664\u200b page \u200b\u7684\u200b\u65f6\u5019\u200b\u4e5f\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u5230\u200b\u8fd9\u90e8\u5206\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002\u200b\u9664\u4e86\u200b\u76f4\u63a5\u200b\u5728\u200b Replacement Policies \u200b\u4e2d\u200b\u8003\u8651\u200b\uff0c\u200b\u6709\u200b\u7684\u200b DBMS \u200b\u4f7f\u7528\u200b Background Writing \uff08\u200b\u540e\u53f0\u200b\u5199\u200b\uff09\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u5904\u7406\u200b\u3002\u200b\u5b83\u4eec\u200b\u5b9a\u671f\u200b\u626b\u63cf\u200b page table\uff0c\u200b\u53d1\u73b0\u200b dirty page \u200b\u5c31\u200b\u5199\u5165\u200b disk\uff0c\u200b\u5728\u200b Replacement \u200b\u53d1\u751f\u200b\u65f6\u200b\u5c31\u200b\u65e0\u9700\u200b\u8003\u8651\u200b\u810f\u200b\u6570\u636e\u200b\u5e26\u6765\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p> <p>Warning</p> <p>\u200b\u5728\u200b\u5c06\u200b dirty page \u200b\u5199\u5165\u200b disk\u200b\u4e4b\u524d\u200b\uff0c\u200b\u8981\u200b\u786e\u4fdd\u200b\u8be5\u200b dirty page \u200b\u5bf9\u5e94\u200b\u7684\u200b\u4fee\u6539\u200b\u64cd\u4f5c\u200b\u5199\u5165\u200b\u65e5\u5fd7\u200b\u3002\u200b\u8fd9\u200b\u5bf9\u4e8e\u200b\u6570\u636e\u200b\u7684\u200b\u4e00\u81f4\u6027\u200b\u548c\u200brollback\u200b\u975e\u5e38\u200b\u7684\u200b\u91cd\u8981\u200b\uff08\u200b\u8fd9\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6240\u8c13\u200b\u7684\u200b WAL\uff0cWrite Ahead Logging\uff09\u3002</p>"},{"location":"db/cmu15445/L5/#other-memory-pools","title":"Other Memory Pools","text":"<p>\u200b\u9664\u4e86\u200b\u5b58\u50a8\u200b tuples \u200b\u548c\u200b indexes\uff0cDBMS \u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u7b49\u200b\u64cd\u4f5c\u200b\u65f6\u200b\u8fd8\u200b\u9700\u8981\u200b Memory Pools \u200b\u6765\u200b\u5b58\u50a8\u200b\u5176\u5b83\u200b\u6570\u636e\u200b\uff0c\u200b\u5982\u200b\uff1a</p> <ul> <li>Sorting + Join Buffers</li> <li>Query Caches</li> <li>Maintenance Buffers</li> <li>Log Buffers</li> <li>Dictionary Caches</li> </ul>"},{"location":"db/cmu15445/L5/#\u603b\u7ed3","title":"\u603b\u7ed3","text":"<p>DBMS \u200b\u7ba1\u7406\u200b\u6570\u636e\u200b\u5728\u200b\u5185\u5b58\u200b\u548c\u200b\u78c1\u76d8\u200b\u95f4\u200b\u7684\u200b\u79fb\u52a8\u200b\uff0c\u200b\u9700\u200b\u8003\u8651\u200b page \u200b\u7684\u200b\u8bbf\u95ee\u200b\u5728\u200b\u65f6\u95f4\u200b\u548c\u200b\u7a7a\u95f4\u200b\u4e0a\u200b\u7684\u200b\u5c40\u90e8\u6027\u200b\u7279\u5f81\u200b\uff0c\u200b\u4ee5\u200b\u63d0\u9ad8\u200b I/O \u200b\u6548\u7387\u200b\u3002\uff08\u200b\u4e00\u6b21\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u5230\u200b\u7684\u200b page \u200b\u52a0\u8f7d\u200b\u5230\u200b\u5185\u5b58\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6709\u200b\u53ef\u80fd\u200b\u88ab\u200b\u518d\u6b21\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u9891\u7e41\u200b\u4ece\u200b\u78c1\u76d8\u200b\u4e2d\u200b\u52a0\u8f7d\u200b page\uff09</p> <ul> <li>\u200b\u7a7a\u95f4\u200b\u63a7\u5236\u7b56\u7565\u200b\uff1a\u200b\u5c06\u200b pages \u200b\u5199\u200b\u5230\u200b\u78c1\u76d8\u200b\u7684\u200b\u54ea\u4e2a\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u4f7f\u5e38\u200b\u4e00\u8d77\u200b\u4f7f\u7528\u200b\u7684\u200b pages \u200b\u80fd\u79bb\u200b\u5f97\u200b\u66f4\u200b\u8fd1\u200b\u3002</li> <li>\u200b\u65f6\u95f4\u200b\u63a7\u5236\u7b56\u7565\u200b\uff1a\u200b\u4f55\u65f6\u200b\u5c06\u200b pages \u200b\u8bfb\u5165\u200b\u5185\u5b58\u200b/\u200b\u5199\u56de\u200b\u78c1\u76d8\u200b\uff0c\u200b\u4f7f\u200b\u8bfb\u5199\u200b\u7684\u200b\u6b21\u6570\u200b\u6700\u5c0f\u200b\u3002</li> </ul> <p>DBMS \u200b\u542f\u52a8\u200b\u65f6\u5411\u200b OS \u200b\u7533\u8bf7\u200b\u4e00\u5757\u200b \u200b\u5171\u4eab\u5185\u5b58\u200b\u533a\u57df\u200b  \u2014\u2014 <code>Buffer Pool</code>\uff0c\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u7684\u200b page \u200b\u8fdb\u884c\u200b\u7f13\u5b58\u200b\uff0c\u200b\u5c3d\u91cf\u51cf\u5c11\u200b\u78c1\u76d8\u200b IO\uff0c\u200b\u63d0\u5347\u200b DBMS \u200b\u6027\u80fd\u200b\u3002\u200b\u8be5\u200b\u533a\u57df\u200b\u88ab\u200b\u5212\u5206\u200b\u4e3a\u200b\u591a\u4e2a\u200b\u4e0e\u200b page \u200b\u5927\u5c0f\u200b\u76f8\u540c\u200b\u7684\u200b\u5c0f\u5757\u200b\uff0c\u200b\u79f0\u4e3a\u200b <code>frame</code>\uff0c\u200b\u7528\u4e8e\u200b\u7f13\u5b58\u200b page\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u8fd8\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b\u54c8\u5e0c\u200b\u8868\u200b <code>page table</code>\uff0c\u200b\u5b58\u50a8\u200b page id \u200b\u5230\u200b frame \u200b\u7684\u200b\u6620\u5c04\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e00\u4e9b\u200b page \u200b\u7684\u200b\u5143\u200b\u6570\u636e\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5982\u200b page \u200b\u662f\u5426\u200b\u4e3a\u810f\u9875\u200b\uff0cpage \u200b\u7684\u200b\u5f15\u7528\u200b\u8ba1\u6570\u200b pin count \u200b\u7b49\u200b\u3002\u200b\u82e5\u200b\u8bf7\u6c42\u200b\u7684\u200b page \u200b\u4e0d\u200b\u5728\u200b page table \u200b\u4e2d\u200b\uff0cDBMS \u200b\u4f1a\u5148\u200b\u7533\u8bf7\u200b\u4e00\u4e2a\u200b latch\uff0c\u200b\u9501\u4f4f\u200b\u8be5\u200b entry\uff0c\u200b\u7136\u540e\u200b\u4ece\u200b disk \u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u76f8\u5173\u200b page \u200b\u5230\u200b Buffer Pool\uff0c\u200b\u91ca\u653e\u200b latch\u3002</p> <p>Info</p> <p>page table \u200b\u7684\u200b\u8bbf\u95ee\u200b\uff0c\u200b\u4e00\u822c\u200b\u8981\u200b\u4fdd\u8bc1\u200b\u5e76\u53d1\u200b\u5b89\u5168\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5728\u200b\u591a\u7ebf\u7a0b\u200b\u73af\u5883\u200b\u4e0b\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u540c\u4e00\u4e2a\u200b\u5185\u5b58\u200b\u4e2d\u200b frame \u200b\u7684\u200b\u8bfb\u5199\u200b\u4e0d\u80fd\u200b\u540c\u65f6\u200b\u8fdb\u884c\u200b\u3002</p> <p>DBMS \u200b\u5982\u4f55\u200b\u4e3a\u200b\u4e0d\u540c\u200b\u7684\u200b\u67e5\u8be2\u200b\u5206\u914d\u200b\u7f13\u51b2\u200b\u6c60\u200b\u5185\u5b58\u200b\uff0c\u200b\u6d89\u53ca\u200b Allocation Policies \uff1a</p> <ul> <li>\u200b\u5168\u5c40\u200b\u7b56\u7565\u200b \uff1a\u200b\u540c\u65f6\u200b\u8003\u8651\u200b\u6240\u6709\u200b\u67e5\u8be2\u200b\u548c\u200b\u4e8b\u52a1\u200b\u6765\u200b\u5206\u914d\u5185\u5b58\u200b\u3002</li> <li>\u200b\u5c40\u90e8\u200b\u7b56\u7565\u200b \uff1a\u200b\u4e3a\u200b\u5355\u4e2a\u200b\u67e5\u8be2\u200b/\u200b\u4e8b\u52a1\u200b\u5206\u914d\u5185\u5b58\u200bframes\u200b\u65f6\u200b\u4e0d\u200b\u8003\u8651\u200b\u5176\u5b83\u200b\u67e5\u8be2\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u53ef\u4ee5\u200b\u8ba9\u200b\u7279\u5b9a\u200b\u7684\u200b\u4e8b\u52a1\u200b\u8868\u73b0\u200b\u66f4\u597d\u200b\uff0c\u200b\u5f53\u7136\u200b\u5168\u5c40\u200b\u4e0a\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u200b\u7cdf\u7cd5\u200b\u7684\u200b\u8868\u73b0\u200b\u3002</li> <li>\u200b\u5927\u591a\u6570\u200b DBMS \u200b\u90fd\u200b\u517c\u987e\u200b\u5168\u5c40\u200b\u548c\u200b\u5c40\u90e8\u200b\u4fe1\u606f\u200b\u6765\u200b\u8fdb\u884c\u200b\u5206\u914d\u200b\u3002</li> </ul> <p>\u200b\u5f53\u200b Buffer Pool \u200b\u7a7a\u95f4\u200b\u4e0d\u8db3\u200b\u65f6\u200b\uff0c\u200b\u8bfb\u5165\u200b\u65b0\u200b\u7684\u200b pages \u200b\u5fc5\u7136\u200b\u9700\u8981\u200b DBMS \u200b\u4ece\u200b\u5df2\u7ecf\u200b\u5728\u200b Buffer Pool \u200b\u4e2d\u200b\u7684\u200b pages \u200b\u9009\u62e9\u200b\u4e00\u4e9b\u200b\u79fb\u9664\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u9009\u62e9\u200b\u5c31\u200b\u7531\u200b Buffer Replacement Policies \u200b\u8d1f\u8d23\u200b\u5b8c\u6210\u200b\u3002\u200b\u5177\u4f53\u200b\u7b97\u6cd5\u200b\u6709\u200b\uff1a LRU \u3001 Clock \u3002\u200b\u4e8c\u8005\u200b\u90fd\u200b\u5b58\u5728\u200b sequential flooding \uff08\u200b\u987a\u5e8f\u200b\u6ea2\u51fa\u200b\uff09\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ef\u200b\u91c7\u7528\u200b  LRU-K \u3001 Localization (\u200b\u5c40\u90e8\u200b\u7b56\u7565\u200b) \u3001Priority Hints (\u200b\u4f18\u5148\u7ea7\u200b\u63d0\u793a\u200b) \u200b\u89e3\u51b3\u200b\u3002</p> <ul> <li>\u200b\u987a\u5e8f\u200b\u6ea2\u51fa\u200b\uff1a\u200b\u5927\u91cf\u200b\u7684\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b (sequential scan) \u200b\u4f1a\u200b\u4f7f\u200b buffer pool \u200b\u88ab\u200b\u53ea\u8bfb\u200b\u4e86\u200b\u4e00\u6b21\u200b\u4e4b\u540e\u200b\u518d\u4e5f\u4e0d\u4f1a\u200b\u8bfb\u53d6\u200b\u7684\u200b page \u200b\u6c61\u67d3\u200b\u3002\u200b\u4ece\u800c\u200b\u5bfc\u81f4\u200b\u6700\u8fd1\u200b\u88ab\u200b\u8bbf\u95ee\u200b\u7684\u200b page \u200b\u5b9e\u9645\u4e0a\u200b\u5374\u662f\u200b\u6700\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u7684\u200b page\u3002</li> <li>\u200b\u5c40\u90e8\u200b\u7b56\u7565\u200b\uff1a\u200b\u4f7f\u7528\u200b\u591a\u4e2a\u200b buffer \u200b\u6c60\u200b\uff0c\u200b\u8ba9\u200b\u6bcf\u4e2a\u200b\u67e5\u8be2\u200b\u672c\u5730\u5316\u200b\uff0cDBMS \u200b\u9488\u5bf9\u200b\u6bcf\u4e2a\u200b\u67e5\u8be2\u200b\u505a\u51fa\u200b\u79fb\u200b\u9664\u53bb\u200b page \u200b\u7684\u200b\u9650\u5236\u200b\u3002</li> <li>\u200b\u4f18\u5148\u7ea7\u200b\u63d0\u793a\u200b\uff1a\u200b\u8bb0\u5f55\u200b\u6bcf\u4e2a\u200b page \u200b\u5728\u200b\u67e5\u8be2\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6839\u636e\u200b\u8fd9\u4e9b\u200b\u4fe1\u606f\u200b\u5224\u65ad\u200b\u8be5\u200b page \u200b\u662f\u5426\u200b\u91cd\u8981\u200b\u3002</li> </ul> <p>\u200b\u79fb\u9664\u200b\u4e00\u4e2a\u200b dirty page \u200b\u7684\u200b\u6210\u672c\u200b\u8981\u200b\u9ad8\u4e8e\u200b\u79fb\u9664\u200b\u4e00\u822c\u200b page\uff0c\u200b\u6709\u200b\u7684\u200b DBMS \u200b\u4f7f\u7528\u200b Background Writing (\u200b\u540e\u53f0\u200b\u5199\u200b) \u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u5904\u7406\u200b\u3002\u200b\u5b83\u4eec\u200b\u5b9a\u671f\u200b\u626b\u63cf\u200b page table\uff0c\u200b\u53d1\u73b0\u200b dirty page \u200b\u5c31\u200b\u5199\u5165\u200b disk\uff0c\u200b\u5728\u200b Replacement \u200b\u53d1\u751f\u200b\u65f6\u200b\u5c31\u200b\u65e0\u9700\u200b\u8003\u8651\u200b\u810f\u200b\u6570\u636e\u200b\u5e26\u6765\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p> <p>Warning</p> <p>\u200b\u5728\u200b\u5c06\u200b dirty page \u200b\u5199\u5165\u200b disk \u200b\u4e4b\u524d\u200b\uff0c\u200b\u8981\u200b\u786e\u4fdd\u200b\u8be5\u200b dirty page \u200b\u5bf9\u5e94\u200b\u7684\u200b\u4fee\u6539\u200b\u64cd\u4f5c\u200b\u5199\u5165\u200b\u65e5\u5fd7\u200b\u2014\u2014<code>WAL</code></p> <p>\u200b\u5b9e\u9645\u200b\u751f\u4ea7\u200b\u4e2d\u6709\u200b\u5f88\u591a\u200b\u5bf9\u200b Buffer Pool \u200b\u7684\u200b\u4f18\u5316\u200b\u65b9\u6cd5\u200b\uff1a</p> <ul> <li> <p>Multiple Buffer Pools (\u200b\u590d\u6570\u200b\u7f13\u5b58\u200b\u6c60\u200b) \uff1a\u200b\u5728\u200b\u4e0d\u540c\u200b\u7ef4\u5ea6\u200b\u4e0a\u200b\u7ef4\u62a4\u200b\u591a\u4e2a\u200b Buffer Pool\uff0c\u200b\u76f8\u540c\u200b\u7684\u200b page hash \u200b\u5230\u200b\u76f8\u540c\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u4e0a\u200b\u3002 \ud83c\udf30 \u200b\u6bcf\u4e2a\u200b database / \u200b\u6bcf\u79cd\u200b page \u200b\u7c7b\u578b\u200b\uff0c\u200b\u5206\u914d\u200b\u4e00\u4e2a\u200b Buffer Pool \u200b\u7b49\u200b\u3002</p> </li> <li> <p>Pre-fetching (\u200b\u9884\u53d6\u200b) \uff1a\u200b\u5bf9\u4e8e\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\u6216\u8005\u200b\u7d22\u5f15\u200b\u626b\u63cf\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u8bfb\u200b\u4e00\u5927\u200b\u6bb5\u200b\u8fde\u7eed\u200b\u7684\u200b page\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u200b\u4e00\u6b21\u6027\u200b\u628a\u200b\u8bb8\u591a\u200b\u8fde\u7eed\u200b\u7684\u200b page \u200b\u9884\u200b\u5b58\u5728\u200b\u7f13\u5b58\u200b\u6c60\u4e2d\u200b\u3002</p> </li> <li>Scan Sharing (\u200b\u626b\u63cf\u200b\u5171\u4eab\u200b) \uff1a\u200b\u591a\u4e2a\u200b\u67e5\u8be2\u200b\u5b58\u5728\u200b\u6570\u636e\u200b\u5171\u7528\u200b\u65f6\u200b\uff0c\u200b\u53ef\u200b\u5171\u7528\u200b cursor\u3002<ul> <li>VS. result caching (\u200b\u7ed3\u679c\u200b\u7f13\u5b58\u200b)\uff1a\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u67d0\u4e9b\u200b\u7ed3\u679c\u200b\u5e76\u200b\u5c06\u200b\u4e4b\u200b\u7f13\u5b58\u200b\u8d77\u6765\u200b\uff0c\u200b\u518d\u200b\u9047\u4e0a\u200b\u76f8\u540c\u200b\u7684\u200b\u67e5\u8be2\u200b\u65f6\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u3002\u200b\u7ed3\u679c\u200b\u7f13\u5b58\u200b\u4e2d\u200b\uff0c\u200b\u67e5\u8be2\u200b\u5fc5\u987b\u200b\u4e00\u6837\u200b\uff1b\u200b\u626b\u63cf\u200b\u5171\u4eab\u200b\u4e2d\u200b\uff0c\u200b\u67e5\u8be2\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u8981\u200b\u4e00\u6837\u200b\u3002</li> </ul> </li> <li>Buffer Pool Bypass (\u200b\u8df3\u8fc7\u200b Buffer Pool) \uff1a\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\u7684\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\u4f1a\u200b\u5bfc\u81f4\u200b Buffer Pool \u200b\u7684\u200b\u6c61\u67d3\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u79cd\u200b\u67e5\u8be2\u200b\u51fa\u73b0\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4e3a\u200b\u5b83\u200b\u5355\u72ec\u200b\u5206\u914d\u200b\u4e00\u5757\u200b\u5c40\u90e8\u200b\u5185\u5b58\u200b\uff0c\u200b\u9694\u79bb\u200b\u5b83\u200b\u5bf9\u200b Buffer Pool \u200b\u7684\u200b\u5f71\u54cd\u200b\u3002\u200b\u67e5\u8be2\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u4e22\u5f03\u200b\u8fd9\u4e9b\u200b page\u3002</li> </ul> <p>Info</p> <p>page table VS. page directory\uff1a</p> <ul> <li>page directory \uff1a\u200b\u6570\u636e\u5e93\u200b\u6587\u4ef6\u200b\u4e2d\u200b page id \u200b\u5230\u200b page \u200b\u4f4d\u7f6e\u200b\u7684\u200b\u6620\u5c04\u200b\u3002\u200b\u662f\u200b\u544a\u8bc9\u200b\u6267\u884c\u200b\u5f15\u64ce\u200b\u6570\u636e\u200b\u5728\u200b\u54ea\u4e2a\u200b page \u200b\u7684\u200b\u90a3\u4e2a\u200b slot\uff08\u200b\u5373\u200b offset\uff09\u200b\u7684\u200b\u5173\u952e\u200b\u7d22\u5f15\u200b\uff0c\u200b\u6240\u6709\u200b\u6539\u53d8\u200b\u90fd\u200b\u9700\u200b\u6301\u4e45\u200b\u5316\u5230\u200b\u78c1\u76d8\u200b\uff0c\u200b\u4ee5\u200b\u4fdd\u8bc1\u200bDBMS\u200b\u91cd\u542f\u200b\u65f6\u80fd\u200b\u627e\u5230\u200b\u3002</li> <li>page table \uff1a\u200b\u662f\u200b page id \u200b\u5230\u200b buffer pool \u200b\u4e2d\u200b frame \u200b\u7684\u200b\u6620\u5c04\u200b\u3002\u200b\u662f\u200b\u4e2a\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b hash\u200b\u8868\u200b\u7ed3\u6784\u200b\uff0c\u200b\u65e0\u9700\u200b\u5b58\u50a8\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\uff08\u200b\u65e0\u9700\u200b\u4fdd\u8bc1\u200b\u6301\u4e45\u200b\u5316\u200b\uff0c\u200b\u4e22\u5931\u200b\u4e86\u200b\u91cd\u65b0\u200b\u5efa\u7acb\u200b\u4e00\u4e2a\u200b\u5c31\u200b\u597d\u200b\uff0c\u200b\u4f46\u200b\u8981\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\uff09\u3002</li> </ul> <p>lock VS. latch\uff1a</p> <ul> <li>lock \uff1a\u200b\u4fdd\u62a4\u200b \u200b\u6570\u636e\u5e93\u200b\u903b\u8f91\u200b\u5185\u5bb9\u200b (\u200b\u4f8b\u5982\u200b\u5143\u7ec4\u200b\u3001\u200b\u8868\u200b\u3001\u200b\u6570\u636e\u5e93\u200b)\u200b\u4e0d\u200b\u53d7\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002\u200b\u5728\u200b\u4e8b\u52a1\u200b\u6301\u7eed\u200b\u671f\u95f4\u200b\u4fdd\u6301\u200b\uff0c\u200b\u80fd\u591f\u200b\u56de\u6eda\u200b\u66f4\u6539\u200b\u3002</li> <li>latches \uff1a\u200b\u4fdd\u62a4\u200b DBMS\u200b\u5185\u90e8\u200b\u6570\u636e\u7ed3\u6784\u200b \u200b\u7684\u200b\u5173\u952e\u200b\u90e8\u5206\u200b\u4e0d\u200b\u53d7\u200b\u5176\u4ed6\u200b\u7ebf\u7a0b\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002\u200b\u64cd\u4f5c\u200b\u671f\u95f4\u200b\u4fdd\u6301\u200b\uff0c\u200b\u4e0d\u200b\u80fd\u591f\u200b\u56de\u6eda\u200b\u66f4\u6539\u200b\u3002</li> </ul>"},{"location":"db/cmu15445/L6/","title":"Hash Tables","text":"<p> \u200b\u7ea6\u200b 5272 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 18 \u200b\u5206\u949f\u200b</p>"},{"location":"db/cmu15445/L6/#\u6570\u636e\u7ed3\u6784","title":"\u6570\u636e\u7ed3\u6784","text":"<p>\u200b\u73b0\u5728\u200b\u6211\u4eec\u200b\u8981\u200b\u6765\u200b\u8ba8\u8bba\u200b\u4e0b\u200b buffer pool manager \u200b\u4e4b\u4e0a\u200b\u7684\u200b\u4e1c\u200b\u2ec4\u200b\uff0c\u200b\u5373\u200b Access methods\u3002\u200b\u8fd9\u662f\u200b\u4e00\u79cd\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u6570\u636e\u5e93\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8bfb\u200b/\u200b\u5199\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff08\u200b\u6570\u636e\u5e93\u200b\u5b58\u653e\u200b\u5728\u200b\u78c1\u76d8\u200b\u7684\u200bpage\u200b\u4e2d\u200b\uff09\u3002\u200b\u63a5\u4e0b\u6765\u200b\u51e0\u8282\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f1a\u200b\u8ba8\u8bba\u200b\u6570\u636e\u7cfb\u7edf\u200b\u5185\u90e8\u200b\u6240\u200b\u7ef4\u62a4\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u2014\u2014 hash tables\u3001trees\u3002</p> <p></p> <p>\u200b\u4e00\u4e2a\u200b DBMS \u200b\u4e3a\u200b\u7cfb\u7edf\u200b\u5185\u90e8\u200b\u7684\u200b\u8bb8\u591a\u200b\u4e0d\u540c\u200b\u90e8\u5206\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff1a</p> <ul> <li> <p>Internal Meta-Data\uff08\u200b\u5185\u90e8\u200b\u5143\u200b\u6570\u636e\u200b\uff09 \uff1a\u200b\u8ddf\u8e2a\u200b\u6570\u636e\u5e93\u200b\u548c\u200b\u7cfb\u7edf\u200b\u72b6\u6001\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002</p> <p>\ud83c\udf30 Page Directory \u200b\u6216\u200b Page Table \u200b\u6765\u200b\u68c0\u7d22\u200b\u5bf9\u5e94\u200b\u7684\u200bPage\u200b\u65f6\u200b\uff0c\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200bhash table\u3002</p> <p>Info</p> <p>Page Directory\uff08heap\u200b\u6587\u4ef6\u200b\u8868\u793a\u200b\u5f62\u5f0f\u200b\u4e4b\u4e00\u200b\uff09\u200b\u7ef4\u62a4\u200b pageID \u200b\u5230\u200b\u78c1\u76d8\u200b\u7269\u7406\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u6587\u4ef6\u200b\u8def\u5f84\u200b+\u200b\u504f\u79fb\u91cf\u200b\uff09\u200b\u7684\u200b\u6620\u5c04\u200b</p> <p>Buffer Pool \u200b\u4e2d\u200b\u63d0\u5230\u200b\u989d\u5916\u200b\u7684\u200b indirection \u200b\u5c42\u200b Page Table \u200b\u7ef4\u62a4\u200b pageID \u200b\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff08frame\uff09\u200b\u7684\u200b\u6620\u5c04\u200b</p> </li> <li> <p>Core Data Storage\uff08\u200b\u6838\u5fc3\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\uff09 \uff1a\u200b\u53ef\u4ee5\u200b\u7528\u4f5c\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b tuple \u200b\u7684\u200b\u57fa\u7840\u200b\u5b58\u50a8\u200b\u3002\u200b\u6570\u636e\u5e93\u200b\u6240\u200b\u5b58\u50a8\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u7ec4\u7ec7\u200b\u6210\u200b\u4e00\u4e2a\u200b hash table \u200b\u6216\u200b B+ tree \u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u6811\u7ed3\u6784\u200b\u3002</p> <p>\ud83c\udf30 memcache \u200b\u672c\u8d28\u200b\u662f\u200b\u4e00\u4e2a\u200b hash table\uff1bMySQL \u200b\u7684\u200b innodb \u200b\u5f15\u64ce\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b B+ tree\uff08\u200b\u5c06\u200btuple\u200b\u5b58\u5728\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\uff09</p> </li> <li> <p>Temporary Data Structures\uff08\u200b\u4e34\u65f6\u200b\u6570\u636e\u200b\uff09 \uff1a\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u6216\u8005\u200b\u9ad8\u6548\u200b\u8ba1\u7b97\u200b\u65f6\u200b\u4e34\u65f6\u200b\u521b\u5efa\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</p> <p>\ud83c\udf30 \u200b\u4f8b\u5982\u200b join \u200b\u65f6\u200b\u521b\u5efa\u200b\u7684\u200b hash table\u3002</p> </li> <li> <p>Table Indexes\uff08\u200b\u8868\u200b\u7d22\u5f15\u200b\uff09 \uff1a\u200b\u672c\u8d28\u200b\u662f\u200b\u7528\u200b tuple \u200b\u7684\u200b key \u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\uff0c\u200b\u8f85\u52a9\u200b\u6211\u4eec\u200b\u5feb\u901f\u200b\u67e5\u627e\u200b\u5230\u200b\u67d0\u4e2a\u200b tuple\uff0c\u200b\u907f\u514d\u200b\u987a\u5e8f\u200b\u68c0\u7d22\u200b\u3002</p> </li> </ul> <p>\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u7ed3\u6784\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u9700\u200b\u8003\u8651\u200b\u7684\u200b\u95ee\u9898\u200b\uff1a</p> <ul> <li>Data Origanization\uff1a\u200b\u5982\u4f55\u200b\u5728\u200b\u5185\u5b58\u200b/ Page \u200b\u4e2d\u200b\u7ec4\u7ec7\u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\uff0c\u200b\u5e76\u4e14\u200b\u652f\u6301\u200b\u5feb\u901f\u200b\u7684\u200b\u8bfb\u5199\u200b\u4e0e\u200b\u589e\u5220\u200b\u3002</li> <li>Concurrency\uff1a\u200b\u5982\u4f55\u200b\u652f\u6301\u200b\u591a\u7ebf\u7a0b\u200b\u73af\u5883\u200b\u5bf9\u200b\u6570\u636e\u7ed3\u6784\u200b\u7684\u200b\u8bbf\u95ee\u200b\u3002\ud83c\udf30 \u200b\u5bf9\u4e8e\u200b\u540c\u4e00\u4e2a\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u5728\u200b\u5199\u200b\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u540c\u65f6\u200b\u5728\u8bfb\u200b\uff0c\u200b\u5c31\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u95ee\u9898\u200b\uff08\u200b\u810f\u8bfb\u200b\uff09\u3002\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b\u5bf9\u4e8e\u200b\u540e\u7eed\u200b\u7684\u200b\u4e8b\u52a1\u5904\u7406\u200b\u5c06\u4f1a\u200b\u662f\u200b\u5f88\u200b\u91cd\u8981\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8003\u91cf\u200b\u3002</li> </ul> <p>\u200b\u8fd9\u8282\u200b\u8bfe\u200b\u7684\u200b\u91cd\u70b9\u200b\u662f\u200b hash table\uff0c\u200b\u4e14\u200b\u53ea\u200b\u8003\u8651\u200b\u5355\u7ebf\u7a0b\u200b\u7684\u200b\u60c5\u51b5\u200b\uff08\u200b\u8fd9\u6837\u200b\u6211\u4eec\u200b\u5c31\u200b\u80fd\u200b\u4f7f\u7528\u200b latch \u200b\u4fdd\u62a4\u200b\u7269\u7406\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u5b83\u200b\u80fd\u200b\u9632\u6b62\u200b\u6211\u4eec\u200b\u53bb\u200b\u8bfb\u53d6\u200b\u67d0\u4e9b\u200b\u65e0\u6548\u200b\u7684\u200b\u5185\u5b58\u5730\u5740\u200b or \u200b\u65e0\u6548\u200b\u7684\u200b page \u200b\u4f4d\u7f6e\u200b\uff09\u3002\u200b\u4e4b\u540e\u200b\u4f1a\u200b\u8ba8\u8bba\u200b\u5982\u4f55\u200b\u5728\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u7ed3\u6784\u200b\u5185\u90e8\u200b\u8fdb\u884c\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b\u3002</p>"},{"location":"db/cmu15445/L6/#hash-table","title":"Hash Table","text":"<p>hash table \u200b\u662f\u200b\u4e2a\u200b\u62bd\u8c61\u6570\u636e\u7c7b\u578b\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u65e0\u5e8f\u200b\u7684\u200b\u5173\u8054\u200b\u6570\u7ec4\u200b\u5b9e\u73b0\u200b\u7684\u200b API\uff0c\u200b\u5b83\u200b\u80fd\u200b\u5c06\u200b key \u200b\u6620\u5c04\u200b\u5230\u200b value\u3002</p> <ul> <li>\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4efb\u610f\u200b\u7684\u200b key \u200b\u6620\u5c04\u200b\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b value \u200b\u4e0a\u200b\u3002\u200b\u5728\u200b hash table \u200b\u4e2d\u200b\u5e76\u200b\u6ca1\u6709\u200b\u987a\u5e8f\u200b\u7684\u200b\u8bf4\u6cd5\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b hash table \u200b\u7684\u200b key \u200b\u662f\u200b\u65e0\u5e8f\u200b\u7684\u200b\uff08\u200b\u4f46\u662f\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u65f6\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6811\u72b6\u200b\u54c8\u5e0c\u200b\uff0c\u200b\u8fd8\u662f\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u987a\u5e8f\u200b\uff09\u3002</li> <li>\u200b\u5bf9\u4e8e\u200b\u6570\u7ec4\u200b\u5f62\u5f0f\u200b\u7684\u200b\u54c8\u5e0c\u200b\uff0c\u200b\u5b83\u200b\u4f7f\u7528\u200b hash \u200b\u51fd\u6570\u200b\u8ba1\u7b97\u200b\u7ed9\u5b9a\u200b key \u200b\u5728\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u7684\u200b offset\uff0c\u200b\u4ece\u4e2d\u200b\u53ef\u4ee5\u200b\u627e\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b value\u3002</li> <li>hash table \u200b\u7684\u200b\u7a7a\u95f4\u200b\u590d\u6742\u5ea6\u200b\u662f\u200b O(n)\uff0c\u200b\u67e5\u627e\u200b\u7684\u200b\u5e73\u5747\u200b\u590d\u6742\u5ea6\u200b\u662f\u200b O(1)\uff0c\u200b\u4f46\u662f\u200b\u6700\u574f\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u662f\u200b O(n)\u3002 <p>\u200b\u6700\u574f\u200b\u60c5\u51b5\u200b O(n) \u200b\u610f\u5473\u7740\u200b\u6211\u4eec\u200b\u5fc5\u987b\u200b\u8fdb\u200b\u2f8f\u200b\u5faa\u5e8f\u200b\u67e5\u627e\u200b\u6216\u8005\u200b\u662f\u200b\u7ebf\u6027\u200b\u641c\u7d22\u200b\u6765\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u53ef\u80fd\u200b\u7684\u200b key \u200b\u8fdb\u200b\u2f8f\u200b\u67e5\u627e\u200b\uff0c\u200b\u4ee5\u200b\u627e\u5230\u200b\u8981\u200b\u627e\u200b\u7684\u200b key</p> </li> </ul> <p>\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b \u200b\u7406\u60f3\u200b\u60c5\u51b5\u200b\u4e0b\u200b \u200b\u7684\u200b hash \u200b\u8868\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u89c6\u4f5c\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u3002\u200b\u6211\u4eec\u200b\u77e5\u9053\u200b\u6240\u6709\u200b key \u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6bcf\u4e2a\u200b key \u200b\u90fd\u200b\u662f\u200b\u552f\u4e00\u200b\u7684\u200b\uff0c\u200b\u5219\u200b\u6bcf\u4e2a\u200b key \u200b\u7ecf\u8fc7\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b\u6620\u5c04\u200b\u540e\u200b\u90fd\u200b\u4f1a\u200b\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u503c\u200b\uff08\u200b\u6bcf\u6b21\u200b hash \u200b\u7ed3\u679c\u200b\u90fd\u200b\u4e0d\u540c\u200b\uff09 \u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u505a\u5230\u200b\u4e00\u4e2a\u200b\u7406\u60f3\u200b\u7684\u200b hash \u200b\u8868\u200b\u3002\u200b\u7136\u800c\u200b\u5b9e\u9645\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5f88\u96be\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u5b8c\u7f8e\u200b hash \u200b\u51fd\u6570\u200b\uff0c\u200b\u4e0d\u200b\u5b58\u5728\u200b\u4efb\u4f55\u200b\u80fd\u200b\u4fdd\u8bc1\u200b hash \u200b\u7ed3\u679c\u200b\u552f\u4e00\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u610f\u5473\u7740\u200b\u4e00\u5b9a\u200b\u4f1a\u200b\u6709\u200b hash \u200b\u51b2\u7a81\u200b\u7684\u200b\u4ea7\u751f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u5f97\u200b\u5bf9\u200b hash \u200b\u51b2\u7a81\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\u3002</p> <p>hash table \u200b\u662f\u200b\u7531\u200b\u4e8c\u200b\u90e8\u5206\u200b\u7ec4\u6210\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff1a</p> <ol> <li>Hash Function\uff1a \u200b\u5982\u4f55\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u5927\u200b\u7684\u200b key \u200b\u6620\u5c04\u200b\u5230\u200b\u4e00\u4e2a\u200b\u76f8\u5bf9\u200b\u5c0f\u200b\u8303\u56f4\u200b\u7684\u200b integer \u200b\u503c\u200b\u3002\u200b\u8981\u200b\u6743\u8861\u200b hash \u200b\u901f\u5ea6\u200b\u4e0e\u200b\u51b2\u7a81\u200b\u7387\u200b\u3002</li> <li>Hash Scheme\uff1a \u200b\u5982\u4f55\u200b\u5904\u7406\u200b hash \u200b\u51b2\u7a81\u200b\u3002\u200b\u8981\u200b\u6743\u8861\u200b\u4f7f\u7528\u200b\u7684\u200b\u5185\u5b58\u7a7a\u95f4\u200b\u4e0e\u200b\u5904\u7406\u200b\u51b2\u7a81\u200b\u65f6\u200b\u7684\u200b\u989d\u5916\u200b\u64cd\u4f5c\u200b\u3002</li> </ol> <p>\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u8ba8\u8bba\u200b hash \u200b\u51fd\u6570\u200b\uff0c\u200b\u5c55\u793a\u200b\u6709\u200b\u54ea\u4e9b\u200b hash \u200b\u51fd\u6570\u200b\u4ee5\u53ca\u200b\u4eba\u4eec\u200b\u73b0\u5728\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u54ea\u4e9b\u200b\uff1b\u200b\u7136\u540e\u200b\u8ba8\u8bba\u200b\u4e24\u7c7b\u200b hash scheme\u2014\u2014static hashing scheme\u3001dynamic hashing scheme</p>"},{"location":"db/cmu15445/L6/#hash-functions","title":"Hash Functions","text":"<p>Hash Function \u200b\u63a5\u53d7\u200b\u4efb\u4f55\u200b key \u200b\u4f5c\u4e3a\u200b\u5176\u200b\u8f93\u5165\u200b\u3002\u200b\u7136\u540e\u200b\u8fd4\u56de\u200b\u8be5\u200b key \u200b\u7684\u200b\u6574\u6570\u200b\u8868\u793a\u200b(\u200b\u5373\u200b\u201chash\u201d)\u3002\u200b\u51fd\u6570\u200b\u7684\u200b\u8f93\u51fa\u200b\u662f\u200b\u786e\u5b9a\u6027\u200b\u7684\u200b\uff08\u200b\u5373\u200b\u76f8\u540c\u200b\u7684\u200b key \u200b\u5e94\u8be5\u200b\u603b\u662f\u200b\u751f\u6210\u200b\u76f8\u540c\u200b\u7684\u200b\u54c8\u5e0c\u200b\u8f93\u51fa\u200b\uff09\u3002</p> <p>\u200b\u5e38\u89c1\u200b\u7684\u200bhash\u200b\u51fd\u6570\u200b\u6709\u200b SHA-256\u3001MD5\u3002</p> <ul> <li>SHA-256 \u200b\u662f\u200b\u975e\u5bf9\u79f0\u200b\u52a0\u5bc6\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e0d\u200b\u53ef\u9006\u200b\u7684\u200b\u52a0\u5bc6\u200b hash</li> <li>MD5 \u200b\u662f\u200b\u53ef\u9006\u200b\u7684\u200b\u52a0\u5bc6\u200b hash</li> </ul> <p>DBMS \u200b\u4e0d\u200b\u5e0c\u671b\u200b\u4f7f\u7528\u200b\u52a0\u5bc6\u200b hash \u200b\u51fd\u6570\u200b \uff0c\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u62c5\u5fc3\u200b\u4fdd\u62a4\u200b\u5bc6\u94a5\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b\u4e3b\u8981\u200b\u7531\u200b DBMS \u200b\u5185\u90e8\u200b\u4f7f\u7528\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4fe1\u606f\u200b\u4e0d\u4f1a\u200b\u6cc4\u9732\u200b\u5230\u200b\u7cfb\u7edf\u200b\u5916\u90e8\u200b\uff0c\u200b\u800c\u4e14\u200b\u52a0\u5bc6\u200b hash \u200b\u51fd\u6570\u200b\u7684\u200b\u901f\u5ea6\u200b\u4e5f\u200b\u5f88\u6162\u200b\uff08MD5 \u200b\u662f\u200b\u5355\u5411\u200b\u6563\u5217\u200b hash \u200b\u4f46\u200b\u4e5f\u200b\u5f88\u6162\u200b\uff09\u3002\u200b\u5728\u200b\u8fd9\u200b\u4e00\u200b\u8bb2\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b =\u200b\u53ea\u200b\u5173\u5fc3\u200b hash \u200b\u51fd\u6570\u200b\u7684\u200b\u901f\u5ea6\u200b\u548c\u200b\u51b2\u7a81\u200b\u7387\u200b= \u3002</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4eba\u4eec\u200b\u4f7f\u7528\u200b\u7684\u200b\u90e8\u5206\u200b hash \u200b\u51fd\u6570\u200b\uff1a</p> <ul> <li>CRC-64\uff1a\uff081975\uff09\u200b\u751f\u6210\u200b hash \u200b\u7684\u200b\u78b0\u649e\u200b\u7387\u200b\u5408\u7406\u200b\uff0c\u200b\u4f46\u200b\u901f\u5ea6\u200b\u975e\u5e38\u200b\u6162\u200b</li> <li>MurmurHash\uff1a\uff082008\uff09\u200b\u4ece\u200b\u6570\u636e\u5e93\u200b\u5c42\u9762\u200b\u8bf4\u200b\uff0c\u200b\u5176\u200b\u8bde\u751f\u200b\u8fdb\u5165\u200b\u4e86\u200b\u73b0\u4ee3\u200b hash \u200b\u51fd\u6570\u200b\u65f6\u4ee3\u200b\uff0cgoogle \u200b\u5bf9\u200b\u5176\u200b\u4fee\u6539\u200b\u4f7f\u200b\u957f\u5ea6\u200b\u66f4\u200b\u77ed\u200b\u7684\u200b key \u200b\u83b7\u5f97\u200b\u66f4\u5feb\u200b\u7684\u200b\u901f\u5ea6\u200b</li> <li>Google \u200b\u7684\u200b CityHash\uff1a\uff082011\uff09google \u200b\u5728\u200b\u4e4b\u540e\u200b\u505a\u51fa\u200b\u4e86\u200b CityHash</li> <li>Facebook \u200b\u7684\u200b XXHash\uff1a\uff082012\uff09\u200b\u4e4b\u540e\u200b\u53d1\u884c\u200b\u7684\u200b XXHash3 \u200b\u662f\u200b\u76ee\u524d\u200b\u901f\u5ea6\u200b\u6700\u5feb\u200b\u3001\u200b\u78b0\u649e\u200b\u7387\u200b\u6700\u4f4e\u200b\u7684\u200bHash\u200b\u51fd\u6570\u200b</li> <li>Google \u200b\u7684\u200b FarmHash\uff1a\uff082014\uff09google \u200b\u5bf9\u200b CityHash \u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\u5f97\u5230\u200b FarmHash\uff0c\u200b\u78b0\u649e\u200b\u7387\u200b\u6bd4\u200b CityHash \u200b\u66f4\u200b\u4f4e\u200b</li> </ul> <p>\ud83d\udc47\u200b\u56fe\u200b\u5c55\u793a\u200b\u4e86\u200b\u5404\u200b hash \u200b\u51fd\u6570\u200b\u901f\u5ea6\u200b\u968f\u200b key \u200b\u589e\u5927\u200b\u7684\u200b\u53d8\u5316\u200b\uff0c\u200b\u53ef\u89c1\u200b XXHash3 \u200b\u7684\u200b\u6027\u80fd\u200b\u662f\u200b\u6700\u597d\u200b\u7684\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u5b83\u200b\u7684\u200b\u78b0\u649e\u200b\u7387\u200b\u8868\u73b0\u200b\u4e5f\u200b\u5f88\u200b\u4e0d\u9519\u200b\u3002</p> <p>\u200b\u6240\u4ee5\u200b\uff0c\u200b\u5728\u200b\u6211\u4eec\u200b\u81ea\u5df1\u200b\u7684\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u5c3d\u53ef\u80fd\u200b\u591a\u200b\u7684\u200b\u4f7f\u7528\u200b Facebook \u200b\u7684\u200b XXHash3\u3002\uff08\u200b\u4e0d\u8981\u200b\u81ea\u5df1\u200b\u5199\u200b hash \u200b\u51fd\u6570\u200b\uff0c\u200b\u5f88\u200b\u6d6a\u8d39\u65f6\u95f4\u200b\uff09</p> <p></p> <p>Info</p> <p>\u200b\u56fe\u50cf\u200b\u4e0a\u200b\uff0c\u200b\u5f53\u200b key \u200b\u5927\u5c0f\u200b\u4e3a\u200b32\u300164\u3001128byte \u200b\u65f6\u200b\uff0cFarmHash\u3001CityHash\u3001XXHash3\u200b\u90fd\u200b\u51fa\u73b0\u200b\u4e86\u200b\u5c16\u5cf0\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u5b83\u4eec\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b key \u200b\u521a\u597d\u200b\u586b\u6ee1\u200b\u5355\u4e2a\u200b Cache Line\uff08CPU\u200b\u4e0e\u200b\u5185\u5b58\u200b\u95f4\u200b\u6570\u636e\u4f20\u8f93\u200b\u7684\u200b\u6700\u5c0f\u200b\u5355\u4f4d\u200b\uff09\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u4e00\u6b21\u200b\u6570\u636e\u200b\u65f6\u200b\u53ef\u200b\u4e00\u6b21\u6027\u200b\u64cd\u4f5c\u200b\u3002</p>"},{"location":"db/cmu15445/L6/#static-hashing-schemes","title":"Static Hashing Schemes","text":"<p>\u200b\u9759\u6001\u200b\u54c8\u5e0c\u200b\u65b9\u6848\u200b\u662f\u200b\u6307\u200b \u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u5927\u5c0f\u200b\u662f\u200b\u56fa\u5b9a\u200b\u7684\u200b \u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\uff0c\u200b\u5f53\u200b DBMS \u200b\u7528\u200b\u5b8c\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u7684\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u540e\u200b\uff0c\u200b\u5b83\u200b\u5fc5\u987b\u200b\u6269\u5bb9\u200b\u5e76\u4e14\u200b\u91cd\u5efa\u200b\uff08\u200b\u5c06\u200b\u539f\u6765\u200b\u7684\u200b\u503c\u5168\u200b\u590d\u5236\u200b\u8fc7\u53bb\u200b\uff09\u200b\u54c8\u5e0c\u200b\u8868\u200b\u3002\u200b\u901a\u5e38\u200b\uff0c\u200b\u65b0\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u5927\u5c0f\u200b\u662f\u200b\u539f\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u4e24\u500d\u200b\u3002</p> <p>\u200b\u6269\u5bb9\u200b\u4ee3\u4ef7\u200b\u975e\u5e38\u200b\u9ad8\u200b\uff0c\u200b\u7406\u60f3\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5927\u6982\u200b\u77e5\u9053\u200b\u8981\u200b\u4fdd\u5b58\u200b\u7684\u200b\u5143\u7d20\u200b\uff08key\uff09\u200b\u7684\u200b\u4e0a\u9650\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u65e0\u987b\u200b\u6269\u5bb9\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u51cf\u5c11\u200b\u6d6a\u8d39\u200b\u7684\u200b\u6bd4\u8f83\u200b\u6b21\u6570\u200b\uff0c\u200b\u91cd\u8981\u200b\u7684\u200b\u662f\u200b\u907f\u514d\u200b\u54c8\u5e0c\u200b\u952e\u200b\u7684\u200b\u78b0\u649e\u200b\u3002\u200b\u8fd9\u200b\u8981\u6c42\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u69fd\u200b\u6570\u200b\uff08slots\uff09\u200b\u662f\u200b\u9884\u671f\u200b\u5143\u7d20\u200b\u6570\u200b\u7684\u200b\u4e24\u500d\u200b slots = 2*keys\u3002</p> <p>\u200b\u9996\u5148\u200b\u8ba8\u8bba\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u9759\u6001\u200b\u54c8\u5e0c\u200b\u65b9\u6848\u200b\u2014\u2014\u200b\u7ebf\u6027\u63a2\u67e5\u200b hash\u3002\u200b\u4e4b\u540e\u200b\u8ba8\u8bba\u200b\u5728\u200b\u5b83\u200b\u4e4b\u4e0a\u200b\u7684\u200b\u4e00\u4e9b\u200b\u53d8\u79cd\u200b\uff0cRobin Hood Hashing\u3001Cuckoo Hashing\uff0c\u200b\u4ed6\u4eec\u200b\u90fd\u200b\u662f\u200b\u57fa\u4e8e\u200bLinear Probe Hashing \u200b\u4fee\u6539\u200b\u7684\u200b\u3002</p>"},{"location":"db/cmu15445/L6/#linear-probe-hashing","title":"Linear Probe Hashing","text":"<p>\u200b\u7ebf\u6027\u63a2\u67e5\u200b\u6cd5\u200b\uff0c\u200b\u662f\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u54c8\u5e0c\u200b\u65b9\u6848\u200b\uff0c\u200b\u901a\u5e38\u200b\u4e5f\u200b\u662f\u200b\u6700\u5feb\u200b\u7684\u200b\u3002\u200b\u5b83\u200b\u662f\u200b\u4e2a\u200b slot \u200b\u8868\u200b\u3002slot \u200b\u4e2d\u9700\u200b\u5b58\u50a8\u200b key \u200b\u503c\u200b\uff0c\u200b\u8fd9\u6837\u200b\u624d\u80fd\u200b\u652f\u6301\u200b\u67e5\u627e\u200b\u548c\u200b\u5220\u9664\u200b\u3002</p> <p>How \u200b\u89e3\u51b3\u200b hash \u200b\u51b2\u7a81\u200b \u2014\u2014\uff08hash\u200b\u8868\u200b\u903b\u8f91\u200b\u4e0a\u200b\u662f\u200b\u4e2a\u200b\u73af\u5f62\u200b\u7684\u200bbuffer\uff09</p> <p>\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\uff1a \u200b\u82e5\u200b hash(key) \u200b\u6620\u5c04\u200b\u7684\u200b slot \u200b\u4f4d\u7f6e\u200b\u65e0\u200b\u6570\u636e\u200b\uff0c\u200b\u5c31\u200b\u76f4\u63a5\u63d2\u5165\u200b key|value \u200b\u952e\u503c\u200b\u5bf9\u200b\uff1b\u200b\u5426\u5219\u200b\u5c31\u200b\u7ebf\u6027\u200b\u5411\u200b\u540e\u200b\u63a2\u67e5\u200b\uff0c\u200b\u76f4\u5230\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u80fd\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\u7684\u200b\u7a7a\u200b slot \u200b\u4e3a\u6b62\u200b\u3002\uff08value \u200b\u662f\u200b\u6307\u5411\u200b\u67d0\u4e2a\u200b page \u200b\u6216\u200b tuple \u200b\u7684\u200b\u6307\u9488\u200b\uff09</p> <p>\u200b\u67e5\u627e\u200b\u6570\u636e\u200b\uff1a \u200b\u627e\u5230\u200b hash(key) \u200b\u6620\u5c04\u200b\u7684\u200b slot\uff0c\u200b\u82e5\u200b\u4e0d\u662f\u200b\u8981\u200b\u627e\u200b\u7684\u200b key\uff0c\u200b\u5c31\u200b\u7ebf\u6027\u200b\u5411\u200b\u540e\u200b\u63a2\u67e5\u200b\uff0c\u200b\u82e5\u200b\u76f4\u5230\u200b\u4e00\u4e2a\u200b\u7a7a\u200b slot \u200b\u8fd8\u200b\u672a\u627e\u5230\u200b\uff0c\u200b\u8bc1\u660e\u200b\u6ca1\u6709\u200b\u6b64\u200b key\u3002</p> <p>\u200b\u5220\u9664\u200b\u6570\u636e\u200b\uff1a \u200b\u5bf9\u4e8e\u200b\u67d0\u4e2a\u200b key \u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u5220\u9664\u200b\uff0c\u200b\u5426\u5219\u200b\u4f1a\u200b\u5f71\u54cd\u200b\u6570\u636e\u200b\u7684\u200b\u67e5\u627e\u200b\ud83d\udc47\ud83c\udf30\u3002</p> <p></p> <ul> <li>\u200b\u65b9\u4e00\u200b\uff1a \u200b\u8bbe\u7f6e\u200b\u6807\u8bb0\u200b\uff08Tombstone \u200b\u5893\u7891\u200b\uff09 \u3002\u200b\u5220\u9664\u200b slot \u200b\u4e0a\u200b\u7684\u200b\u503c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b Tombstone\uff0c\u200b\u903b\u8f91\u200b\u4e0a\u200b\u8fd9\u91cc\u200b\u6ca1\u6709\u200b entry \u200b\u4f46\u200b\u7269\u7406\u200b\u4e0a\u200b\u8fd9\u4e2a\u200b slot \u200b\u88ab\u200b\u5360\u7528\u200b\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u5f71\u54cd\u200b\u6570\u636e\u200b\u7684\u200b\u67e5\u627e\u200b\uff0c\u200b\u4f46\u4f1a\u200b\u6d6a\u8d39\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u7a0d\u540e\u200b\u9700\u200b\u8fdb\u884c\u200b\u6e05\u7406\u200b\u3002</li> <li>\u200b\u65b9\u4e8c\u200b\uff1a \u200b\u79fb\u52a8\u200b\u6570\u636e\u200b \u3002\u200b\u5373\u200b\u5220\u9664\u200b slot \u200b\u4e0a\u200b\u6570\u636e\u200b\u7684\u200b\u540c\u65f6\u200b\uff0c\u200b\u5c06\u200b\u540e\u9762\u200b\u7684\u200b\u6570\u636e\u200b\u90fd\u200b\u5f80\u524d\u200b\u632a\u52a8\u200b\u3002</li> </ul> <p>\u200b\u79fb\u52a8\u200b\u6570\u636e\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5728\u200b\u5b9e\u9645\u200b\u5904\u7406\u200b\u4e2d\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u5f88\u591a\u200b\u95ee\u9898\u200b\ud83d\udc47\ud83c\udf30\uff0c\u200b\u4e14\u200b\u5f88\u200b\u590d\u6742\u200b\uff0c\u200b\u4e00\u822c\u200b\u4f1a\u200b\u9009\u62e9\u200b\u6807\u8bb0\u200b Tombstone\u3002</p> <p></p>"},{"location":"db/cmu15445/L6/#non-unique-keys","title":"non-unique keys","text":"<p>\u200b\u4e4b\u524d\u200b\u6211\u4eec\u200b\u90fd\u200b\u5047\u8bbe\u200b key \u200b\u662f\u200b\u552f\u4e00\u200b\u7684\u200b\uff0c\u200b\u5bf9\u200b primary index \u200b\u6765\u8bf4\u200b\uff0c\u200b\u8fd9\u200b\u6ca1\u200b\u95ee\u9898\u200b\u3002\u200b\u4f46\u200b\u5b9e\u9645\u200b\u6570\u636e\u200b\u96c6\u4e2d\u200b key \u200b\u53ef\u80fd\u200b\u4e0d\u200b\u552f\u4e00\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u60f3\u200b\u5728\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u8bb0\u5f55\u200b\u76f8\u540c\u200b\u7684\u200b key \u200b\u7684\u200b\u4e0d\u540c\u200b value\uff0c\u200b\u6709\u200b 2 \u200b\u79cd\u200b\u65b9\u6cd5\u200b\uff1a</p> <ol> <li>\u200b\u5c06\u200b key \u200b\u7684\u200b\u503c\u200b\u5b58\u50a8\u200b\u5728\u200b\u5355\u72ec\u200b\u7684\u200b\u5b58\u50a8\u200b\u533a\u57df\u200b\uff1a\u200b\u6bcf\u4e2a\u200b key \u200b\u7684\u200b slot \u200b\u6307\u5411\u200b\u4e00\u4e2a\u200b\u5355\u72ec\u200b\u7684\u200b\u94fe\u8868\u200b\uff0c\u200b\u94fe\u8868\u200b\u4e0a\u200b\u4fdd\u5b58\u200b\u7684\u200b value \u200b\u5bf9\u5e94\u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u540c\u4e00\u200b key</li> <li>\u200b\u5728\u200b hash \u200b\u8868\u4e2d\u200b\u5b58\u50a8\u200b\u542b\u200b\u5197\u4f59\u200b key \u200b\u7684\u200b\u5143\u7d20\u200b</li> </ol> <p></p> <p>\u200b\u8fd9\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u53ef\u7528\u200b\u5728\u200b\u4efb\u4f55\u200b\u4e00\u79cd\u200b Hashing Scheme \u200b\u4e2d\u200b\u3002\u200b\u5b9e\u6218\u200b\u4e2d\u200b\u4e00\u822c\u200b\u90fd\u200b\u4f7f\u7528\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5373\u4f7f\u200b\u5b83\u200b\u66f4\u200b\u6d6a\u8d39\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\uff08\u200b\u56e0\u4e3a\u200b key \u200b\u88ab\u200b\u591a\u6b21\u200b\u91cd\u590d\u8bb0\u5f55\u200b\uff09\u3002</p>"},{"location":"db/cmu15445/L6/#42-robin-hood-hashing","title":"4.2 Robin Hood Hashing","text":"<p>Info</p> <p>Robin Hood\uff08\u200b\u7f57\u5bbe\u6c49\u200b\uff09\u200b\u662f\u200b\u4e00\u4e2a\u200b\u82f1\u56fd\u200b\u7684\u200b\u6c11\u95f4\u4f20\u8bf4\u200b\uff0c\u200b\u8bf4\u200b\u7684\u200b\u662f\u200b\u4e00\u4e2a\u200b\u52ab\u5bcc\u6d4e\u8d2b\u200b\u7684\u200b\u4fa0\u76d7\u200b\u7684\u200b\u6545\u4e8b\u200b\uff0c\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u8fd9\u4e2a\u200b\u7b97\u6cd5\u200b\u7684\u200b\u601d\u60f3\u200b\u6765\u6e90\u200b\u3002</p> <p>\u200b\u5728\u200b\u7b80\u5355\u200b\u7684\u200b\u7ebf\u6027\u63a2\u67e5\u200b\u65f6\u200b\uff0c\u200b\u9047\u5230\u200b\u51b2\u7a81\u200b\u4f1a\u200b\u7ebf\u6027\u63a2\u67e5\u200b\u4e0b\u53bb\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u6837\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9020\u6210\u200b\u4e00\u79cd\u200b\u4e0d\u200b\u5e73\u8861\u200b\uff0c\u200b\u53ef\u80fd\u200b\u6709\u200b\u67d0\u4e2a\u200b key \u200b\u7684\u200b value \u200b\u7684\u200b\u4f4d\u7f6e\u200b\u8ddd\u79bb\u200b hash(key) \u200b\u7684\u200b\u4f4d\u7f6e\u200b\u975e\u5e38\u200b\u8fdc\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u8981\u200b\u4ed8\u51fa\u200b\u5f88\u5927\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u53bb\u200b\u67e5\u627e\u200b\u3002 \u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u8bb0\u5f55\u200b\u4e0b\u200b\u6bcf\u4e2a\u200b (key,value) \u200b\u503c\u200b\u8ddd\u79bb\u200b hash(key) \u200b\u7684\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u76f8\u5bf9\u200b\u4f4d\u7f6e\u200b\u8d8a\u5927\u200b\uff0c\u200b\u5c31\u200b\u8d8a\u200b \u201cpoor\u201d\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4ece\u200b \u201crich\u201d \u200b\u7684\u200b key \u200b\u624b\u4e2d\u200b\u62a2\u593a\u200b slot \u200b\u4ee5\u200b\u8fbe\u5230\u200b\u4e00\u79cd\u200b\u5e73\u8861\u200b\u3002</p> <p>\u200b\u8fd9\u662f\u200b\u7ebf\u6027\u63a2\u67e5\u200b\u6cd5\u200b\u7684\u200b\u6269\u5c55\u200b\uff0c\u200b\u4f1a\u200b\u5bf9\u200b\u6574\u4e2a\u200b hash table \u200b\u8fdb\u884c\u200b\u5e73\u8861\u200b\uff0c\u200b\u8bd5\u56fe\u200b\u8ba9\u200b\u6bcf\u4e2a\u200b key \u200b\u5c3d\u53ef\u80fd\u200b\u9760\u8fd1\u200b\u5b83\u200b\u539f\u672c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u51cf\u5c11\u200b\u5b83\u200b\u5230\u200b\u5728\u200b hash \u200b\u8868\u4e2d\u200b\u7684\u200b\u6700\u4f73\u200b\u4f4d\u7f6e\u200b hash(key) \u200b\u7684\u200b\u8ddd\u79bb\u200b\uff09\u3002\u200b\u5141\u8bb8\u200b\u7ebf\u7a0b\u200b\u4ece\u200b \u201crich\u201d key \u200b\u4e2d\u200b\u7a83\u53d6\u200b slot\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5b83\u4eec\u200b\u7ed9\u200b \u201cpoor\u201d key\u3002</p> <ul> <li>\u200b\u6bcf\u4e2a\u200b key \u200b\u8ddf\u8e2a\u200b\u5b83\u4eec\u200b\u5728\u200b\u8868\u4e2d\u200b\u6700\u4f18\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</li> <li>\u200b\u63d2\u5165\u200b\u65f6\u200b\uff0c\u200b\u82e5\u200b\u8981\u200b\u63d2\u5165\u200b\u7684\u200b\u952e\u200b\u6bd4\u200b\u6b64\u5904\u200b\u539f\u672c\u200b\u7684\u200b\u952e\u200b\u66f4\u200b poor\uff08\u200b\u5230\u200b\u6700\u4f73\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u8ddd\u79bb\u200b\u66f4\u200b\u8fdc\u200b\uff09\uff0c\u200b\u5219\u200b\u7a83\u53d6\u200b\u8be5\u200b slot\u3002\u200b\u539f\u672c\u200b\u7684\u200b\u952e\u200b\u5fc5\u987b\u200b\u91cd\u65b0\u200b\u63d2\u5165\u200b\u5230\u8868\u4e2d\u200b\u3002\u200b\u56e0\u6b64\u200b\u4f1a\u200b\u4f7f\u200b\u5199\u5165\u200b\u6216\u200b\u63d2\u5165\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u66f4\u9ad8\u200b\uff08\u200b\u539f\u672c\u200b\u4e00\u6b21\u200b\u7684\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\u53d8\u6210\u200b\u4e86\u200b\u591a\u6b21\u200b\uff09</li> </ul> <p></p> <p>Note</p> <p>\u200b\u7f57\u5bbe\u6c49\u200b\u54c8\u5e0c\u200b\u53ef\u4ee5\u200b\u663e\u8457\u200b\u964d\u4f4e\u200b\u63a2\u67e5\u200b\u957f\u5ea6\u200b\u7684\u200b\u65b9\u5dee\u200b\u3002\ud83c\udf30 \u200b\u8be5\u200b\u7b97\u6cd5\u200b\u503e\u5411\u200b\u4e8e\u200b\u8ba9\u200b\u4e24\u4e2a\u200b key \u200b\u90fd\u200b\u79bb\u200b\u6700\u4f73\u200b\u4f4d\u7f6e\u200b\u4e00\u4e2a\u200b\u5355\u4f4d\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b key \u200b\u5728\u200b\u6700\u4f73\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u79bb\u200b\u6700\u4f73\u200b\u4f4d\u7f6e\u200b\u4e24\u4e2a\u200b\u5355\u4f4d\u200b\u3002</p> <p>\u200b\u5b9e\u9645\u200b\u8868\u73b0\u200b\u4e2d\u200b\uff0c\u200b\u5927\u591a\u6570\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u7ebf\u6027\u63a2\u67e5\u200b\u6cd5\u200b\u8fd8\u662f\u200b\u5f3a\u200b\u65e0\u654c\u200b\uff0c\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b Robin \u200b\u7b97\u6cd5\u200b\u5c06\u4f1a\u200b\u6709\u200b\u5f88\u5927\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u3002</p>"},{"location":"db/cmu15445/L6/#cuckoo-hashing","title":"Cuckoo Hashing","text":"<p>\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u4e0d\u662f\u200b\u4f7f\u7528\u200b\u5355\u4e2a\u200b hash \u200b\u8868\u200b\uff0c\u200b\u800c\u662f\u200b\u7ef4\u62a4\u200b\u591a\u4e2a\u200b\u5177\u6709\u200b\u4e0d\u540c\u200b hash \u200b\u51fd\u6570\u200b\u7684\u200b\u8868\u200b\u3002hash \u200b\u51fd\u6570\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\u7b97\u6cd5\u200b(\u200b\u4f8b\u5982\u200b\uff0cXXHash, CityHash);\u200b\u5b83\u4eec\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b seed \u200b\u503c\u4e3a\u200b\u540c\u4e00\u4e2a\u200b\u952e\u200b\u751f\u6210\u200b\u4e0d\u540c\u200b\u7684\u200b hash \u200b\u503c\u200b\u3002</p> <ul> <li>\u200b\u63d2\u5165\u200b\u65f6\u200b\uff0c\u200b\u68c0\u67e5\u200b\u6bcf\u4e2a\u200b\u8868\u200b\uff0c\u200b\u5e76\u200b\u6311\u9009\u200b\u6709\u200b\u7a7a\u95f2\u200b slot \u200b\u7684\u200b\u8868\u200b\uff08\u200b\u82e5\u6709\u200b\u591a\u4e2a\u200b\uff0c\u200b\u53ef\u200b\u968f\u673a\u200b\u9009\u200b\u4e00\u4e2a\u200b\uff09\u3002</li> <li>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u8868\u6709\u200b\u7a7a\u95f2\u200b slot\uff0c\u200b\u5219\u200b\u4ece\u4e2d\u200b\u968f\u673a\u200b\u9009\u62e9\u200b\u4e00\u4e2a\u200b slot \u200b\u7a83\u53d6\u200b\uff0c\u200b\u5bf9\u200b\u8be5\u200b slot \u200b\u539f\u672c\u200b\u7684\u200b\u5143\u7d20\u200b\u91cd\u65b0\u200b hash\uff0c\u200b\u4e3a\u200b\u4e4b\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002</li> <li>\u200b\u6211\u4eec\u200b\u53ef\u80fd\u200b\u4f1a\u5361\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\u91cc\u200b\uff08\u200b\u5982\u200bA\u200b\u9009\u62e9\u200b\u5728\u200bhash\u200b\u8868\u200b2\u200b\u4e2d\u200b\u7a83\u53d6\u200bB\uff0cB\u200b\u9700\u5728\u200bhash\u200b\u8868\u200b1\u200b\u4e2d\u200b\u7a83\u53d6\u200bC\uff0cC\u200b\u5728\u200bhash\u200b\u8868\u200b2\u200b\u4e2d\u9700\u200b\u7a83\u53d6\u200bA\uff09\uff0c\u200b\u6211\u4eec\u200b\u9700\u200b\u6807\u8bb0\u200b\u662f\u5426\u200b\u5df2\u7ecf\u200b\u8bbf\u95ee\u200b\u8fc7\u200b\u67d0\u4e2a\u200b slot \u200b\u4ee5\u200b\u53d1\u73b0\u200b\u5faa\u73af\u200b\u3002\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b\u65b0\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b\u79cd\u5b50\u200b\uff08\u200b\u4e0d\u592a\u200b\u5e38\u7528\u200b\uff09\u200b\u91cd\u5efa\u200b\u6240\u6709\u200b\u7684\u200b hash \u200b\u8868\u200b\uff0c\u200b\u6216\u8005\u200b\u7528\u200b\u66f4\u200b\u5927\u200b\u7684\u200b\u8868\u200b\uff08\u200b\u66f4\u200b\u5e38\u7528\u200b\uff09\u200b\u91cd\u5efa\u200b hash \u200b\u8868\u200b\u3002</li> </ul> <p>\u200b\u5b9e\u6218\u200b\u4e2d\u200b\uff0c\u200b\u5927\u591a\u6570\u200b\u4eba\u200b\u4f7f\u7528\u200b Cuckoo Hashing \u200b\u65f6\u200b\u90fd\u200b\u53ea\u200b\u4f7f\u7528\u200b\u4e24\u4e2a\u200b hash table\u3002\u200b\u8d85\u8fc7\u200b\u4e09\u4e2a\u200b\u6ca1\u200b\u5fc5\u8981\u200b\u3002</p> <p>\u200b\u67e5\u627e\u200b\u59cb\u7ec8\u200b\u662f\u200bO(1)\uff0c\u200b\u4f46\u200b\u63d2\u5165\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u5f88\u5927\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L6/#dynamic-hashing-schemes","title":"Dynamic Hashing Schemes","text":"<p>\u200b\u9759\u6001\u200b\u54c8\u5e0c\u200b\u65b9\u6848\u200b \u200b\u8981\u6c42\u200b DBMS \u200b\u77e5\u9053\u200b\u5b83\u200b\u60f3\u8981\u200b\u5b58\u50a8\u200b\u7684\u200b\u5143\u7d20\u200b\u7684\u200b\u6570\u91cf\u200b\u3002\u200b\u5426\u5219\u200b\uff0c\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u589e\u5927\u200b/\u200b\u7f29\u5c0f\u200b\u8868\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u91cd\u5efa\u200b hash \u200b\u8868\u200b\u3002</p> <p>\u200b\u52a8\u6001\u200b\u54c8\u5e0c\u200b\u65b9\u6848\u200b \u200b\u80fd\u591f\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u8c03\u6574\u200b hash \u200b\u8868\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u9700\u8981\u200b\u91cd\u5efa\u200b\u6574\u4e2a\u200b hash \u200b\u8868\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u65b9\u6848\u200b\u4ee5\u200b\u4e0d\u540c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6267\u884c\u200b\u8fd9\u79cd\u200b\u8c03\u6574\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6700\u5927\u5316\u200b\u8bfb\u200b\u6216\u200b\u5199\u200b\u3002</p>"},{"location":"db/cmu15445/L6/#chained-hashing","title":"Chained Hashing","text":"<p>\u200b\u8fd9\u200b\u662f\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\u52a8\u6001\u200b\u54c8\u5e0c\u200b\u65b9\u6848\u200b\u3002\u200b\u662f\u200b java \u200b\u4e2d\u200b hashmap \u200b\u91c7\u7528\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</p> <p>DBMS  \u200b\u4e3a\u200b hash \u200b\u8868\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b slot \u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b bucket \u200b\u7684\u200b linked list \u3002 \u200b\u6bcf\u4e2a\u200b slot \u200b\u4e0d\u662f\u200b\u5b58\u50a8\u200b\u5143\u7d20\u200b\uff0c\u200b\u800c\u662f\u200b\u5b58\u50a8\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b bucket \u200b\u7ec4\u6210\u200b\u94fe\u8868\u200b\u7684\u200b\u6307\u9488\u200b\uff08\u200b\u5f15\u7528\u200b\uff09 \u3002</p> <p></p> <ul> <li>\u200b\u901a\u8fc7\u200b\u5c06\u200b\u5177\u6709\u200b\u76f8\u540c\u200b hash key \u200b\u7684\u200b\u5143\u7d20\u200b\u653e\u5165\u200b\u76f8\u540c\u200b\u7684\u200b bucket \u200b\u6765\u200b\u89e3\u51b3\u200b\u51b2\u7a81\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b bucket \u200b\u5df2\u6ee1\u200b\uff0c\u200b\u6dfb\u52a0\u200b\u53e6\u200b\u4e00\u4e2a\u200b bucket \u200b\u5230\u200b\u8be5\u200b list\u3002hash \u200b\u8868\u200b\u53ef\u4ee5\u200b\u65e0\u9650\u200b\u589e\u957f\u200b\uff0c\u200b\u56e0\u4e3a\u200b DBMS \u200b\u4e0d\u65ad\u200b\u6dfb\u52a0\u200b\u65b0\u200b\u7684\u200b bucket\u3002</li> <li>\u200b\u5224\u65ad\u200b\u67d0\u4e2a\u200b key \u200b\u662f\u5426\u200b\u5b58\u5728\u200b\uff0c\u200b\u5c06\u200b\u5b83\u200b hash \u200b\u5230\u200b\u4e00\u4e2a\u200b bucket \u200b\u7136\u540e\u200b\u626b\u63cf\u200b\u8be5\u200b bucket\u3002</li> </ul> <p>Note</p> <p>\u200b\u53ef\u4ee5\u200b\u5c06\u200b bucket \u200b\u5f53\u505a\u200b page\uff0c\u200b\u5728\u200b heap\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u5f53\u200b\u67d0\u4e2a\u200b page \u200b\u6ee1\u200b\u4e86\u200b\u4f1a\u200b\u5206\u914d\u200b\u65b0\u200b page\uff0c\u200b\u5e76\u200b\u5c06\u200b\u5b83\u4eec\u200b\u94fe\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\uff0c\u200b\u901a\u8fc7\u200b page id \u200b\u6307\u660e\u200b\u8be5\u200b\u5982\u4f55\u200b\u904d\u5386\u200b\u3002</p> <p>\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9000\u5316\u200b\u4e3a\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\u3002\u200b\u5220\u9664\u200b\u548c\u200b\u63d2\u5165\u200b\u64cd\u4f5c\u200b\u5f88\u200b\u7b80\u5355\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4fee\u6539\u200b\u7684\u200b\u662f\u200b bucket \u200b\u800c\u200b\u4e0d\u662f\u200b slot array\u3002\u200b\u53ef\u4ee5\u200b\u505a\u5230\u200b\u8fd1\u4e4e\u200b\u65e0\u9650\u200b\u7684\u200b\u6269\u5bb9\u200b\uff0c\u200b\u4e5f\u200b\u5f88\u200b\u5bb9\u6613\u200b\u5b9e\u73b0\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b slot/bucket \u200b\u52a0\u4e0a\u200b latch \u200b\u5c31\u200b\u597d\u200b\u3002</p>"},{"location":"db/cmu15445/L6/#52-extendible-hashing","title":"5.2 Extendible Hashing","text":"<p>\u200b\u6539\u8fdb\u200b\u7684\u200b\u94fe\u5217\u200b\u54c8\u5e0c\u200b\uff0c\u200b\u5bf9\u200b overflow \u200b\u7684\u200b bucket \u200b\u8fdb\u884c\u200b\u62c6\u5206\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u8ba9\u200b\u94fe\u200b\u6c38\u8fdc\u200b\u589e\u957f\u200b \u3002\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u5141\u8bb8\u200b hash \u200b\u8868\u4e2d\u200b\u7684\u200b\u591a\u4e2a\u200b slot \u200b\u4f4d\u7f6e\u200b\u6307\u5411\u200b\u540c\u4e00\u4e2a\u200b bucket chain\u3002</p> <p>\u200b\u91cd\u65b0\u200b\u5e73\u8861\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u6838\u5fc3\u601d\u60f3\u200b\u662f\u200b\u5728\u200b\u62c6\u5206\u200b\u65f6\u200b\u79fb\u52a8\u200b bucket \u200b\u9879\u200b\uff0c\u200b\u5e76\u200b\u589e\u52a0\u200b bit \u200b\u6570\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5728\u200b hash \u200b\u8868\u4e2d\u200b\u67e5\u627e\u200b\u6761\u76ee\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b DBMS \u200b\u53ea\u200b\u9700\u8981\u200b\u5728\u200b\u5206\u5272\u200b\u94fe\u200b\u7684\u200b bucket \u200b\u4e2d\u200b\u79fb\u52a8\u200b\u6570\u636e\u200b\uff1b\u200b\u6240\u6709\u200b\u5176\u4ed6\u200b bucket \u200b\u90fd\u200b\u4fdd\u6301\u200b\u539f\u6837\u200b\u3002</p> <p>\u200b\u62c6\u5206\u200b VS. \u200b\u91cd\u5efa\u200b\uff1a\u200b\u62c6\u5206\u200b\u53ea\u200b\u9488\u5bf9\u200b\u90a3\u4e9b\u200b\u6ee1\u200b\u4e86\u200b\u7684\u200b bucket\uff0c\u200b\u91cd\u5efa\u200b\u9488\u5bf9\u200b\u6574\u4e2a\u200b hash \u200b\u8868\u200b\u3002</p> <ul> <li>Extendible Hashing \u200b\u5c06\u200b key \u200b\u8ba1\u7b97\u200b\u54c8\u5e0c\u200b\u503c\u540e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u4e8c\u8fdb\u5236\u200b\u8868\u793a\u200b\uff0c\u200b\u7136\u540e\u200b\u5b83\u4f1a\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b <code>global counter</code>\uff0c\u200b\u8bb0\u5f55\u200b \u200b\u5b9a\u4f4d\u200b\u5230\u200b bucket \u200b\u6307\u9488\u200b\u6570\u7ec4\u200b (slot array)\uff0c\u200b\u9700\u8981\u200b\u53d6\u200b key \u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u7684\u200b\u591a\u5c11\u200b\u4f4d\u200b \uff1b\u200b\u6bcf\u4e2a\u200b bucket \u200b\u4e5f\u200b\u6709\u200b\u4e00\u4e2a\u200b counter\uff0c\u200b\u8bb0\u200b\u4e3a\u200b <code>local counter</code>\uff0c\u200b\u8868\u793a\u200b\u7684\u200b\u662f\u200b \u200b\u5b9a\u4f4d\u200b\u5230\u200b\u8be5\u200b bucket \u200b\u9700\u8981\u200b\u4e8c\u8fdb\u5236\u200b\u7684\u200b\u591a\u5c11\u200b\u4f4d\u200b \u3002</li> <li>\u200b\u5f53\u200b\u5b58\u50a8\u200b bucket \u200b\u6ee1\u65f6\u200b\uff0cDBMS \u200b\u5c06\u200b bucket \u200b\u62c6\u5206\u200b\u5e76\u200b\u91cd\u65b0\u200b\u6d17\u724c\u200b\u5b83\u200b\u7684\u200b\u5143\u7d20\u200b\u3002\u200b\u5982\u679c\u200b\u62c6\u5206\u200b bucket \u200b\u7684\u200b local counter &lt; global counter\uff0c\u200b\u5219\u200b\u65b0\u200b bucket \u200b\u5c06\u200b\u88ab\u200b\u6dfb\u52a0\u200b\u5230\u200b\u73b0\u6709\u200b\u7684\u200b slot \u200b\u6570\u7ec4\u200b\u4e2d\u200b\u3002\u200b\u5426\u5219\u200b\uff0cDBMS \u200b\u5c06\u200b slot \u200b\u6570\u7ec4\u200b\u7684\u200b\u5927\u5c0f\u200b\u7ffb\u500d\u200b\u4ee5\u200b\u5bb9\u7eb3\u200b\u65b0\u200b\u7684\u200b bucket\uff0c\u200b\u5e76\u200b\u589e\u52a0\u200b global counter\u3002</li> <li>\u200b\u5220\u9664\u200b\u64cd\u4f5c\u200b\u5c31\u662f\u200b\u5c06\u200b\u63d2\u5165\u200b\u64cd\u4f5c\u200b\u9006\u5411\u200b\u8fdb\u884c\u200b\u3002</li> </ul> <p></p> <p>Note</p> <p>\u200b\u6b64\u5904\u200b insert \u200b\u8981\u200b\u505a\u200b\u7684\u200b\uff1a\u200b\u5bf9\u200b\u4e24\u4e2a\u200b page \u200b\u8fdb\u884c\u200b\u5199\u5165\u200b\uff08\u200b\u62c6\u5206\u200b\u539f\u6709\u200b page\uff0c\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b page\uff09\uff0c\u200b\u66f4\u65b0\u200b\u76f8\u5e94\u200b\u7684\u200b\uff08\u200b\u8fd9\u200b\u4fe9\u200bpage\u200b\u7684\u200b\uff09slot array \u200b\u7684\u200b\u6620\u5c04\u200b\u3002\u200b\u8fd9\u79cd\u200b\u4ee3\u4ef7\u200b\u4e0d\u200b\u5927\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6539\u53d8\u200b\u7684\u200b\u53ea\u662f\u200b\u6620\u5c04\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6240\u200b\u6307\u5411\u200b\u7684\u200b\u6570\u636e\u200b\u7684\u200b\u5b9e\u9645\u200b\u5b58\u50a8\u200b\u4f4d\u7f6e\u200b\u3002</p>"},{"location":"db/cmu15445/L6/#53-linear-hashing","title":"5.3 Linear Hashing","text":"<p>Info</p> <p>\u200b\u5728\u200b Extendible Hashing \u200b\u4e2d\u200b\uff0c\u200b\u5c3d\u7ba1\u200b\u8c03\u6574\u200b\u6307\u9488\u200b\u6570\u7ec4\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u5e76\u200b\u4e0d\u200b\u9ad8\u200b\uff0c\u200b\u4f46\u200b\u8c03\u6574\u200b\u65f6\u200b\u9700\u8981\u200b\u5bf9\u200b\u6574\u4e2a\u200b slot \u200b\u6570\u7ec4\u200b\u4e0a\u200b latch\uff0c\u200b\u8fd9\u4f1a\u200b\u6210\u4e3a\u200b\u4e00\u79cd\u200b\u6027\u80fd\u200b\u7684\u200b\u74f6\u9888\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u53ea\u200b\u5bf9\u200b\u6ea2\u51fa\u200b\u7684\u200b bucket \u200b\u8fdb\u884c\u200b\u6269\u5bb9\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u7528\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u5168\u5c40\u200b\u7684\u200blatch\u3002    \u2014\u2014linear Hashing</p> <p>\u200b\u7ebf\u6027\u200b\u54c8\u5e0c\u200b\u662f\u200b\u4e00\u79cd\u200b\u52a8\u6001\u200b\u6269\u5c55\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u65b9\u6848\u200b \u200b\u4e0d\u662f\u200b\u5728\u200b bucket overflow \u200b\u65f6\u200b\u7acb\u5373\u200b\u62c6\u5206\u200b bucket\uff0c\u200b\u800c\u662f\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b split pointer \u200b\u6765\u200b\u8ddf\u8e2a\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8981\u200b\u62c6\u5206\u200b\u7684\u200b bucket \u3002\u200b\u4e0d\u7ba1\u200b\u8fd9\u4e2a\u200b\u6307\u9488\u200b\u662f\u5426\u200b\u6307\u5411\u200b\u6ea2\u51fa\u200b\u7684\u200b bucket\uff0cDBMS \u200b\u603b\u662f\u200b\u5206\u88c2\u200b\u3002overflow \u200b\u6807\u51c6\u200b\u7531\u200b\u5b9e\u73b0\u200b\u51b3\u5b9a\u200b\u3002</p> <ul> <li>\u200b\u5047\u5b9a\u200b\u6700\u521d\u200b split pointer \u200b\u6307\u5411\u200b\u7b2c\u4e00\u4e2a\u200b bucket\u3002</li> <li>\u200b\u5f53\u200b\u4efb\u4f55\u200b bucket overflow \u200b\u65f6\u200b\uff0c\u200b\u5728\u200b pointer \u200b\u4f4d\u7f6e\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b slot \u200b\u4f4d\u200b\u6761\u76ee\u200b\u62c6\u5206\u200b bucket\uff0c\u200b\u5e76\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b\uff08\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b\uff0c\u200b\u53ea\u662f\u200b\u4f7f\u7528\u200b\u4e86\u200b\u4e0d\u540c\u200b\u7684\u200b seed\uff09\uff0c\u200b\u5bf9\u200b\u8be5\u200b bucket \u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b key \u200b\u91c7\u7528\u200b\u65b0\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b\u8fdb\u884c\u200b\u62c6\u5206\u200b\u3002\u200b\u6ea2\u51fa\u200b\u6876\u200b\u7684\u200b\u6ea2\u51fa\u200b kv \u200b\u4f1a\u200b\u653e\u5728\u200b\u6ea2\u51fa\u200b\u9875\u200b\uff0c\u200b\u76f4\u5230\u200b\u8be5\u200b bucket \u200b\u5206\u88c2\u200b\u3002</li> <li>\u200b\u540e\u7eed\u200b\u67e5\u627e\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b hash \u200b\u503c\u200b\u6620\u5c04\u200b\u5230\u200b\u4e4b\u524d\u200b\u88ab\u200b pointer \u200b\u6307\u5411\u200b\u7684\u200b slot\uff08\u200b\u6876\u200b\u53f7\u200b\u5c0f\u4e8e\u200b split pointer\uff09\uff0c\u200b\u518d\u200b\u5e94\u7528\u200b\u65b0\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b\u5f97\u5230\u200b value\u3002</li> <li>\u200b\u5f53\u200b pointer \u200b\u5230\u8fbe\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b slot \u200b\u65f6\u200b\uff0c\u200b\u5220\u9664\u200b\u539f\u6765\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b\uff0c\u200b\u5e76\u7528\u200b\u65b0\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b\u66ff\u6362\u200b\u5b83\u200b\u3002</li> <li>\u200b\u82e5\u200b\u8fdb\u884c\u200b\u5220\u9664\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5220\u9664\u200b\u5230\u200b\u9700\u8981\u200b\u7f29\u51cf\u200b\u5408\u5e76\u200b bucket\uff08\u200b\u6709\u200bbucket\u200b\u4e3a\u7a7a\u200b\uff09\u200b\u65f6\u200b\uff0csplit pointer \u200b\u4f1a\u200b\u5f80\u56de\u200b\u79fb\u52a8\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u200b\u5728\u200b\u5b9e\u6218\u200b\u4e2d\u200b\u5f88\u200b\u68d8\u624b\u200b\u3002</li> </ul> <p>\u200b\u7ebf\u6027\u200bhash \u200b\u57fa\u4e8e\u200b split pointer \u200b\u6700\u7ec8\u200b\u4f1a\u200b\u5c06\u200b overflow \u200b\u7684\u200b bucket \u200b\u90fd\u200b\u8fdb\u884c\u200b\u62c6\u5206\u200b\u3002</p>"},{"location":"db/cmu15445/L6/#\u7ebf\u6027\u54c8\u5e0c\u7684\u6570\u5b66\u539f\u7406","title":"\u7ebf\u6027\u200b\u54c8\u5e0c\u200b\u7684\u200b\u6570\u5b66\u539f\u7406","text":"<p>(\u200b\u4efb\u610f\u200bkey) % n = M</p> <p>(\u200b\u4efb\u610f\u200bkey) %2n = M \u200b\u6216\u200b (\u200b\u4efb\u610f\u200bkey) %2n = M + n</p>"},{"location":"db/cmu15445/L6/#\u7ebf\u6027\u54c8\u5e0c\u7684\u5177\u4f53\u5b9e\u73b0","title":"\u7ebf\u6027\u200b\u54c8\u5e0c\u200b\u7684\u200b\u5177\u4f53\u200b\u5b9e\u73b0","text":"<p>\u200b\u6211\u4eec\u200b\u5047\u8bbe\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u54c8\u5e0c\u200b\u8868\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p> <p>\u200b\u4e3a\u4e86\u200b\u65b9\u4fbf\u200b\u53d9\u8ff0\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f5c\u51fa\u200b\u4ee5\u4e0b\u200b\u5047\u5b9a\u200b\uff1a</p> <ol> <li>\u200b\u4e3a\u4e86\u200b\u4f7f\u200b\u54c8\u5e0c\u200b\u8868\u80fd\u200b\u8fdb\u884c\u200b\u52a8\u6001\u200b\u7684\u200b\u5206\u88c2\u200b\uff0c\u200b\u6211\u4eec\u200b\u4ece\u6876\u200b0\u200b\u5f00\u59cb\u200b\u8bbe\u5b9a\u200b\u4e00\u4e2a\u200b\u5206\u88c2\u200b\u70b9\u200b\u3002</li> <li>\u200b\u4e00\u4e2a\u6876\u200b\u7684\u200b\u5bb9\u91cf\u200b\u4e3a\u200b listSize = 5\uff0c\u200b\u5f53\u6876\u200b\u7684\u200b\u5bb9\u91cf\u200b\u8d85\u51fa\u200b\u540e\u200b\u5c31\u200b\u4ece\u200b\u5206\u88c2\u200b\u70b9\u200b\u5f00\u59cb\u200b\u8fdb\u884c\u200b\u5206\u88c2\u200b\u3002</li> <li>hash \u200b\u51fd\u6570\u200b\u4e3a\u200b h0 = key %4 h1 = key % 8\uff0ch1 \u200b\u4f1a\u200b\u5728\u200b\u5206\u88c2\u200b\u65f6\u200b\u4f7f\u7528\u200b\u3002</li> <li>\u200b\u6574\u4e2a\u200b\u8868\u200b\u521d\u59cb\u5316\u200b\u5305\u542b\u200b\u4e86\u200b4\u200b\u4e2a\u6876\u200b\uff0c\u200b\u6876\u200b\u53f7\u200b\u4e3a\u200b 0-3\uff0c\u200b\u5e76\u200b\u5df2\u200b\u63d0\u524d\u200b\u63d2\u5165\u200b\u4e86\u200b\u90e8\u5206\u200b\u7684\u200b\u6570\u636e\u200b\u3002</li> </ol> <p>\u200b\u5206\u88c2\u200b\u8fc7\u7a0b\u200b\u5982\u4e0b\u200b\uff1a</p> <p>\u200b\u73b0\u5728\u200b\u63d2\u5165\u200b key = 27</p> <ol> <li>\u200b\u8fdb\u884c\u200b\u54c8\u5e0c\u200b\u8fd0\u7b97\u200b\uff0ch0 = 27 % 4 = 3</li> <li>\u200b\u5c06\u200bkey = 27 \u200b\u63d2\u5165\u200b\u6876\u200b 3\uff0c\u200b\u4f46\u200b\u53d1\u73b0\u200b\u6876\u200b 3 \u200b\u5df2\u7ecf\u200b\u8fbe\u5230\u200b\u4e86\u200b\u6876\u200b\u7684\u200b\u5bb9\u91cf\u200b\uff0c\u200b\u6240\u4ee5\u200b\u89e6\u53d1\u200b\u54c8\u5e0c\u200b\u5206\u88c2\u200b</li> <li>\u200b\u7531\u4e8e\u200b\u73b0\u5728\u200b\u5206\u88c2\u200b\u70b9\u200b\u5904\u4e8e\u200b 0 \u200b\u6876\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u5bf9\u200b 0 \u200b\u6876\u200b\u8fdb\u884c\u200b\u5206\u5272\u200b\u3002\u200b\u8fd9\u91cc\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u867d\u7136\u200b\u8fd9\u91cc\u200b\u662f\u200b 3 \u200b\u6876\u200b\u6ee1\u200b\u4e86\u200b\uff0c\u200b\u4f46\u200b\u6211\u4eec\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u76f4\u63a5\u200b\u4ece\u200b 3 \u200b\u6876\u200b\u8fdb\u884c\u200b\u5206\u5272\u200b\uff0c\u200b\u800c\u662f\u200b\u4ece\u200b\u5206\u5272\u200b\u70b9\u200b\u8fdb\u884c\u200b\u5206\u5272\u200b\u3002</li> <li>\u200b\u5bf9\u200b\u5206\u5272\u200b\u70b9\u200b\u6240\u200b\u6307\u5411\u200b\u7684\u200b\u6876\u200b (\u200b\u6876\u200b0) \u200b\u6240\u200b\u5305\u542b\u200b\u7684\u200b key \u200b\u91c7\u7528\u200b\u65b0\u200b\u7684\u200b hash \u200b\u51fd\u6570\u200b (h1) \u200b\u8fdb\u884c\u200b\u5206\u5272\u200b\uff0c\u200b\u5c06\u200b\u4ea7\u751f\u200b\u5982\u4e0b\u200b\u7684\u200b\u54c8\u5e0c\u200b\u8868\u200b\u3002</li> <li>\u200b\u867d\u7136\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5206\u88c2\u200b\uff0c\u200b\u4f46\u6876\u200b 3 \u200b\u5e76\u200b\u4e0d\u662f\u200b\u5206\u88c2\u200b\u70b9\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6876\u200b 3 \u200b\u4f1a\u200b\u5c06\u200b\u591a\u51fa\u200b\u7684\u200b key\uff0c\u200b\u653e\u200b\u4e8e\u200b\u6ea2\u51fa\u200b\u9875\u200b.,\u200b\u4e00\u76f4\u200b\u7b49\u5230\u200b\u6876\u200b 3 \u200b\u8fdb\u884c\u200b\u5206\u88c2\u200b\u3002</li> <li>\u200b\u8fdb\u884c\u200b\u5206\u88c2\u200b\u540e\u200b\uff0c\u200b\u5c06\u200b\u5206\u88c2\u200b\u70b9\u200b\u5411\u200b\u540e\u200b\u79fb\u52a8\u200b\u4e00\u4f4d\u200b\u3002</li> </ol> <p></p> <p>key \u200b\u7684\u200b\u8bfb\u53d6\u200b\uff1a</p> <p>\u200b\u91c7\u7528\u200b h0 \u200b\u5bf9\u200b key \u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\u3002</p> <ul> <li>\u200b\u5982\u679c\u200b\u7b97\u51fa\u200b\u7684\u200b\u6876\u200b\u53f7\u200b\u5c0f\u4e8e\u200b\u4e86\u200b\u5206\u88c2\u200b\u70b9\u200b\uff0c\u200b\u8868\u793a\u200b\u6876\u200b\u5df2\u7ecf\u200b\u8fdb\u884c\u200b\u7684\u200b\u5206\u88c2\u200b\uff0c\u200b\u6211\u4eec\u200b\u91c7\u7528\u200b h1 \u200b\u8fdb\u884c\u200b hash \u200b\u8fd0\u7b97\u200b\uff0c\u200b\u7b97\u200b\u51fa\u200b key \u200b\u6240\u200b\u5bf9\u5e94\u200b\u7684\u200b\u771f\u6b63\u200b\u7684\u200b\u6876\u200b\u53f7\u200b\u3002\u200b\u518d\u200b\u4ece\u200b\u771f\u6b63\u200b\u7684\u200b\u6876\u200b\u91cc\u200b\u53d6\u51fa\u200b value\u3002</li> <li>\u200b\u5982\u679c\u200b\u7b97\u51fa\u200b\u7684\u200b\u6876\u200b\u53f7\u200b\u5927\u4e8e\u200b\u4e86\u200b\u5206\u88c2\u200b\u70b9\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8868\u793a\u200b\u6b64\u6876\u200b\u8fd8\u200b\u6ca1\u200b\u8fdb\u884c\u200b\u5206\u88c2\u200b\uff0c\u200b\u76f4\u63a5\u200b\u4ece\u200b\u5f53\u524d\u200b\u6876\u200b\u8fdb\u884c\u200b\u8bfb\u53d6\u200b value\u3002</li> </ul> <p>\u200b\u6ce8\u610f\u200b\uff1a</p> <ol> <li>\u200b\u82e5\u4e0b\u200b\u4e00\u6b21\u200b key \u200b\u63d2\u5165\u200b 0\u30011\u30012\u30014 \u200b\u6876\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u89e6\u53d1\u200b\u5206\u88c2\u200b\uff08\u200b\u56e0\u4e3a\u200b\u6ca1\u6709\u200b\u8d85\u51fa\u200b\u6876\u200b\u7684\u200b\u5bb9\u91cf\u200b\uff09\u3002\u200b\u82e5\u200b\u662f\u200b\u63d2\u5165\u200b\u6876\u200b 3\uff0c\u200b\u7528\u6237\u200b\u5728\u200b\u5b9e\u73b0\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u81ea\u5df1\u200b\u8bbe\u5b9a\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e00\u65e6\u200b\u63d2\u5165\u200b\u5c31\u200b\u89e6\u53d1\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7b49\u200b\u6ea2\u51fa\u200b\u9875\u200b\u8fbe\u5230\u200b listSize \u200b\u518d\u200b\u89e6\u53d1\u200b\u65b0\u200b\u7684\u200b\u5206\u88c2\u200b\u3002</li> <li> <p>\u200b\u73b0\u5728\u200b 0 \u200b\u6876\u200b\u88ab\u200b\u5206\u88c2\u200b\u4e86\u200b\uff0c\u200b\u65b0\u200b\u6570\u636e\u200b\u7684\u200b\u63d2\u5165\u200b\u600e\u4e48\u200b\u624d\u80fd\u200b\u4fdd\u8bc1\u200b\u6ca1\u200b\u5206\u88c2\u200b\u7684\u200b\u6876\u200b\u80fd\u200b\u6b63\u5e38\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u5df2\u7ecf\u200b\u5206\u88c2\u200b\u7684\u200b\u6876\u200b\u80fd\u200b\u5c06\u200b\u90e8\u5206\u200b\u63d2\u5165\u200b\u5230\u200b\u65b0\u200b\u5206\u88c2\u200b\u7684\u200b\u6876\u200b\u5462\u200b\uff1f    A\uff1a\u200b\u53ea\u8981\u200b\u5206\u88c2\u200b\u70b9\u200b\u5c0f\u4e8e\u200b\u6876\u200b\u7684\u200b\u603b\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f9d\u7136\u200b\u91c7\u7528\u200b h0 \u200b\u51fd\u6570\u200b\u8fdb\u884c\u200b\u54c8\u5e0c\u200b\u8ba1\u7b97\u200b\u3002</p> </li> <li> <p>\u200b\u5982\u679c\u200b\u54c8\u5e0c\u200b\u7ed3\u679c\u200b\u5c0f\u4e8e\u200b\u5206\u88c2\u200b\u53f7\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8868\u793a\u200b\u8fd9\u4e2a\u200b key \u200b\u6240\u200b\u63d2\u5165\u200b\u7684\u200b\u6876\u200b\u5df2\u7ecf\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5206\u5272\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u200b\u5c31\u200b\u91c7\u7528\u200b h1 \u200b\u518d\u6b21\u200b\u8fdb\u884c\u200b\u54c8\u5e0c\u200b\uff0c\u200b\u800c\u200b h1 \u200b\u7684\u200b\u54c8\u5e0c\u200b\u7ed3\u679c\u200b\u5c31\u200b\u8fd9\u4e2a\u200b key \u200b\u6240\u8be5\u200b\u63d2\u5165\u200b\u7684\u200b\u6876\u200b\u53f7\u200b\u3002</p> </li> <li>\u200b\u5982\u679c\u200b\u54c8\u5e0c\u200b\u7ed3\u679c\u200b\u5927\u4e8e\u200b\u5206\u88c2\u200b\u53f7\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8868\u793a\u200b\u8fd9\u4e2a\u200b key \u200b\u6240\u200b\u63d2\u5165\u200b\u7684\u200b\u6876\u200b\u8fd8\u200b\u6ca1\u6709\u200b\u8fdb\u884c\u200b\u5206\u88c2\u200b\u3002\u200b\u76f4\u63a5\u63d2\u5165\u200b\u3002</li> </ol> <p>\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u4e3a\u4ec0\u4e48\u200b\u867d\u7136\u200b\u662f\u200b\u6876\u200b 3 \u200b\u7684\u200b\u5bb9\u91cf\u200b\u4e0d\u8db3\u200b\uff0c\u200b\u4f46\u200b\u5206\u88c2\u200b\u7684\u200b\u6876\u200b\u662f\u200b\u5206\u88c2\u200b\u70b9\u200b\u6240\u200b\u6307\u5411\u200b\u7684\u200b\u6876\u200b\u3002\u200b\u5982\u679c\u200b\u76f4\u63a5\u200b\u5728\u200b\u6876\u200b 3 \u200b\u8fdb\u884c\u200b\u5206\u88c2\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u65b0\u200b\u7684\u200b key \u200b\u63d2\u5165\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u4e0d\u80fd\u200b\u6b63\u5e38\u200b\u7684\u200b\u5224\u65ad\u200b\u54ea\u4e9b\u200b\u6876\u200b\u5df2\u7ecf\u200b\u8fdb\u884c\u200b\u4e86\u200b\u5206\u88c2\u200b\u3002 3. \u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u5206\u88c2\u200b\u70b9\u200b\uff0c\u200b\u5c31\u200b\u5177\u5907\u200b\u4e86\u200b\u65e0\u9650\u200b\u6269\u5c55\u200b\u7684\u200b\u80fd\u529b\u200b\u3002\u200b\u5f53\u200b\u5206\u88c2\u200b\u70b9\u200b\u79fb\u52a8\u200b\u5230\u200b\u6700\u540e\u200b\u4e00\u4e2a\u6876\u200b (\u200b\u6876\u200b3) \u200b\u518d\u200b\u51fa\u73b0\u200b\u5206\u88c2\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5206\u88c2\u200b\u70b9\u200b\u5c31\u200b\u4f1a\u200b\u56de\u5230\u200b\u6876\u200b 0\uff0c\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\uff0ch0 \u200b\u4f5c\u5e9f\u200b\uff0ch1 \u200b\u66ff\u4ee3\u200b h0, h2(key % 12) \u200b\u66ff\u4ee3\u200b h1\u3002\u200b\u90a3\u4e48\u200b\u53c8\u200b\u53ef\u4ee5\u200b\u5f00\u59cb\u200b\u52a8\u6001\u200b\u5206\u5272\u200b\u3002 \u200b\u90a3\u4e2a\u200b\u6574\u4e2a\u200b\u521d\u59cb\u5316\u200b\u72b6\u6001\u200b\u5c31\u200b\u53d1\u751f\u200b\u4e86\u200b\u53d8\u5316\u200b\u3002\u200b\u5c31\u200b\u597d\u50cf\u200b\u6ca1\u6709\u200b\u53d1\u751f\u200b\u8fc7\u200b\u5206\u88c2\u200b\u3002\u200b\u90a3\u4e48\u200b\u4e0a\u9762\u200b\u7684\u200b\u89c4\u5219\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5faa\u73af\u200b\u4f7f\u7528\u200b\u3002</p> <p>Warning</p> <p>\u200b\u7ebf\u6027\u200b\u54c8\u5e0c\u200b\u7684\u200b\u8bba\u6587\u200b\u4e2d\u662f\u200b\u6309\u200b\u4e0a\u9762\u200b\u7684\u200b\u89c4\u5219\u200b\u6765\u200b\u8fdb\u884c\u200b\u5206\u88c2\u200b\u7684\u200b\u3002\u200b\u5176\u5b9e\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5b89\u88c5\u200b\u81ea\u5df1\u200b\u7684\u200b\u5b9e\u9645\u200b\u60c5\u51b5\u200b\u6765\u200b\u8fdb\u884c\u200b\u6539\u52a8\u200b\uff1a\u200b\u5047\u5982\u200b\u6211\u4eec\u200b\u73b0\u5728\u200b\u5e0c\u671b\u200b\u53bb\u6389\u200b\u5206\u5272\u200b\u70b9\u200b\uff0c\u200b\u4e00\u65e6\u200b\u54ea\u4e2a\u200b\u6876\u200b\u6ee1\u200b\u4e86\u200b\uff0c\u200b\u9a6c\u4e0a\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u6876\u200b\u8fdb\u884c\u200b\u5206\u5272\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8003\u8651\u200b\u4e86\u200b\u4ee5\u4e0b\u200b\u65b9\u6848\u200b\uff1a</p> <ul> <li>\u200b\u4e3a\u200b\u6240\u6709\u200b\u6876\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u3002\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u65f6\u5019\u200b\u5bf9\u200b\u6240\u6709\u200b\u6876\u200b\u7684\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u6e05\u7a7a\u200b\u3002</li> <li>\u200b\u4e00\u65e6\u200b\u67d0\u4e2a\u200b\u6876\u200b\u6ee1\u200b\u4e86\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u6876\u200b\u8fdb\u884c\u200b\u5206\u5272\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u8bbe\u7f6e\u200b\u6807\u5fd7\u200b\u4f4d\u200b\u3002\u200b\u5f53\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\u63d2\u5165\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u7ecf\u8fc7\u200b\u54c8\u5e0c\u200b\u8ba1\u7b97\u200b (h0) \u200b\u53d1\u73b0\u200b\u8fd9\u4e2a\u200b\u6876\u200b\u5df2\u7ecf\u200b\u5206\u88c2\u200b\u4e86\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u91c7\u7528\u200b\u65b0\u200b\u7684\u200b\u54c8\u5e0c\u200b\u51fd\u6570\u200b (h1) \u200b\u6765\u200b\u8ba1\u7b97\u200b\u5206\u88c2\u200b\u4e4b\u540e\u200b\u7684\u200b\u6876\u200b\u53f7\u200b\u3002\u200b\u5728\u200b\u8bfb\u53d6\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u5904\u7406\u200b\u7c7b\u4f3c\u200b\u3002</li> </ul> <p>Note</p> <p>hash table \u200b\u662f\u200b\u4e00\u4e2a\u200b\u9ad8\u6548\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u5927\u591a\u200b\u65f6\u5019\u200b\u80fd\u591f\u200b\u5728\u200b O(1) \u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u63d2\u5165\u200b\u548c\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b\uff0c\u200b\u5728\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u6709\u200b\u5f88\u591a\u200b\u5730\u65b9\u200b\u90fd\u200b\u4f7f\u7528\u200b\u5230\u200b\u4e86\u200b\u54c8\u5e0c\u200b\u8868\u200b\uff0c\u200b\u4f8b\u5982\u200b\u524d\u9762\u200b\u63d0\u5230\u200b\u7684\u200b page table\uff0cpage directory\uff0c\u200b\u4ee5\u53ca\u200b\u6267\u884c\u200b sql \u200b\u67e5\u8be2\u200b\u65f6\u200b\u4e00\u4e9b\u200b\u7528\u4e8e\u200b join \u200b\u7684\u200b\u4e34\u65f6\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\u4e5f\u200b\u6709\u9650\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u5b58\u50a8\u200b\u7684\u200b\u6240\u6709\u200b key \u200b\u90fd\u200b\u662f\u200b\u65e0\u5e8f\u200b\u7684\u200b\uff0c\u200b\u8fd9\u6837\u200b\u867d\u7136\u200b\u9002\u5408\u200b\u70b9\u67e5\u200b\uff08\u200b\u7cbe\u51c6\u200b\u5339\u914d\u200b key \u200b\u7684\u200b\u67e5\u627e\u200b\uff09\uff0c\u200b\u4f46\u662f\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u8303\u56f4\u200b\u626b\u63cf\u200b\uff08\u200b\u901a\u8fc7\u200b\u5173\u4e8e\u200b key \u200b\u7684\u200b\u90e8\u5206\u200b\u6761\u4ef6\u200b\u67e5\u627e\u200b\uff0c\u200b\u6bd4\u5982\u200b\u627e\u51fa\u200b\u5c0f\u4e8e\u200b\u6211\u200b\u7ed9\u51fa\u200b\u7684\u200b key \u200b\u7684\u200b\u6240\u6709\u200b key\uff09\uff0c\u200b\u5728\u200b\u66f4\u52a0\u200b\u901a\u7528\u200b\u7684\u200b\u573a\u666f\u200b\u4e0b\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u8868\u200b\u7d22\u5f15\u200b\u4f7f\u7528\u200b\u6700\u200b\u5e7f\u6cdb\u200b\u7684\u200b\u8fd8\u662f\u200b B+ \u200b\u6811\u200b\u3002</p>"},{"location":"db/cmu15445/L7/","title":"Trees Indexes I","text":"<p> \u200b\u7ea6\u200b 4367 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 15 \u200b\u5206\u949f\u200b</p> <p>review\uff1a</p> <p>\u200b\u6211\u4eec\u200b\u4e0a\u200b\u8282\u200b\u8ba8\u8bba\u200b\u4e86\u200bDBMS\u200b\u7cfb\u7edf\u200b\u5185\u90e8\u200b\u7684\u200b data structure\uff1a</p> <ul> <li>Internal Meta-Data\uff08\u200b\u5185\u90e8\u200b\u5143\u200b\u6570\u636e\u200b\uff09 \uff1a\u200b\u8ddf\u8e2a\u200b\u6570\u636e\u5e93\u200b\u548c\u200b\u7cfb\u7edf\u200b\u72b6\u6001\u200b\u7684\u200b\u4fe1\u606f\u200b\u3002</li> <li>Core Data Storage\uff08\u200b\u6838\u5fc3\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\uff09 \uff1a\u200b\u53ef\u4ee5\u200b\u7528\u4f5c\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b tuple \u200b\u7684\u200b\u57fa\u7840\u200b\u5b58\u50a8\u200b\u3002\u200b\u6570\u636e\u5e93\u200b\u6240\u200b\u5b58\u50a8\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u7ec4\u7ec7\u200b\u6210\u200b\u4e00\u4e2a\u200b hash table \u200b\u6216\u200b B+ tree \u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u6811\u7ed3\u6784\u200b\u3002</li> <li>Temporary Data Structures\uff08\u200b\u4e34\u65f6\u200b\u6570\u636e\u200b\uff09 \uff1a\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u6216\u8005\u200b\u9ad8\u6548\u200b\u8ba1\u7b97\u200b\u65f6\u200b\u4e34\u65f6\u200b\u521b\u5efa\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</li> <li>Table Indexes\uff08\u200b\u8868\u200b\u7d22\u5f15\u200b\uff09 \uff1a\u200b\u672c\u8d28\u200b\u662f\u200b\u7528\u200b tuple \u200b\u7684\u200b key \u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b\u76ee\u5f55\u200b\uff0c\u200b\u8f85\u52a9\u200b\u6211\u4eec\u200b\u5feb\u901f\u200b\u67e5\u627e\u200b\u5230\u200b\u67d0\u4e2a\u200b tuple\uff0c\u200b\u907f\u514d\u200b\u987a\u5e8f\u200b\u68c0\u7d22\u200b</li> </ul> <p>\u200b\u5bf9\u4e8e\u200b\u524d\u200b\u4e09\u79cd\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\uff08\u200b\u8bb8\u591a\u200b\u573a\u666f\u200b\u4e2d\u200b\uff09\u200b\u4f7f\u7528\u200b hash table \u200b\u5c31\u200b\u8db3\u591f\u200b\u3002\u200b\u56e0\u4e3a\u200b\u65e0\u9700\u200b\u7ecf\u5e38\u200b\u8fdb\u884c\u200b\u8303\u56f4\u200b\u67e5\u8be2\u200b\uff0c\u200b\u5927\u591a\u6570\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u7684\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b\u5c31\u662f\u200b\u7ed9\u200b\u5b83\u200b\u4e00\u4e2a\u200b key \u200b\u8fd4\u56de\u200b\u5bf9\u5e94\u200b\u7684\u200b value\uff08\u200b\u70b9\u200b\u67e5\u627e\u200b\uff09\u3002</p> <p>\u200b\u8fd9\u8282\u200b\u5c06\u200b\u8ba8\u8bba\u200b  Table Indexes \uff0c\u200b\u8fd9\u200b\u5b9e\u9645\u200b\u662f\u200b\u6211\u4eec\u200b\u60f3\u200b\u5b8c\u6210\u200b\u8303\u56f4\u200b\u67e5\u8be2\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b hash table \u200b\u5df2\u200b\u4e0d\u80fd\u200b\u6ee1\u8db3\u200b\u9700\u6c42\u200b\uff0c\u200b\u5b83\u200b\u53ea\u80fd\u200b\u8fdb\u884c\u200b\u5355\u4e2a\u200bkey\u200b\u7684\u200b\u67e5\u627e\u200b\u3002</p> <p>Note</p> <p>Hash Table\uff1a\u200b\u662f\u200b\u70b9\u200b\u67e5\u627e\u200b\uff0c\u200b\u9700\u8981\u200b\u5b8c\u6574\u200b\u7684\u200bkey\u200b\u8fdb\u884c\u200b\u68c0\u7d22\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u8303\u56f4\u200b\u7684\u200b\u68c0\u7d22\u200b\u67e5\u8be2\u200b\uff0c\u200b\u5982\u200bid &gt; 3</p> <p>B+Tree\uff1a\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b key \u200b\u7684\u200b\u90e8\u5206\u200b\u5185\u5bb9\u200b\u8fdb\u884c\u200b\u68c0\u7d22\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u8303\u56f4\u200b\u7684\u200b\u68c0\u7d22\u200b\u67e5\u8be2\u200b\u3002</p> <p>\u200b\u524d\u200b\u4e09\u79cd\u200b\u6570\u636e\u7ed3\u6784\u200b\u4f7f\u7528\u200b Hash Table \u200b\u5c31\u200b\u8db3\u591f\u200b\uff0cHash Table \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u8868\u200b\u7684\u200b Hash \u200b\u7d22\u5f15\u200b\uff0c\u200b\u4f46\u200b\u5bf9\u4e8e\u200b\u8868\u200b\u7d22\u5f15\u200b\uff0c\u200b\u66f4\u200b\u901a\u7528\u200b\u7684\u200b\u8fd8\u662f\u200b\u4f7f\u7528\u200b B+Tree\u3002</p>"},{"location":"db/cmu15445/L7/#indexes","title":"Indexes","text":"<p>table index \uff1aa replica of a subset of a table's attributes\uff08\u200b\u8868\u4e2d\u200b\u67d0\u4e9b\u200b\u5c5e\u6027\u200b\u7684\u200b\u526f\u672c\u200b\uff09\uff0c\u200b\u4ed6\u4eec\u200b\u88ab\u200b\u6309\u7167\u200b\u7279\u5b9a\u200b\u7684\u200b\u6392\u5e8f\u200b\u548c\u200b\u7ec4\u7ec7\u200b\u8d77\u6765\u200b\u4ee5\u200b\u652f\u6301\u200b\u5feb\u901f\u200b\u7684\u200b\u68c0\u7d22\u200b\u548c\u200b\u66f4\u65b0\u200b\u3002</p> <ul> <li>\u200b\u8868\u200b\u7d22\u5f15\u200b\u8ba9\u200b DBMS \u200b\u6bd4\u200b\u6267\u884c\u200b\u987a\u5e8f\u200b\u626b\u63cf\u200b\u66f4\u5feb\u200b\u5730\u200b\u627e\u5230\u200b\u5143\u7ec4\u200b\u3002</li> <li>DBMS\u200b\u786e\u4fdd\u200b\u8868\u200b\u548c\u200b\u7d22\u5f15\u200b\u7684\u200b\u5185\u5bb9\u200b\u603b\u662f\u200b\u540c\u6b65\u200b\u7684\u200b\uff0c\u200b\u5bf9\u200b tuple \u200b\u7684\u200b\u4fee\u6539\u200b\u80fd\u200b\u5b9e\u65f6\u200b\u53cd\u6620\u200b\u5230\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u7d22\u5f15\u200b\u5bf9\u4e8e\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5f00\u53d1\u4eba\u5458\u200b\u5e94\u8be5\u200b\u662f\u200b\u900f\u660e\u200b\u7684\u200b\uff0c\u200b\u4ed6\u4eec\u200b\u64cd\u63a7\u200b\u7684\u200b\u662f\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u200b\u5173\u5fc3\u200b\u7d22\u5f15\u200b\u5982\u4f55\u200b\u540c\u6b65\u200b\uff0c\u200b\u4f46\u662f\u200b\u4ed6\u200b\u5fc5\u987b\u200b\u8981\u200b\u6709\u200b\u4e00\u7ec4\u200b\u540c\u6b65\u200b\u673a\u5236\u200b\u5728\u200b\u90a3\u91cc\u200b\u3002</li> <li>\u200b\u9700\u8981\u200b\u6743\u8861\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u5e93\u200b\u521b\u5efa\u200b\u7684\u200b\u7d22\u5f15\u200b\u6570\u91cf\u200b\uff08\u200b\u4f7f\u7528\u200b\u5927\u91cf\u200b\u7d22\u5f15\u200b\u80fd\u200b\u8ba9\u200b\u67e5\u8be2\u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u4f46\u200b\u5b58\u50a8\u200b\u548c\u200b\u7ef4\u62a4\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u66f4\u5927\u200b\uff09\u3002</li> </ul> <p>DBMS\u200b\u7684\u200b\u4efb\u52a1\u200b\u662f\u200b\u627e\u51fa\u200b\u7528\u4e8e\u200b\u6267\u884c\u200b\u67e5\u8be2\u200b\u7684\u200b\u6700\u4f73\u200b\u7d22\u5f15\u200b\u3002\u200b\u8fd9\u200b\u5b9e\u9645\u4e0a\u200b\u5c31\u662f\u200b\u67e5\u8be2\u200b\u4f18\u5316\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u4e4b\u540e\u200b\u4f1a\u200b\u4ecb\u7ecd\u200b\u3002\u200b\u6211\u4eec\u200b\u4e0d\u4f1a\u200b\u53bb\u200b\u8ba8\u8bba\u200b\u4f60\u4eec\u200b\u8be5\u200b\u4f7f\u200b\u2f64\u200b\u54ea\u200b\u79cd\u200b\u7d22\u5f15\u200b\uff08\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u96be\u9898\u200b\uff09\uff0c\u200b\u4eca\u5929\u200b\u6211\u4eec\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u7684\u200b\u5c31\u662f\u200bB+\u200b\u6811\u200b\u3002</p>"},{"location":"db/cmu15445/L7/#btree","title":"B+Tree","text":"<p>B\u200b\u6811\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u4e00\u7ec4\u200b\u7279\u5b9a\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u7684\u200b\u7edf\u79f0\u200b \uff0c\u200b\u6709\u200bB\u200b\u6811\u200b\uff081971\uff09\u3001B+\u200b\u6811\u200b\uff081973\uff09\u3001B*\u200b\u6811\u200b\uff081977?\uff09\u3001Blink\u200b\u6811\u200b\u7b49\u7b49\u200b\u3002\u200b\u5f88\u591a\u200b\u65f6\u5019\u200b\u4ed6\u4eec\u200b\u4f1a\u200b\u88ab\u200b\u6df7\u8d77\u6765\u200b\u7528\u200b\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u5373\u4fbf\u200b\u67d0\u4e9b\u200b\u6570\u636e\u5e93\u200b\u8bf4\u200b\u4ed6\u4eec\u200b\u7528\u200b\u7684\u200b\u662f\u200bB\u200b\u6811\u200b\uff0c\u200b\u5b9e\u9645\u4e0a\u200b\u6307\u200b\u7684\u200b\u4e5f\u200b\u662f\u200bB+\u200b\u6811\u200b\uff08\u200b\u5927\u591a\u6570\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff09\uff0c\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u6982\u5ff5\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p> <p>Info</p> <p>\u200b\u76ee\u524d\u4e3a\u6b62\u200b\uff0c\u200b\u597d\u50cf\u200b\u8fd8\u200b\u6ca1\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u4f7f\u7528\u200bB\u200b\u6811\u200b\uff0cPostgreSQL \u200b\u2f42\u200b\u6863\u4e2d\u200b\u8868\u793a\u200b\u4f7f\u200b\u2f64\u200b\u5b83\u200b\u4f7f\u7528\u200bB\u200b\u6811\u200b\uff0c\u200b\u4f46\u200b\u6e90\u7801\u200b\u91cc\u200b\u5176\u5b9e\u200b\u662f\u200bB+\u200b\u6811\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u4eca\u5929\u200b\u6240\u8c08\u200b\u7684\u200bB+\u200b\u6811\u200b\u5b9e\u9645\u4e0a\u200b\u4e5f\u200b\u8ddf\u200b\u5176\u200b1973\u200b\u5e74\u200b\u8bba\u6587\u200b\u91cc\u200b\u7684\u200b\u5b9a\u4e49\u200b\u6709\u6240\u533a\u522b\u200b\u3002\u200b\u73b0\u4ee3\u200b\u7684\u200bB+\u200b\u6811\u200b\u5b9e\u73b0\u200b\u7ed3\u5408\u200b\u4e86\u200b\u5176\u4ed6\u200bB\u200b\u6811\u200b\u53d8\u4f53\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u6bd4\u5982\u200bBlink\u200b\u6811\u4e2d\u200b\u4f7f\u7528\u200b\u7684\u200b\u5144\u5f1f\u200b\u6307\u9488\u200b\uff08sibling pointer\uff09\u3002</p> <p>B+\u200b\u6811\u200b\uff1a\u200b\u662f\u200b\u4e00\u7c7b\u200b\u81ea\u200b\u5e73\u8861\u200b\u6811\u200b\uff0cB \u200b\u5b9e\u9645\u4e0a\u200b\u5c31\u200b\u53d6\u81ea\u200b\u4e8e\u200b\u82f1\u6587\u5355\u8bcd\u200b Balance\u3002\u200b\u5b83\u200b\u4fdd\u6301\u6570\u636e\u200b\u7684\u200b\u6392\u5e8f\u200b\uff0c\u200b\u5e76\u200b\u5141\u8bb8\u200b\u5728\u200b \\(O(log n)\\) \u200b\u4e2d\u200b\u8fdb\u884c\u200b\u641c\u7d22\u200b\u3001\u200b\u987a\u5e8f\u200b\u8bbf\u95ee\u200b\u3001\u200b\u63d2\u5165\u200b\u548c\u200b\u5220\u9664\u200b\u3002\u200b\u5b83\u200b\u9488\u5bf9\u200b\u9762\u5411\u200b\u78c1\u76d8\u200b\u7684\u200b DBMS\uff08\u200b\u4f1a\u8bfb\u200b/\u200b\u5199\u200b\u5927\u5757\u200b\u6570\u636e\u200b\uff09\u200b\u8fdb\u884c\u200b\u4e86\u200b\u4f18\u5316\u200b\u3002</p> <ul> <li>\u200b\u76f8\u6bd4\u200b\u4e8e\u200bB\u200b\u6811\u200b\uff0cB+\u200b\u6811\u200b\u7684\u200b\u4f18\u70b9\u200b\u5728\u4e8e\u200b\u5f53\u200b\u6211\u4eec\u200b\u904d\u5386\u200bB+\u200b\u6811\u200b\u7684\u200b\u5e95\u90e8\u200b\uff08B+\u200b\u6811\u200b\u7684\u200b\u6240\u6709\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\uff09\u200b\u65f6\u200b\uff0c\u200b\u80fd\u200b\u6309\u7167\u200b\u987a\u5e8f\u200b\u8bfb\u53d6\u200b\u6240\u6709\u200b\u6570\u636e\u200b\u3002</li> <li>B+\u200b\u6811\u200b\u7684\u200b\u601d\u60f3\u200b\u6765\u6e90\u4e8e\u200b\u4e8c\u53c9\u200b\u641c\u7d22\u200b\u6811\u200b\uff0c\u200b\u4e0d\u8fc7\u200bB+\u200b\u6811\u200b\u5141\u8bb8\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u53ef\u4ee5\u200b\u6709\u200b\u8d85\u8fc7\u200b2\u200b\u4e2a\u53f6\u200b\u7ed3\u70b9\u200b\u3002\u200b\u5b83\u200b\u662f\u200b\u4e3a\u4e86\u200b\u5728\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u5feb\u901f\u200b\u68c0\u7d22\u200b\u6570\u636e\u200b\u800c\u200b\u8bbe\u8ba1\u200b\u51fa\u6765\u200b\u7684\u200b\u4e00\u4e2a\u200b\u81f3\u4eca\u200b\u4e3a\u6b62\u200b\u4ecd\u7136\u200b\u5f97\u5230\u200b\u5e7f\u6cdb\u200b\u8fd0\u7528\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</li> </ul> <p>\u200b\u5f62\u5f0f\u200b\u4e0a\u200b\uff0cB+\u200b\u6811\u662f\u200b\u591a\u200b\uff08M\uff09\u200b\u8def\u200b\u641c\u7d22\u200b\u6811\u200b\uff0c\u200b\u5177\u5907\u200b\u5982\u4e0b\u200b \u200b\u6027\u8d28\u200b \uff1a</p> <ul> <li>\u200b\u5b8c\u7f8e\u200b\u5e73\u8861\u200b\uff1a\u200b\u6bcf\u4e2a\u200b\u53f6\u200b\u7ed3\u70b9\u200b\u90fd\u200b\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u6df1\u5ea6\u200b \\(O(log n)\\) \u3002\u200b\u6bcf\u6b21\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u90fd\u200b\u4f1a\u200b\u8c03\u6574\u200b\u3002</li> <li>\u200b\u9664\u6839\u200b\u8282\u70b9\u200b\u5916\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5185\u90e8\u200b\u7ed3\u70b9\u200b\u81f3\u5c11\u200b\u662f\u200b\u534a\u6ee1\u200b\u7684\u200b\uff08(M - 1)/2 &lt;= num of keys &lt;= M\u22121\uff0cM \u200b\u662f\u200b\u8be5\u200b\u7ed3\u70b9\u200b\u51fa\u6765\u200b\u7684\u200b\u8def\u5f84\u200b\u6570\u200b\uff09\u3002</li> <li>\u200b\u6bcf\u4e2a\u200b\u6709\u200b k \u200b\u4e2a\u200b key \u200b\u7684\u200b\u4e2d\u95f4\u200b\u7ed3\u70b9\u200b\u90fd\u200b\u6709\u200b k+1 \u200b\u4e2a\u200b\u975e\u7a7a\u200b\u7684\u200b\u5b69\u5b50\u200b\u7ed3\u70b9\u200b\u3002</li> </ul> <p>\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u7684\u200b degree \u200b\u4e3a\u200b M\uff0c\u200b\u5219\u200b\u6700\u200b\u591a\u200b\u53ef\u4ee5\u200b\u6709\u200b M \u200b\u4e2a\u200b pointer\uff08\u200b\u5411\u4e0b\u200b\u7684\u200b\u8def\u5f84\u200b\uff09\uff0cM-1 \u200b\u4e2a\u200b key</p> <p>\u200b\u6bcf\u4e2a\u200bB+\u200b\u6811\u200b\u7684\u200b\u7ed3\u70b9\u200b\u90fd\u200b\u662f\u200b\u4e00\u7ec4\u200b key/value \u200b\u5bf9\u200b\u7684\u200b\u6570\u7ec4\u200b\uff1a</p> <ul> <li>\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u4e0a\u200b\u7684\u200b\u6570\u7ec4\u200b\uff08\u200b\u51e0\u4e4e\u200b\uff09\u200b\u6309\u200b key \u200b\u6392\u5e8f\u200b\u3002</li> <li>key \uff1a\u200b\u6765\u6e90\u4e8e\u200b\u6211\u4eec\u200b\u8981\u200b\u5efa\u7acb\u200b\u7d22\u5f15\u200b\u7684\u200b\u5c5e\u6027\u200b\u7684\u200b\u503c\u200b</li> <li>value \uff1a\u200b\u6839\u636e\u200b\u662f\u200b Inner Node\uff08\u200b\u975e\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\uff09\u200b\u6216\u8005\u200b Leaf Node\uff08\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\uff09\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u9009\u62e9\u200b\u3002</li> <li>inner node \u200b\u7684\u200b value \u200b\u662f\u200b\u6307\u5411\u200b\u5176\u4ed6\u200b node \u200b\u7684\u200b\u6307\u9488\u200b\u3002</li> <li>leaf node \u200b\u7684\u200b value \u200b\u662f\u200b\u5177\u4f53\u200b\u7684\u200b\u6570\u636e\u200b\uff1a\u2460 tuple \u200b\u7684\u200b record id\uff1b\u2461 tuple \u200b\u672c\u8eab\u200b</li> </ul> <p>Note</p> <p>\u200b\u901a\u8fc7\u200b sibling pointer \u200b\u53ef\u4ee5\u200b\u904d\u5386\u200b\u6240\u6709\u200b\u7684\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\uff0c\u200b\u5c31\u662f\u200b\u5faa\u5e8f\u200b\u626b\u63cf\u200b\u3002</p> <p>\u200b\u53ea\u6709\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\u6709\u200b sibling pointer\uff0cinner node \u200b\u6ca1\u6709\u200b\u3002</p> <p>\ud83d\udc47\u200b\u8fd9\u4e2a\u200bB+\u200b\u6811\u200b\u7684\u200b degree=4\uff0c\u200b\u56e0\u4e3a\u200b inner node \u200b\u6700\u591a\u200b\u80fd\u5b58\u200b 3 \u200b\u4e2a\u200b key\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u6709\u200b 3+1=4 \u200b\u4e2a\u200b pointer\u3002</p> <p></p> <p>B+\u200b\u6811\u200b\u7684\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\u5b9e\u9645\u200b\u5b58\u50a8\u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b key \u200b\u548c\u200b value \u200b\u5206\u5f00\u200b\u5b58\u50a8\u200b\uff0ckey \u200b\u4e2d\u200b\u5b58\u50a8\u200b\u5bf9\u5e94\u200b value \u200b\u7684\u200b offset\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u652f\u6301\u200b\u4e8c\u5206\u200b\u641c\u7d22\u200b\u4ee5\u200b\u63d0\u9ad8\u200b\u68c0\u7d22\u200b\u6548\u7387\u200b\u3002\u200b\u56e0\u4e3a\u200b\u4e8c\u5206\u200b\u641c\u7d22\u200b\u4e2d\u200b\u4e0d\u200b\u9700\u8981\u200b value\uff0c\u200b\u5148\u8981\u200b\u53bb\u200b\u627e\u5230\u200b\u6240\u8981\u200b\u7684\u200b key\uff0c\u200b\u62c6\u5206\u200b key \u200b\u548c\u200b value \u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b key \u200b\u4e4b\u95f4\u200b\u7684\u200b\u9ad8\u6548\u200b\u8df3\u8f6c\u200b\u3002</p> <p></p> <p>\u200b\u5bf9\u4e8e\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u5b58\u50a8\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\uff1a</p> <ol> <li>\u200b\u5b58\u50a8\u200b Record Id\uff0c\u200b\u7136\u540e\u200b\u6839\u636e\u200b Record Id \u200b\u53bb\u200b\u68c0\u7d22\u200b\u5bf9\u5e94\u200b\u7684\u200b tuple\u3002\ud83c\udf30 PostgreSQL\u3001DB2</li> <li>\u200b\u76f4\u63a5\u200b\u5b58\u50a8\u200b Tuple \u200b\u7684\u200b\u6570\u636e\u200b\u3002\ud83c\udf30 SQLite\u3001MySQL</li> <li>\u200b\u4e8c\u7ea7\u200b\u7d22\u5f15\u200b\u5fc5\u987b\u200b\u5b58\u50a8\u200b Record Id \u200b\u4f5c\u4e3a\u200b\u4ed6\u4eec\u200b\u7684\u200b\u503c\u200b\u3002</li> <li>SQLServer\u3001oracle \u200b\u4e8c\u8005\u200b\u90fd\u200b\u652f\u6301\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u7b2c\u4e00\u79cd\u200b\u3002</li> </ol>"},{"location":"db/cmu15445/L7/#b\u6811-vs-b\u6811","title":"B\u200b\u6811\u200b VS. B+\u200b\u6811","text":"<ul> <li>B\u200b\u6811\u200b\u7684\u200bkey\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u91cd\u590d\u200b\u4e14\u200b\u6570\u636e\u200b\u53ef\u200b\u5b58\u50a8\u200b\u5728\u200b\u4efb\u4f55\u200b\u7ed3\u70b9\u200b\uff1bB+\u200b\u6811\u4e2d\u200b\u7684\u200b key \u200b\u53ef\u4ee5\u200b\u91cd\u590d\u200b\uff0c\u200b\u4f46\u200b\u6570\u636e\u200b\u53ea\u80fd\u200b\u5b58\u50a8\u200b\u5728\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u5b9e\u9645\u4e0a\u200bB\u200b\u6811\u200b\u7684\u200b\u6027\u80fd\u200b\u662f\u200b\u9ad8\u4e8e\u200bB+\u200b\u6811\u200b\u7684\u200b\uff08\u200b\u56e0\u4e3a\u200b key \u200b\u4e0d\u200b\u5141\u8bb8\u200b\u91cd\u590d\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5bf9\u200b\u7a7a\u95f4\u200b\u7684\u200b\u5229\u7528\u7387\u200b\u66f4\u9ad8\u200b\uff09\uff0c\u200b\u4f46\u662f\u200b\u5374\u200b\u5f88\u5c11\u200b\u5f97\u5230\u200b\u4f7f\u7528\u200b\uff0c\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200bB+\u200b\u6811\u200b\u5728\u200b\u591a\u7ebf\u7a0b\u200b\u4e0b\u200b\u7684\u200b\u8868\u73b0\u200b\u597d\u4e8e\u200bB\u200b\u6811\u200b\u3002\u200b\u6bd4\u5982\u200b\uff0cB\u200b\u6811\u4e2d\u200b\u4e00\u4e2a\u200b inner node \u200b\u8fdb\u884c\u200b\u4e86\u200b\u4fee\u6539\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u4fee\u6539\u200b\u5411\u4e0b\u200b\u548c\u200b\u5411\u4e0a\u200b\u8fdb\u884c\u200b\u4f20\u64ad\u200b\uff0c\u200b\u5219\u200b\u8981\u200b\u5728\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u65b9\u5411\u200b\u4e0a\u200b\u90fd\u200b\u52a0\u200b latch\uff0c\u200b\u4f46\u200bB+\u200b\u6811\u4e2d\u200b\u53ea\u200b\u5bf9\u200bleaf node\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\uff0c\u200b\u5219\u200b\u53ea\u200b\u9700\u8981\u200b\u5411\u4e0a\u200b\u4f20\u64ad\u200b\u8fd9\u4e2a\u200b\u4fee\u6539\u200b\u3002</li> </ul>"},{"location":"db/cmu15445/L7/#\u63d2\u5165","title":"\u63d2\u5165","text":"<ol> <li>\u200b\u6839\u636e\u200b inner node \u200b\u627e\u5230\u200b\u6b63\u786e\u200b\u7684\u200bleaf node L\u3002</li> <li>\u200b\u5c06\u200b entry \u200b\u6309\u200b\u987a\u5e8f\u200b\u6dfb\u52a0\u200b\u5230\u200b L \u200b\u4e2d\u200b\uff1a<ul> <li>\u200b\u5982\u679c\u200b L \u200b\u6709\u200b\u8db3\u591f\u200b\u7684\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u5219\u200b\u64cd\u4f5c\u200b\u5b8c\u6210\u200b\u3002</li> <li>\u200b\u5426\u5219\u200b\u5c06\u200b L \u200b\u5206\u4e3a\u200b\u4e24\u4e2a\u200b\u7ed3\u70b9\u200b L, L2\u3002\u200b\u91cd\u65b0\u200b\u5747\u5300\u200b\u5206\u914d\u200b\u539f\u672c\u200b L \u200b\u4e2d\u200b\u7684\u200b entries\uff08\u200b\u5c06\u200b\u539f\u200b L \u200b\u7684\u200b key \u200b\u5e73\u5747\u5206\u200b\uff0c\u200b\u627e\u5230\u200b\u4e00\u4e2a\u200b\u4e2d\u95f4\u200b\u4f4d\u7f6e\u200b middle key\uff1b\u200b\u5c0f\u4e8e\u200b middle key \u200b\u7684\u200b key \u200b\u653e\u5728\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\uff0c\u200b\u5927\u4e8e\u200b\u7684\u200b\u653e\u5728\u200b\u53e6\u200b\u4e00\u200b\u7ed3\u70b9\u200b\uff09\uff0c\u200b\u66f4\u65b0\u200b L \u200b\u7684\u200b\u7236\u200b\u7ed3\u70b9\u200b\u8ba9\u200b\u5b83\u200b\u5305\u542b\u200b middle key\u3002\u200b\u5c06\u200b\u6307\u5411\u200b L2 \u200b\u7684\u200b\u6307\u9488\u200b node* \u200b\u63d2\u5165\u200b\u5230\u200b L \u200b\u7684\u200b\u7236\u200b\u5143\u7d20\u200b\u4e2d\u200b\u3002  \uff08\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u662f\u200b\u4e2a\u200b\u9012\u5f52\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5411\u7236\u200b\u7ed3\u70b9\u200b\u63d2\u5165\u200b\u65f6\u200b\uff0c\u200b\u7236\u200b\u7ed3\u70b9\u200b\u53ef\u80fd\u200b\u4e5f\u200b\u6ca1\u6709\u200b\u7a7a\u95f4\u200b\uff0c\u200b\u6700\u540e\u200b\u53ef\u80fd\u200b\u91cd\u6784\u200b\u6574\u4e2a\u200b\u6811\u200b\uff09</li> </ul> </li> <li>\u200b\u82e5\u200b\u8981\u200b\u5206\u5272\u200b inner node\uff0c\u200b\u8bf7\u200b\u5747\u5300\u200b\u5730\u200b\u91cd\u65b0\u5206\u914d\u200b entries\uff0c\u200b\u5411\u4e0a\u200b push middle key\u3002</li> </ol> <p>\u200b\u53ef\u89c6\u5316\u200bB+\u200b\u6811\u200b\u7b97\u6cd5\u200b\uff1ahttps://cmudb.io/btree</p> <p></p>"},{"location":"db/cmu15445/L7/#\u5220\u9664","title":"\u5220\u9664","text":"<ol> <li>\u200b\u6839\u636e\u200b inner node \u200b\u627e\u5230\u200b\u6b63\u786e\u200b\u7684\u200bleaf node L\u3002</li> <li>\u200b\u5220\u9664\u200b\u5bf9\u5e94\u200b\u7684\u200b entry\uff1a<ul> <li>\u200b\u5982\u679c\u200b L \u200b\u81f3\u5c11\u200b\u662f\u200b\u534a\u6ee1\u200b\u7684\u200b\uff0c\u200b\u5219\u200b\u64cd\u4f5c\u200b\u5b8c\u6210\u200b\u3002</li> <li>\u200b\u5426\u5219\u200b\uff08L\u200b\u53ea\u6709\u200bM/2\u22121\u200b\u4e2a\u200b entry\uff09\uff0c\u200b\u5c1d\u8bd5\u200b\u91cd\u65b0\u5206\u914d\u200b\u2014\u2014\u200b\u4ece\u200b\u5144\u5f1f\u200b\u96c6\u7ed3\u200b\u70b9\u200b\u90a3\u513f\u200b\u501f\u200b\u5143\u7d20\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u518d\u200b\u5206\u914d\u200b\u5931\u8d25\u200b\uff0c\u200b\u5408\u5e76\u200b L \u200b\u548c\u200b\u5144\u5f1f\u200b\u7ed3\u70b9\u200b\u3002\uff08\u200b\u5408\u5e76\u200b\u540e\u200b\u7684\u200b\u7ed3\u70b9\u200b\u53ef\u80fd\u200b\u592a\u6ee1\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u62c6\u5206\u200b\uff09</li> </ul> </li> <li> <p>\u200b\u5982\u679c\u200b\u53d1\u751f\u200b\u5408\u5e76\u200b\uff0c\u200b\u5219\u200b\u5fc5\u987b\u200b\u5220\u9664\u200b\u7236\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u6307\u5411\u200b L \u200b\u7684\u200b entry\u3002</p> <p>\uff08\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u662f\u200b\u4e2a\u200b\u9012\u5f52\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u7236\u200b\u7ed3\u70b9\u200b\u5220\u9664\u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u8ba9\u200b\u7236\u200b\u7ed3\u70b9\u200b\u7684\u200bkey\u200b\u6570\u76ee\u200b\u5c0f\u4e8e\u200b\u534a\u6ee1\u200b\uff0c\u200b\u6700\u540e\u200b\u53ef\u80fd\u200b\u91cd\u6784\u200b\u6574\u4e2a\u200b\u6811\u200b\uff09</p> </li> </ol> <p></p>"},{"location":"db/cmu15445/L7/#\u67e5\u627e","title":"\u67e5\u627e","text":"<p>\u200b\u4f7f\u7528\u200bB+\u200b\u6811\u200b\u7684\u200b\u7d22\u5f15\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u4efb\u610f\u200b\u5c5e\u6027\u200b\u7684\u200b\u68c0\u7d22\u200b\uff08\u200b\u4e0d\u7528\u200b\u63d0\u4f9b\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b key\uff0c\u200b\u53ef\u4ee5\u200b\u53ea\u200b\u4f7f\u7528\u200b key \u200b\u7684\u200b\u90e8\u5206\u200b\u5185\u5bb9\u200b\u8fdb\u884c\u200b\u68c0\u7d22\u200b\uff09\u3002\ud83c\udf30 <code>index on &lt;a, b, c&gt;, supported: (a=5 AND b=3)</code></p> <p>\u200b\u8fd9\u200b\u5c31\u200b\u6bd4\u200b hash table \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u66f4\u4e3a\u200b\u4f18\u8d8a\u200b\u7684\u200b\u7684\u200b\u6027\u80fd\u200b\uff08hash table \u200b\u5fc5\u987b\u200b\u63d0\u4f9b\u200b\u5b8c\u6574\u200b\u7684\u200b key \u200b\u8fdb\u884c\u200b\u68c0\u7d22\u200b\uff09\u3002</p> <p></p>"},{"location":"db/cmu15445/L7/#\u805a\u96c6\u7d22\u5f15","title":"\u805a\u96c6\u200b\u7d22\u5f15","text":"<p>\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b table heap \u200b\u662f\u200b\u65e0\u5e8f\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u53ef\u4ee5\u200b\u4efb\u4f55\u200b\u987a\u5e8f\u200b\u5c06\u200b tuple \u200b\u63d2\u5165\u200b\u5230\u200b\u4efb\u4f55\u200b page\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b tuple \u200b\u6309\u7167\u200b\u4e3b\u952e\u200b\uff08primary key\uff09\u200b\u6392\u5e8f\u200b\u5b58\u50a8\u200b\uff0c\u200b\u53ef\u200b\u4f7f\u7528\u200b\u805a\u96c6\u200b\u7d22\u5f15\u200b\u3002</p> <p>\u200b\u805a\u96c6\u200b\u7d22\u5f15\u200b(clustered index)\uff1a\u200b\u4fdd\u8bc1\u200b page \u200b\u4e2d\u200b\u7684\u200b tuple \u200b\u6309\u7167\u200b primary key \u200b\u7684\u200b\u987a\u5e8f\u200b\u6392\u5e8f\u200b\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5feb\u901f\u200b\u7684\u200b\u62ff\u5230\u200b\u6570\u636e\u200b\u3002\uff08\u200b\u6839\u636e\u200b primary key \u200b\u5c31\u200b\u80fd\u200b\u5f97\u5230\u200b\u60f3\u8981\u200b\u7684\u200b tuple\uff0c\u200b\u5426\u5219\u200b\u901a\u8fc7\u200b key \u200b\u5f97\u5230\u200b record id \u200b\u53ef\u80fd\u200b\u6307\u5411\u200b\u53e6\u200b\u4e00\u4e2a\u200b page\uff0c\u200b\u5219\u200b\u8981\u200b\u8bfb\u200b\u5230\u200b\u60f3\u8981\u200b\u7684\u200b\u6570\u636e\u200b\u8fd8\u8981\u200b\u8fdb\u884c\u200b\u5927\u91cf\u200b\u968f\u673a\u200b I/O\uff09</p> <p>\u200b\u4e0d\u662f\u200b\u6240\u6709\u200b\u6570\u636e\u5e93\u200b\u90fd\u200b\u652f\u6301\u200b\u805a\u96c6\u200b\u7d22\u5f15\u200b\u3002MySQL \u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u805a\u96c6\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5c06\u200b tuple \u200b\u4fdd\u5b58\u200b\u5728\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\u4e0a\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u78c1\u76d8\u200b\u4e2d\u200b page \u200b\u7684\u200b tuple \u200b\u90fd\u200b\u6309\u7167\u200b\u4e3b\u952e\u200b\u987a\u5e8f\u200b\u6392\u5e8f\u200b\u3002\u200b\u82e5\u200b\u6ca1\u6709\u200b\u5b9a\u4e49\u200b\u4e3b\u952e\u200b\uff0cMySQL\u200b\u4f1a\u200b\u5e2e\u200b\u4f60\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\uff08\u200b\u4f7f\u7528\u200b row id \u200b\u6216\u8005\u200b record id \u200b\u4e4b\u7c7b\u200b\u7684\u200b\u4f5c\u4e3a\u200b\u4e3b\u952e\u200b\uff09\uff0c\u200b\u5bf9\u200b\u4f60\u200b\u800c\u8a00\u200b\uff0c\u200b\u8fd9\u662f\u200b\u900f\u660e\u200b\u7684\u200b\u3002</p>"},{"location":"db/cmu15445/L7/#btree-\u8bbe\u8ba1\u51c6\u5219","title":"B+Tree \u200b\u8bbe\u8ba1\u200b\u51c6\u5219","text":"<p>\u200b\u7ed3\u70b9\u200b\u5927\u5c0f\u200b\uff1a</p> <ul> <li>B+\u200b\u6811\u200b\u7684\u200b\u6700\u4f73\u200b\u7ed3\u70b9\u200b\u5927\u5c0f\u200b\u53d6\u51b3\u4e8e\u200b\u78c1\u76d8\u200b\u7684\u200b\u901f\u5ea6\u200b\u3002\u200b\u5176\u200b\u601d\u60f3\u200b\u662f\u200b\u901a\u8fc7\u200b\u5c3d\u53ef\u80fd\u200b\u591a\u200b\u7684\u200b key/value \u200b\u5bf9\u200b\uff0c\u200b\u5206\u644a\u200b\u5c06\u200b\u7ed3\u70b9\u200b\u4ece\u200b\u78c1\u76d8\u200b\u8bfb\u5165\u200b\u5185\u5b58\u200b\u7684\u200b\u6210\u672c\u200b\u3002\u200b\u78c1\u76d8\u200b\u901f\u5ea6\u200b\u8d8a\u6162\u200b\uff0c\u200b\u5219\u200b\u5e0c\u671b\u200b\u7ed3\u70b9\u200b size \u200b\u8d8a\u5927\u200b\uff1b\u200b\u82e5\u200b\u78c1\u76d8\u200b\u901f\u5ea6\u200b\u5f88\u5feb\u200b\u5219\u200b\u8df3\u200b\u5230\u200b\u4e0d\u540c\u200b\u8282\u70b9\u200b\u95f4\u200b\u968f\u673a\u200b I/O \u200b\u7684\u200b\u901f\u5ea6\u200b\u975e\u5e38\u200b\u5feb\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8282\u70b9\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b size\u3002</li> <li>\u200b\u6700\u4f73\u200b\u7ed3\u70b9\u200b\u5927\u5c0f\u200b\u8fd8\u200b\u53d6\u51b3\u4e8e\u200b\u6240\u200b\u8fdb\u884c\u200b\u7684\u200b\u64cd\u4f5c\u200b/\u200b\u67e5\u8be2\u200b\u3002\u200b\u82e5\u200b\u8fdb\u884c\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5faa\u5e8f\u200b\u626b\u63cf\u200b\uff0c\u200b\u5219\u200b\u66f4\u200b\u9002\u5408\u200b size \u200b\u66f4\u5927\u200b\u7684\u200b\u7ed3\u70b9\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u53ef\u200b\u8fdb\u884c\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5faa\u5e8f\u200b I/O\uff1b\u200b\u82e5\u200b\u8fdb\u884c\u200b Root-to-leaf \u200b\u7684\u200b\u67e5\u627e\u200b/\u200b\u904d\u5386\u200b\uff0c\u200b\u5219\u200b\u9700\u200b\u8fdb\u884c\u200b\u5927\u91cf\u200b\u7684\u200b\u968f\u673a\u200b I/O\uff0c\u200b\u5219\u200b\u66f4\u200b\u9002\u5408\u200b size \u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u7ed3\u70b9\u200b\u3002</li> </ul> <p>\u200b\u5408\u5e76\u200b\u4e34\u754c\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u5f53\u200b\u8282\u70b9\u200b\u6ca1\u6709\u200b\u8fbe\u5230\u200b\u534a\u6ee1\u200b\u72b6\u6001\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u53ef\u80fd\u200b\u5b9e\u9645\u4e0a\u200b\u4e0d\u200b\u9700\u8981\u200b\u7acb\u5373\u200b\u8fdb\u884c\u200b\u5408\u5e76\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u53ef\u80fd\u200b\u4e0b\u6b21\u200b\u64cd\u4f5c\u200b\u662f\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\uff0c\u200b\u4e4b\u524d\u200b\u505a\u200b\u4e86\u200b\u5408\u5e76\u200b\u73b0\u5728\u200b\u53c8\u200b\u62c6\u5f00\u6765\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u4f1a\u200b\u6709\u200b\u4ee3\u4ef7\u200b\uff0c\u200b\u5408\u5e76\u200b\u548c\u200b\u62c6\u5206\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u90fd\u200b\u5f88\u200b\u6602\u8d35\u200b\u3002</li> <li>\u200b\u4e00\u4e9b\u200b DBMS \u200b\u5728\u200b\u534a\u6ee1\u65f6\u200b\u5e76\u200b\u4e0d\u200b\u603b\u662f\u200b\u5408\u5e76\u200b\u3002\u200b\u5ef6\u8fdf\u200b\u5408\u5e76\u200b\u64cd\u4f5c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u51cf\u5c11\u200b\u91cd\u7ec4\u200b\u7684\u200b\u6570\u91cf\u200b\u3002</li> <li>\u200b\u7531\u4e8e\u200b merge \u200b\u64cd\u4f5c\u200b\u5f15\u8d77\u200b\u7684\u200b\u4fee\u6539\u200b\u8f83\u5927\u200b\uff0c\u200b\u6709\u4e9b\u200b DBMS \u200b\u9009\u62e9\u200b\u5ef6\u8fdf\u200b merge \u200b\u64cd\u4f5c\u200b\u7684\u200b\u53d1\u751f\u200b\u65f6\u95f4\u200b\uff0c\u200b\u751a\u81f3\u200b\u53ef\u4ee5\u200b\u5229\u7528\u200b\u5176\u5b83\u200b\u8fdb\u7a0b\u200b\u6765\u200b\u8d1f\u8d23\u200b\u5468\u671f\u6027\u5730\u200b\u91cd\u5efa\u200b table index\u3002</li> </ul> <p>\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u7684\u200b key\uff1a</p> <p>\u200b\u4e4b\u524d\u200b\u7684\u200b\u4ecb\u7ecd\u200b\u4e2d\u200b key \u200b\u548c\u200b value \u200b\u7684\u200b\u90fd\u200b\u662f\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u7684\u200b\uff0c\u200b\u5b9e\u6218\u200b\u4e2d\u200b value \u200b\u662f\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u7684\u200b\uff0c\u200b\u800c\u200b\u5982\u4f55\u200b\u5728\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u4fdd\u5b58\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u7684\u200b key\uff0c\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u76f8\u5e94\u200b\u7684\u200b\u89e3\u51b3\u200b\u65b9\u6cd5\u200b\uff1a</p> <ul> <li>\u200b\u6307\u9488\u200b\uff1a\u200b\u5c06\u200b key \u200b\u5b58\u50a8\u200b\u4e3a\u200b\u6307\u5411\u200b tuple \u200b\u5c5e\u6027\u200b\u7684\u200b\u6307\u9488\u200b\u3002\uff08\u200b\u5f88\u5c11\u200b\u4f7f\u7528\u200b\uff09</li> <li>\u200b\u53ef\u53d8\u200b\u957f\u5ea6\u200b\u7ed3\u70b9\u200b\uff1a\u200b\u5141\u8bb8\u200bB+\u200b\u6811\u4e2d\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5927\u5c0f\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u4f46\u200b\u9700\u8981\u200b\u4ed4\u7ec6\u200b\u8bb0\u5f55\u200b\u7ba1\u7406\u200b\u3002\uff08\u200b\u4e5f\u200b\u5f88\u5c11\u200b\u7528\u200b\uff09<ul> <li>\u200b\u8fd9\u200b\u5176\u5b9e\u200b\u662f\u200b\u4e2a\u200b bad idea\uff0c\u200b\u56e0\u4e3a\u200b\u5728\u200b Buffer pool \u200b\u548c\u200b\u78c1\u76d8\u200b\u4e2d\u200b page \u200b\u7684\u200b\u5927\u5c0f\u200b\u5e94\u8be5\u200b\u59cb\u7ec8\u4fdd\u6301\u200b\u4e00\u81f4\u200b\uff0c\u200b\u8fd9\u6837\u200b\u624d\u200b\u65e0\u987b\u200b\u62c5\u5fc3\u200b\u8be5\u200b\u5982\u4f55\u200b\u627e\u5230\u200b\u7a7a\u95f2\u200b\u7684\u200b\u7a7a\u95f4\u200b\u628a\u200b\u6570\u636e\u200b\u653e\u8fdb\u53bb\u200b\u3002</li> </ul> </li> <li>\u200b\u586b\u5145\u200b\uff08padding\uff09\uff1a\u200b\u4e0d\u7ba1\u200b\u662f\u200b\u4ec0\u4e48\u200b key\uff0c\u200b\u90fd\u200b\u4f7f\u7528\u200b null \u200b\u6216\u8005\u200b 0 \u200b\u5bf9\u200b\u5176\u200b\u586b\u5145\u200b\uff0c\u200b\u4ee5\u6b64\u200b\u6765\u200b\u9002\u5e94\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5927\u5c0f\u200b\u3002<ul> <li>\u200b\u867d\u7136\u200b\u6709\u200b\u4e00\u4e9b\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u91c7\u7528\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7136\u800c\u200b\u8fd9\u200b\u5b58\u5728\u200b trade-off\uff0c\u200b\u867d\u7136\u200b\u6570\u636e\u200b\u80fd\u200b\u4fdd\u5b58\u200b\uff0c\u200b\u4f46\u200b\u7a7a\u95f4\u200b\u88ab\u200b\u6d6a\u8d39\u200b\u6389\u200b\u4e86\u200b\uff0c\u200b\u8fd9\u200b\u4e5f\u200b\u662f\u200b\u4e3a\u4ec0\u4e48\u200b\u8bf4\u200b\u786e\u4fdd\u200b schema \u200b\u7684\u200b\u6b63\u786e\u200b\u5b9a\u4e49\u200b\u662f\u200b\u975e\u5e38\u200b\u91cd\u8981\u200b\u7684\u200b\uff08\u200b\u82e5\u200b\u67d0\u4e2a\u200b varchar \u200b\u5c5e\u6027\u200b\u6700\u5927\u200b\u9700\u8981\u200b50\u200b\u4e2a\u5b57\u7b26\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u8981\u200b\u5c06\u200b varchar \u200b\u5927\u5c0f\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b1024\uff0c\u200b\u8fd9\u200b\u5728\u200b\u586b\u5145\u200b\u65f6\u4f1a\u200b\u6d6a\u8d39\u200b\u5f88\u591a\u200b\u7a7a\u95f4\u200b\uff09\u3002</li> </ul> </li> <li>key \u200b\u95f4\u63a5\u200b\u6620\u5c04\u200b\uff1a\u200b\u5d4c\u5165\u200b\u4e00\u4e2a\u200bSorted Key Map \uff0c\u200b\u6620\u5c04\u200b\u5230\u200b node \u200b\u7ed3\u70b9\u200b\u5185\u200b\u7684\u200b Key+Value \u200b\u5217\u8868\u200b\u3002\u200b\u8fd9\u200b\u4e0e\u200b\u524d\u9762\u200b\u8ba8\u8bba\u200b\u7684\u200b slotted page \u200b\u7c7b\u4f3c\u200b\u3002\uff08\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff09   </li> <li>Sorted Key Map \u200b\u4e2d\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u6307\u9488\u200b\u6307\u5411\u200b\u8be5\u200b\u7ed3\u70b9\u200b\u4e2d\u200b key+value \u200b\u5217\u8868\u200b\u5bf9\u5e94\u200b\u7684\u200b offset \u200b\u503c\u200b\uff08\u200b\u5373\u200b\u6307\u5411\u200b\u5f53\u524d\u200b page\uff09\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6307\u5411\u200b\u5176\u4ed6\u200b\u4efb\u4f55\u200b page\u3002</li> <li>Key+Value \u200b\u5217\u8868\u200b\u4ece\u540e\u200b\u5f80\u524d\u200b\u5b58\u50a8\u200b\uff0cSorted Key Map \u200b\u4ece\u524d\u200b\u5f80\u540e\u200b\u5b58\u50a8\u200b\u3002\u200b\u82e5\u8be5\u200b\u7ed3\u70b9\u200b\u6ca1\u6709\u200b\u8db3\u591f\u200b\u7684\u200b\u7a7a\u95f4\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\uff0c\u200b\u5219\u200b\u53ef\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b overflow page \u200b\u63a5\u7740\u200b\u5b58\u200b\u3002</li> <li> <p>\u200b\u4f18\u5316\u200b\u6b64\u200b\u67e5\u627e\u200b\uff1a\u200b\u5c06\u200b\u6bcf\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u9996\u5b57\u6bcd\u200b\u653e\u5728\u200b Sorted Key Map \u200b\u4e2d\u200b\uff0c\u200b\u5728\u200b\u67e5\u627e\u200b\u65f6\u200b\uff0c\u200b\u82e5\u200b key \u200b\u65e0\u6cd5\u200b\u4e0e\u200b\u8fd9\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u51c6\u786e\u200b\u5339\u914d\u200b\uff0c\u200b\u5219\u200b\u65e0\u9700\u200b\u7ee7\u7eed\u200b\u6839\u636e\u200b offset \u200b\u627e\u5230\u200b\u5bf9\u5e94\u200b\u5b8c\u6574\u200b key \u200b\u4e86\u200b\u3002</p> <p>Warning</p> <p>\u200b\u8fd9\u4e2a\u200b\u4f18\u5316\u200b\u90fd\u200b\u662f\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u505a\u200b\u7684\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b cache miss\uff0c\u200b\u540c\u65f6\u200b\u8ba9\u200b\u4e8c\u5206\u200b\u67e5\u627e\u200b\u6216\u200b\u5176\u4ed6\u200b\u67e5\u627e\u200b\u53d8\u5f97\u200b\u66f4\u200b\u5feb\u200b</p> </li> </ul> <p>\u200b\u975e\u200b\u552f\u4e00\u200b\u7d22\u5f15\u200b\uff1a </p> <ul> <li>Duplicate Keys\uff1a\u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u7684\u200b\u53f6\u200b\u7ed3\u70b9\u200b\u5e03\u5c40\u200b\uff0c\u200b\u4f46\u200b\u5b58\u50a8\u200b Duplicate Keys \u200b\u591a\u6b21\u200b\u3002\uff08\u200b\u66f4\u200b\u5e38\u7528\u200b\uff09</li> <li>Value Lists\uff1a\u200b\u6bcf\u4e2a\u200b\u952e\u200bkey\u200b\u5b58\u50a8\u200b\u4e00\u6b21\u200b\uff0c\u200b\u5e76\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200bvalue\u200b\u7684\u200b\u94fe\u8868\u200b\u3002</li> </ul> <p>\u200b\u7ed3\u70b9\u200b\u5185\u200b\u641c\u7d22\u200b\u65b9\u5f0f\u200b\uff1a</p> <ul> <li>Linear\uff1a\u200b\u4ece\u5934\u5230\u5c3e\u200b\u626b\u63cf\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u7684\u200b key/value \u200b\u9879\u200b\u3002\u200b\u627e\u5230\u200b\u8981\u200b\u627e\u200b\u7684\u200b key \u200b\u5c31\u200b\u505c\u4e0b\u6765\u200b\u3002\u200b\u8fd9\u200b\u5e76\u4e0d\u9700\u8981\u200b\u5bf9\u200b key/value \u200b\u9879\u200b\u7684\u200b entries \u200b\u8fdb\u884c\u200b\u9884\u5148\u200b\u6392\u5e8f\u200b\u3002   </li> <li>Binary\uff1a\u200b\u8df3\u200b\u5230\u200b middle key\uff0c\u200b\u7136\u540e\u200b\u6bd4\u8f83\u200b search key \u200b\u4e0e\u200b middle key \u200b\u7684\u200b\u5927\u5c0f\u200b\u51b3\u5b9a\u200b\u5411\u200b\u5de6\u200b\u8fd8\u662f\u200b\u5411\u53f3\u8d70\u200b\u3002\u200b\u8fd9\u200b\u9700\u8981\u200b\u5bf9\u200b key/value \u200b\u9879\u200b\u7684\u200b entries \u200b\u8fdb\u884c\u200b\u9884\u5148\u200b\u6392\u5e8f\u200b\u3002   </li> <li>interpolation\uff1a\u200b\u6839\u636e\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u5df2\u77e5\u200b\u7684\u200b low/high key\u200b\u503c\u200b\uff08key\u200b\u7684\u200b\u5206\u5e03\u200b\u4fe1\u606f\u200b\uff09\uff0c\u200b\u901a\u8fc7\u200b\u6570\u5b66\u65b9\u6cd5\u200b\u8fd1\u4f3c\u200b search key \u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u7136\u540e\u200b\u4ece\u200b\u8be5\u200b\u4f4d\u7f6e\u200b\u8fdb\u884c\u200b\u7ebf\u6027\u200b\u626b\u63cf\u200b\u3002\u200b\u8fd9\u200b\u9700\u8981\u200b\u5bf9\u200b key/value \u200b\u9879\u200b\u7684\u200b entries \u200b\u8fdb\u884c\u200b\u9884\u5148\u200b\u6392\u5e8f\u200b\u3002      \u200b\u6b64\u5904\u200b\uff0c\u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\u89c4\u5f8b\u200b\u662f\u200b\u5355\u8c03\u200b\u9012\u589e\u200b\uff0c\u200b\u6570\u7ec4\u200b\u4e2d\u5171\u200b\u6709\u200b 7 \u200b\u4e2a\u200bkey\uff0ckey \u200b\u7684\u200b\u6700\u5927\u503c\u200b\u662f\u200b 10\uff0c\u200b\u5219\u200b\u8981\u200b\u627e\u200b 8 \u200b\u65f6\u200b\u53ef\u7528\u200b\u4ee5\u4e0a\u200b\u516c\u5f0f\u200b\u3002\u200b\u4f46\u662f\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\uff0c\u200b\u4e0d\u9002\u200b\u7528\u4e8e\u200b\u6d6e\u70b9\u6570\u200b\u548c\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u67e5\u627e\u200b\u3002</li> </ul>"},{"location":"db/cmu15445/L7/#btree-\u4f18\u5316","title":"B+Tree \u200b\u4f18\u5316","text":""},{"location":"db/cmu15445/L7/#\u524d\u7f00\u538b\u7f29","title":"\u524d\u7f00\u200b\u538b\u7f29","text":"<p>Warning</p> <p>\u200b\u524d\u7f00\u200b\u538b\u7f29\u200b\u57fa\u4e8e\u200b key \u200b\u90fd\u200b\u662f\u200b\u6709\u5e8f\u200b\u6392\u5217\u200b\u3002</p> <p></p> <ul> <li>\u200b\u540c\u4e00\u200b\u53f6\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u7684\u200b\u6392\u5e8f\u200b\u7684\u200b key \u200b\u5f88\u200b\u53ef\u80fd\u200b\u5177\u6709\u200b\u76f8\u540c\u200b\u7684\u200b\u524d\u7f00\u200b\u3002</li> <li>\u200b\u6bcf\u6b21\u200b\u4e0d\u200b\u5b58\u50a8\u200b\u6574\u4e2a\u200bkey\uff0c\u200b\u800c\u662f\u200b\u63d0\u53d6\u200b\u516c\u5171\u200b\u524d\u7f00\u200b\uff0c\u200b\u53ea\u200b\u5b58\u50a8\u200b\u6bcf\u4e2a\u200bkey\u200b\u7684\u200b\u552f\u4e00\u200b\u540e\u7f00\u200b\u3002</li> </ul> <p>\u200b\u8fd9\u4e2a\u200b\u4f18\u5316\u200b\u4f1a\u200b\u5f15\u8d77\u200b\u6027\u80fd\u200b\u4e0a\u200b\u7684\u200b\u5de8\u5927\u200b\u5dee\u5f02\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u6837\u200b\u505a\u200b\u8282\u7701\u200b\u4e86\u200b\u5927\u91cf\u200b\u7684\u200b\u7a7a\u95f4\u200b\uff08\u200b\u5728\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\uff0c\u200b\u91cd\u590d\u200b\u7684\u200b\u6570\u636e\u200b\u5b9e\u5728\u200b\u662f\u200b\u592a\u200b\u591a\u200b\u4e86\u200b\uff09</p> <p>\u200b\u53e6\u200b\u4e00\u79cd\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u4f18\u5316\u200b\u662f\u200b\u5728\u200b \u200b\u805a\u7c07\u200b\u7d22\u5f15\u200b \u200b\u4e2d\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6240\u6709\u200b\u7684\u200b tuple \u200b\u90fd\u200b\u653e\u5728\u200b\u78c1\u76d8\u200b\u6216\u8005\u200b page \u200b\u4e2d\u200b\uff0c\u200b\u4e14\u200b\u5728\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u5b83\u4eec\u200b\u662f\u200b\u4ee5\u200b\u6392\u5e8f\u200b\u5b58\u5728\u200b\u7684\u200b\uff0c\u200b\u90a3\u4e48\u200b tuple \u200b\u6709\u200b\u53ef\u80fd\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u4e0a\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b record ID \u200b\u4f1a\u200b\u4f7f\u7528\u200b\u76f8\u540c\u200b\u7684\u200b page ID\uff0c\u200b\u8fd9\u65f6\u200b\u4e5f\u200b\u6ca1\u200b\u5fc5\u8981\u200b\u628a\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5355\u4e2a\u200b tuple \u200b\u7684\u200b page ID \u200b\u53cd\u590d\u200b\u5b58\u653e\u200b\u5728\u200b\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\uff0c\u200b\u800c\u662f\u200b\u53ea\u200b\u4fdd\u5b58\u200b\u4e00\u6b21\u200b page ID\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u5b83\u4eec\u200b\u7684\u200b offset \u200b\u503c\u200b\u6216\u8005\u200b slot \u200b\u5206\u5f00\u200b\u5b58\u653e\u200b\u3002</p>"},{"location":"db/cmu15445/L7/#\u540e\u7f00\u622a\u65ad","title":"\u540e\u7f00\u200b\u622a\u65ad","text":"<ul> <li>inner node \u200b\u7684\u200b key \u200b\u53ea\u200b\u7528\u4e8e\u200b\u5224\u65ad\u200b\u5f80\u200b\u54ea\u4e2a\u200b\u65b9\u5411\u200b\u8d70\u200b\uff0c\u200b\u56e0\u6b64\u200b\u65e0\u9700\u200b\u5b58\u50a8\u200b\u6574\u4e2a\u200b key\uff0c\u200b\u53ea\u200b\u9700\u200b\u5b58\u50a8\u200b\u80fd\u200b\u533a\u5206\u200b key \u200b\u7684\u200b\u6700\u5c0f\u200b\u524d\u7f00\u200b\uff0c\u200b\u5176\u4ed6\u200b\u540e\u7f00\u200b\u90fd\u200b\u629b\u5f03\u200b\u3002</li> <li>\u200b\u5728\u200b leaf node \u200b\u4e2d\u200b\u4ecd\u7136\u200b\u8981\u200b\u5b58\u50a8\u200b\u6574\u4e2a\u200b key\uff0c\u200b\u7528\u4e8e\u200b\u5224\u65ad\u200b\u771f\u6b63\u200b\u627e\u5230\u200b\u4e86\u200b\u8fd9\u4e2a\u200b key\uff0c\u200b\u4f46\u200b\u5728\u200b inner node \u200b\u4e2d\u200b\u65e0\u9700\u200b\u4fdd\u5b58\u200b\u5b8c\u6574\u200b\u7684\u200b key \u200b\u7528\u4e8e\u200b\u5f53\u505a\u200b\u8def\u6807\u200b\u3002</li> </ul> <p>\u200b\u524d\u7f00\u200b\u538b\u7f29\u6bd4\u200b\u540e\u7f00\u200b\u622a\u65ad\u200b\u66f4\u200b\u5e38\u7528\u200b\u3002</p>"},{"location":"db/cmu15445/L7/#\u6279\u91cf\u63d2\u5165","title":"\u6279\u91cf\u200b\u63d2\u5165","text":"<p>Info</p> <p>\u200b\u4ece\u5934\u5f00\u59cb\u200b\u6784\u5efa\u200bB+\u200b\u6811\u200b\u7684\u200b\u6700\u5feb\u200b\u65b9\u6cd5\u200b\u662f\u200b\uff08\u200b\u6279\u91cf\u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b\uff09\u200b\u5148\u5bf9\u200b\u6240\u6709\u200b key \u200b\u6392\u5e8f\u200b\uff0c\u200b\u7136\u540e\u200b\u4ece\u200b\u4e0b\u200b\u5f80\u200b\u4e0a\u200b\u6784\u5efa\u200b\u7d22\u5f15\u200b\u3002\u200b\u8fd9\u200b\u5c06\u200b\u6bd4\u200b\u9010\u4e2a\u200b\u63d2\u5165\u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u662f\u200b\u81ea\u4e0b\u800c\u4e0a\u200b\u53bb\u200b\u6784\u5efa\u200b\u6811\u200b\u4e0d\u662f\u200b\u81ea\u4e0a\u800c\u4e0b\u200b\uff0c\u200b\u5219\u200b\u6ca1\u6709\u200b\u5206\u5272\u200b\u6216\u200b\u5408\u5e76\u200b\u3002</p> <p>\u200b\u5b9e\u73b0\u200b\u65b9\u6cd5\u200b\uff1a</p> <p></p> <ul> <li>\u200b\u5148\u5bf9\u200b key \u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u5b83\u4eec\u200b\u6392\u5217\u200b\u5728\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u4e0a\u200b\uff0c\u200b\u6b63\u786e\u200b\u5730\u200b\u586b\u5165\u200b\u5230\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u7136\u540e\u200b\u81ea\u4e0b\u800c\u4e0a\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u4e2d\u95f4\u200b key \u200b\u6765\u200b\u586b\u5145\u200b inner node\uff0c\u200b\u5e76\u200b\u751f\u6210\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6307\u9488\u200b\u3002</li> </ul> <p>\u200b\u6279\u91cf\u200b\u63d2\u5165\u200b\u662f\u200b\u4efb\u4f55\u200b\u4e3b\u6d41\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u90fd\u200b\u652f\u6301\u200b\u7684\u200b\u4e00\u79cd\u200b\u6807\u51c6\u200b\u6280\u672f\u200b\uff0c\u200b\u6784\u5efa\u200b\u7d22\u5f15\u200b\u7684\u200b\u901f\u5ea6\u200b\u975e\u5e38\u200b\u5feb\u200b\u3002</p>"},{"location":"db/cmu15445/L7/#pointer-swizzling","title":"Pointer Swizzling","text":"<p>\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u5728\u200b\u6570\u636e\u5e93\u200b\u5b9e\u73b0\u200b\u7684\u200b B+ Tree \u200b\u4e2d\u200b\uff0c\u200b\u8282\u70b9\u200b\u4fdd\u5b58\u200b\u7684\u200b\u6307\u9488\u200b\u5e76\u200b\u4e0d\u662f\u200b\u539f\u59cb\u200b\u7684\u200b\u5185\u5b58\u200b\u6307\u9488\u200b\uff0c\u200b\u800c\u662f\u200b page id\u3002</p> <p>\u200b\u6bd4\u5982\u200b\u67e5\u627e\u200b key &gt; 3 \u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u5728\u200b\u6839\u200b\u8282\u70b9\u200b\u5904\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u4e86\u200b\u8be5\u200b\u7d22\u5f15\u200b\u7684\u200b page id\u3002\u200b\u7136\u540e\u200b\u9700\u8981\u200b\u5230\u200b\u7684\u200b Buffer Pool \u200b\u4e2d\u200b\u627e\u200b page # 2\uff08\u200b\u5982\u679c\u200b\u5b83\u200b\u4e0d\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff0c Buffer Pool \u200b\u9700\u5c06\u200b\u5b83\u200b\u52a0\u8f7d\u200b\u8fdb\u200b\u5185\u5b58\u200b\uff09\uff0c\u200b\u6700\u7ec8\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u6307\u5411\u200b\u5b83\u200b\u7684\u200b\u6307\u9488\u200b\u3002\u200b\u62ff\u5230\u200b\u6307\u9488\u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u8be5\u200b\u7ed3\u70b9\u200b\u8fdb\u884c\u200b\u904d\u5386\u200b\u3002\u200b\u5bf9\u200b\u5144\u5f1f\u200b\u7ed3\u70b9\u200b\u7684\u200b\u904d\u5386\u200b\u540c\u7406\u200b\uff0c\u200b\u4e5f\u8bb8\u200b\u5230\u200bBuffer Pool \u200b\u4e2d\u200b\u627e\u200b page # 3\uff0c\u200b\u5f97\u5230\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6307\u9488\u200b\u3002</p> <p></p> <p>\u200b\u4f46\u200b\u8fd9\u6837\u200b\u505a\u200b\u7684\u200b\u4ee3\u4ef7\u200b\u5f88\u200b\u9ad8\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5fc5\u987b\u200b\u4f7f\u7528\u200b latch \u200b\u6765\u200b\u4fdd\u62a4\u200b Buffer \u200b\u6c60\u4e2d\u200b\u7684\u200b hash \u200b\u8868\u200b\uff0c\u200b\u8981\u82b1\u200b\u5f88\u591a\u200b\u6b65\u9aa4\u200b\u624d\u80fd\u200b\u62ff\u5230\u200b\u8fd9\u4e2a\u200b\u6307\u9488\u200b\u3002</p> <p>\u200b\u6240\u4ee5\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u4e0a\u8ff0\u200b\u95ee\u9898\u200b\uff0cpointer swizzling \u200b\u7684\u200b\u601d\u8def\u200b\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u200b\u77e5\u9053\u200b\u6240\u6709\u200b\u56fa\u5b9a\u200b\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b page\uff0c\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u6211\u200b\u77e5\u9053\u200b\u4ed6\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u88ab\u200b\u79fb\u9664\u200b\uff0c\u200b\u90a3\u200b\u6211\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u5c31\u200b\u4e0d\u7528\u200b\u4fdd\u5b58\u200b page id\uff0c\u200b\u800c\u662f\u200b\u76f4\u63a5\u200b\u4fdd\u5b58\u200b page \u200b\u6307\u9488\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e0d\u7528\u200b\u8bbf\u95ee\u200b Buffer Pool\uff0c\u200b\u4e5f\u200b\u4f1a\u200b\u907f\u514d\u200b\u4e0a\u9762\u200b\u7684\u200b\u4e00\u4e9b\u200b\u95ee\u9898\u200b\u3002</p> <p></p> <p>Warning</p> <p>\u200b\u8fd9\u987b\u200b\u786e\u4fdd\u200b\u82e5\u8be5\u200b page \u200b\u88ab\u200b\u4ece\u200b\u5185\u5b58\u200b\u4e2d\u200b\u79fb\u9664\u200b\uff0c\u200b\u5373\u8be5\u200b page \u200b\u9700\u5199\u200b\u5230\u200b\u78c1\u76d8\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u518d\u200b\u80fd\u200b\u4fdd\u5b58\u200b page \u200b\u6307\u9488\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5f53\u8be5\u200b page \u200b\u88ab\u200b\u91cd\u65b0\u200b\u653e\u5165\u200b\u5185\u5b58\u200b\u65f6\u200b\uff0c\u200b\u5176\u200b\u5730\u5740\u200b\u4f1a\u200b\u6539\u53d8\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u6811\u200b\u7684\u200b\u4e0a\u5c42\u200b\u90e8\u5206\u200b\uff0c\u200b\u6bd4\u5982\u200b\u6839\u200b\u8282\u70b9\u200b\u6216\u8005\u200b\u662f\u200b\u6811\u200b\u7684\u200b\u7b2c\u4e8c\u5c42\u200b\u5904\u200b\u7684\u200b\u8282\u70b9\u200b\uff0c\u200b\u5b83\u4eec\u200b\u7684\u200b\u4f7f\u7528\u200b\u9891\u7387\u200b\u90fd\u200b\u975e\u5e38\u200b\u9ad8\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u90fd\u200b\u9700\u8981\u200b\u7ecf\u8fc7\u200b\u5b83\u4eec\u200b\u624d\u80fd\u200b\u8bbf\u95ee\u200b\u5230\u200b\u4e0b\u200b\u4e00\u7ea7\u200b\u7684\u200b\u8282\u70b9\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u4e0a\u5c42\u200b\u8282\u70b9\u200b\u6570\u636e\u200b\u5bf9\u5e94\u200b\u7684\u200b page \u200b\u56fa\u5b9a\u200b\u4f4f\u200b\u53ef\u80fd\u200b\u5e76\u200b\u6ca1\u6709\u200b\u4ec0\u4e48\u200b\u5927\u200b\u95ee\u9898\u200b\uff0c\u200b\u6bd4\u8d77\u200b\u6574\u4e2a\u200b\u6811\u200b\u7684\u200b size \u200b\u6765\u8bb2\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u4e0a\u5c42\u200b\u8282\u70b9\u200b\u6240\u200b\u5360\u200b\u7684\u200b\u4f53\u79ef\u200b\u8fd8\u662f\u200b\u6bd4\u8f83\u200b\u5c0f\u200b\u7684\u200b\u3002\u200b\u90a3\u4e48\u200b\u9488\u5bf9\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\u4f18\u5316\u200b\u7b56\u7565\u200b\uff0c\u200b\u56e0\u4e3a\u200b page \u200b\u56fa\u5b9a\u200b\uff0c\u200b\u6307\u9488\u200b\u59cb\u7ec8\u200b\u6709\u6548\u200b\u3002</p> <p>Pointer Swizzling \u200b\u5b9e\u9645\u4e0a\u200b\u975e\u5e38\u200b\u666e\u904d\u200b\uff0c\u200b\u5f88\u591a\u200b\u4e3b\u6d41\u200b\u6570\u636e\u5e93\u7cfb\u7edf\u200b\u4e2d\u200b\u90fd\u200b\u4f7f\u7528\u200b Pointer Swizzling\u3002</p>"},{"location":"db/cmu15445/L8/","title":"Trees Indexes II","text":"<p> \u200b\u7ea6\u200b 2586 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 9 \u200b\u5206\u949f\u200b</p>"},{"location":"db/cmu15445/L8/#additional-index-usage","title":"Additional Index Usage","text":"<p>\u200b\u9690\u5f0f\u200b\u7d22\u5f15\u200b\uff1a\u200b\u5927\u591a\u6570\u200b DBMS \u200b\u5c06\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b\u6765\u200b\u5f3a\u5236\u6267\u884c\u200b\u5b8c\u6574\u6027\u200b\u7ea6\u675f\u200b\uff08Eg: \u200b\u4e3b\u952e\u200b\u3001\u200b\u552f\u4e00\u6027\u200b\u7ea6\u675f\u200b\uff09\uff0c\u200b\u9664\u4e86\u200b\u53c2\u7167\u200b\u6027\u200b\u7ea6\u675f\u200b\uff08\u200b\u5916\u952e\u200b\uff09\u3002</p> <ul> <li>\u200b\u5f53\u200b\u58f0\u660e\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u6027\u200b\u7ea6\u675f\u200b\u65f6\u200b\uff0cDBMS\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u7d22\u5f15\u200b\u3002 \u200b\u5426\u5219\u200b\u552f\u4e00\u200b\u80fd\u200b\u6267\u884c\u200b\u8be5\u200b\u5b8c\u6574\u6027\u200b\u7ea6\u675f\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5c31\u662f\u200b\u5faa\u5e8f\u200b\u626b\u63cf\u200b\u3002\ud83c\udf30 \u200b\u82e5\u200b\u8981\u200b\u4fdd\u8bc1\u200b\u4e3b\u952e\u200b\u7684\u200b\u552f\u4e00\u6027\u200b\uff0c\u200b\u82e5\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u7d22\u5f15\u200b\uff0c\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\u65f6\u200b\u5fc5\u987b\u200b\u626b\u63cf\u200b\u6bcf\u4e2a\u200b tuple \u200b\u6765\u200b\u4fdd\u8bc1\u200b\u6240\u6709\u200b tuple \u200b\u7684\u200b key \u200b\u90fd\u200b\u4e0d\u540c\u200b\u3002</li> <li>\u200b\u6240\u6709\u200bDBMS\u200b\u90fd\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u4e3a\u4e3b\u200b\u952e\u200b\u505a\u200b\u552f\u4e00\u6027\u200b\u7ea6\u675f\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b\u3002\u200b\u4f46\u200b \u200b\u5bf9\u200b\u53c2\u7167\u200b\u5b8c\u6574\u6027\u200b\u7ea6\u675f\u200b\uff08\u200b\u5916\u952e\u200b\uff09\uff0c\u200b\u5219\u200b\u4e0d\u4f1a\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b\u3002</li> </ul> <p></p> <p>\u200b\u90e8\u5206\u200b\u7d22\u5f15\u200b\uff1a\u200b\u5728\u200b\u6574\u4e2a\u200b\u8868\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b50\u96c6\u200b\u4e0a\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b\u3002\u200b\u8fd9\u200b\u6f5c\u5728\u5730\u200b\u51cf\u5c11\u200b\u4e86\u200b\u89c4\u6a21\u200b\u548c\u200b\u7ef4\u62a4\u200b\u5b83\u200b\u7684\u200b\u5f00\u9500\u200b\u3002</p> <ul> <li>\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u975e\u5e38\u200b\u5e38\u89c1\u200b \ud83c\udf30 \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4e0d\u540c\u200b\u7d22\u5f15\u200b\u5c06\u200b\u4e0d\u540c\u200b\u65e5\u671f\u200b\u8303\u56f4\u200b\u7684\u200b\u6570\u636e\u200b\u5206\u5f00\u200b\uff0c\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u6708\u4efd\u200b\u4e0a\u200b\u5efa\u7acb\u200b\u7d22\u5f15\u200b\uff0c\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u4ee5\u200b\u60f3\u8981\u200b\u7684\u200b\u987a\u5e8f\u200b\u5728\u200b\u8be5\u200b\u6708\u4efd\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u5feb\u901f\u200b\u67e5\u627e\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u90e8\u5206\u200b\u7d22\u5f15\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u4e00\u5806\u200b\u4e0d\u200b\u9700\u8981\u200b\u7684\u200b\u6570\u636e\u200b\u53bb\u200b\u6c61\u67d3\u200b Buffer Pool\uff0c\u200b\u540c\u65f6\u200b\u6811\u200b\u7684\u200b\u9ad8\u5ea6\u200b\u4e5f\u200b\u4f1a\u200b\u53d8\u5f97\u200b\u66f4\u200b\u4f4e\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u6709\u5229\u4e8e\u200b\u66f4\u5feb\u200b\u7684\u200b\u67e5\u627e\u200b\u3002</li> </ul> <p></p> <p>\u200b\u8986\u76d6\u200b\u7d22\u5f15\u200b\uff1a\u200b\u82e5\u200b\u5904\u7406\u200b\u67e5\u8be2\u200b\u6240\u200b\u9700\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u90fd\u200b\u80fd\u200b\u5728\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u83b7\u53d6\u200b\uff0c\u200b\u5219\u200b DBMS \u200b\u65e0\u9700\u200b\u518d\u200b\u68c0\u7d22\u200b tuple\u3002DBMS \u200b\u53ef\u200b\u76f4\u63a5\u200b\u6839\u636e\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u53ef\u7528\u200b\u7684\u200b\u6570\u636e\u200b\u5b8c\u6210\u200b\u6574\u4e2a\u200b\u67e5\u8be2\u200b\u3002</p> <ul> <li>\u200b\u8fd9\u200b\u51cf\u5c11\u200b\u4e86\u200b\u5bf9\u200b Buffer Pool \u200b\u8d44\u6e90\u200b\u7684\u200b\u4e89\u7528\u200b\u3002</li> <li>\u200b\u65e0\u9700\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u7d22\u5f15\u200b\u58f0\u660e\u200b\u4e3a\u200b\u8986\u76d6\u200b\u7d22\u5f15\u200b\uff0cDBMS \u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5e2e\u200b\u4f60\u200b\u505a\u200b\u8fd9\u4ef6\u200b\u4e8b\u200b\u3002</li> <li>\ud83d\udc46\u200b\u8fd9\u4e2a\u200b\u67e5\u8be2\u200b\u5c31\u662f\u200b\u4e2a\u200b\u8986\u76d6\u200b\u7d22\u5f15\u200b\uff0c\u200b\u56e0\u4e3a\u200b idx_foo \u200b\u7d22\u5f15\u200b\u6709\u200ba\u3001b\u200b\u5c5e\u6027\u200b\uff0c\u200b\u67e5\u8be2\u200b\u53ea\u60f3\u200b\u83b7\u5f97\u200bb\u200b\u5c5e\u6027\u200b\uff0c\u200b\u5219\u200b\u53ef\u200b\u76f4\u63a5\u200b\u4ece\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u83b7\u53d6\u200b\uff0c\u200b\u800c\u200b\u65e0\u9700\u200b\u901a\u8fc7\u200b\u7d22\u5f15\u200b\u5f97\u5230\u200b record id \u200b\u518d\u200b\u53bb\u200b Buffer Pool \u200b\u4e2d\u200b\u83b7\u53d6\u200b\u5bf9\u5e94\u200b\u7684\u200b tuple \u200b\u518d\u200b\u5f97\u5230\u200b b\uff08\u200b\u53ef\u80fd\u200b\u591a\u200b\u4e00\u6b21\u200b\u78c1\u76d8\u200bI/O\uff09\u3002</li> </ul> <p>\u200b\u7d22\u5f15\u200b\u5305\u542b\u200b\u5217\u200b\uff1a\u200b\u5728\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u5d4c\u5165\u200b\u989d\u5916\u200b\u7684\u200b\u5217\u4ee5\u200b\u652f\u6301\u200b\u4ec5\u200b\u7d22\u5f15\u200b\u7684\u200b\u67e5\u8be2\u200b\u3002\u200b\u989d\u5916\u200b\u7684\u200b\u5c5e\u6027\u200b\u53ea\u200b\u4fdd\u5b58\u200b\u5728\u200b leaf node\uff0c\u200b\u4e0d\u4f1a\u200b\u4fdd\u5b58\u200b\u5728\u200b inner node\uff0cinner node \u200b\u4ecd\u200b\u53ea\u6709\u200b search key \u200b\u9700\u8981\u200b\u7684\u200b\u5c5e\u6027\u200b\u3002</p> <ul> <li>\u200b\u56e0\u4e3a\u200b\u989d\u5916\u200b\u7684\u200b\u5c5e\u6027\u200b\u4e0d\u200b\u5728\u200b inner node \u200b\u4e2d\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4e0d\u4f1a\u200b\u8ba9\u200b\u7d22\u5f15\u200b\u6574\u4f53\u200b\u7684\u200b size \u200b\u53d8\u5f97\u200b\u5f88\u5927\u200b\u3002</li> </ul> <p></p> <p>\u200b\u51fd\u6570\u200b/\u200b\u8868\u8fbe\u5f0f\u200b\u7d22\u5f15\u200b\uff1a\u200b\u5c06\u200b\u51fd\u6570\u200b\u6216\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b\u8f93\u51fa\u200b\u5b58\u50a8\u200b\u4e3a\u200b key\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u539f\u59cb\u200b\u503c\u200b\u3002\u200b\u5373\u200b\u901a\u8fc7\u200b key \u200b\u884d\u751f\u200b\u51fa\u6765\u200b\u7684\u200b\u67d0\u4e9b\u200b\u503c\u200b\u800c\u200b\u4e0d\u662f\u200b\u901a\u8fc7\u200b key \u200b\u81ea\u8eab\u200b\u7684\u200b\u503c\u6765\u200b\u8fdb\u884c\u200b\u67e5\u627e\u200b\u3002</p> <ul> <li>\u200b\u8bc6\u522b\u200b\u54ea\u4e9b\u200b\u67e5\u8be2\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8be5\u200b\u7d22\u5f15\u200b\u662f\u200b DBMS \u200b\u7684\u200b\u5de5\u4f5c\u200b\u3002</li> </ul> <p></p> <p>Info</p> <p>\u200b\u6240\u6709\u200bDBMS\u200b\u652f\u6301\u200b\u9690\u5f0f\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5927\u90e8\u5206\u200b\u652f\u6301\u200b\u90e8\u5206\u200b\u7d22\u5f15\u200b\uff0c\u200b\u4e00\u90e8\u5206\u200b\u652f\u6301\u200b\u8986\u76d6\u200b\u7d22\u5f15\u200b\uff0c\u200b\u652f\u6301\u200b\u7d22\u5f15\u200b\u5305\u542b\u200b\u5217\u200b\u7684\u200b\u66f4\u5c11\u200b\u3002</p> <p>\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b\u540e\u200b\uff0cDBMS\u200b\u53ef\u4ee5\u200b\u81ea\u5df1\u200b\u4ece\u200b\u4e0d\u540c\u200b\u7684\u200b\u5404\u79cd\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u627e\u5230\u200b\u6700\u597d\u200b\u7684\u200b\u8bbf\u95ee\u200b\u65b9\u6cd5\u200b\u5e76\u200b\u4f7f\u7528\u200b\u3002</p> <p>\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b\u65f6\u200b\uff0cDBMS\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b B+tree\uff0c\u200b\u9664\u975e\u200b\u5f3a\u5236\u200b\u6307\u5b9a\u200b\u7d22\u5f15\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6bd4\u5982\u200b Hash Table\u3002</p>"},{"location":"db/cmu15445/L8/#radix-tree","title":"Radix Tree","text":"<p>Warning</p> <p>B+\u200b\u6811\u200b\u5b58\u5728\u200b\u7684\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>B+\u200b\u6811\u4e2d\u200b key \u200b\u4f1a\u200b\u88ab\u200b\u591a\u6b21\u200b\u590d\u5236\u200b\uff0c\u200b\u8981\u200b\u5224\u65ad\u200b\u67d0\u4e2a\u200bkey\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u4e8e\u8868\u4e2d\u200b\uff0c\u200b\u5fc5\u987b\u200b\u904d\u5386\u200b\u5230\u200b leaf node\u3002\u200b\u56e0\u4e3a\u200b inner node \u200b\u53ef\u80fd\u200b\u4f1a\u200b\u4fdd\u5b58\u200b\u90a3\u4e9b\u200b\u4e0d\u518d\u200b\u5b58\u5728\u200b\u4e8e\u200b tree \u200b\u4e2d\u200b\u7684\u200b key \u200b\u7684\u200b\u62f7\u8d1d\u200b\uff0c\u200b\u5b83\u4eec\u200b\u8981\u200b\u7528\u200b\u8fd9\u4e9b\u200b key \u200b\u5f53\u4f5c\u200b\u8def\u6807\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b Buffer Pool \u200b\u4e2d\u200b\u5e76\u200b\u6ca1\u6709\u200b\u7f13\u5b58\u200b\u8981\u200b\u627e\u200b\u7684\u200b leaf node \u200b\u6240\u5728\u200b\u7684\u200b page\uff0c\u200b\u5219\u200b\u4f1a\u200b\u51fa\u73b0\u200b page miss\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u5411\u4e0b\u200b\u904d\u5386\u200bB+\u200b\u6811\u65f6\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u5f97\u200b\u53bb\u200b\u78c1\u76d8\u200b\u4e0a\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u7ed3\u70b9\u200b\u8fdb\u884c\u200b\u67e5\u627e\u200b\u3002</li> </ol> <p>\u200b\u56e0\u6b64\u200b\u82e5\u80fd\u200b\u4e0d\u200b\u904d\u5386\u200b\u5230\u200b\u5e95\u90e8\u200b\u7684\u200b leaf node\uff0c\u200b\u5728\u200b\u6811\u200b\u7684\u200b\u9876\u90e8\u200b\u5c31\u200b\u80fd\u200b\u77e5\u9053\u200b key \u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u4e8e\u8868\u4e2d\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5c31\u200b\u5f88\u200bnice\u3002</p> <p>\u2014\u2014Trie Index</p>"},{"location":"db/cmu15445/L8/#trie-tree","title":"Trie Tree","text":"<p><code>Trie (Retrieval Tree)</code>\uff1a\u200b\u53c8\u79f0\u200b Digital Search Tree, Rrefix Tree\u3002\u200b\u662f\u200b\u4e00\u79cd\u200b\u6811\u5f62\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u6bd4\u200bB+\u200b\u6811\u200b\u66f4\u200b\u53e4\u8001\u200b\u3002</p> <ul> <li>\u200b\u601d\u8def\u200b \uff1a\u200b\u5c06\u200b\u6240\u6709\u200b\u7684\u200b key \u200b\u5206\u89e3\u200b\u4e3a\u200b digit\uff08key \u200b\u4e2d\u200b\u67d0\u4e9b\u200b\u539f\u5b50\u200b\u5b50\u96c6\u200b\uff0c\u200b\u5982\u200b\u4e00\u4e2a\u200b byte or bit \u200b\u4e4b\u7c7b\u200b\u7684\u200b\uff09\uff0c\u200b\u5c06\u200b\u5206\u89e3\u200b\u540e\u200b\u7684\u200b digit \u200b\u5b58\u4e8e\u200b tree \u200b\u7684\u200b\u4e0d\u540c\u200b\u5c42\u200b\uff0c\u200b\u82e5\u200b\u67d0\u5c42\u200b\u7684\u200b digit \u200b\u91cd\u590d\u200b\u53ea\u200b\u9700\u200b\u4fdd\u5b58\u200b\u4e00\u6b21\u200b\u3002</li> <li>tree \u200b\u4e0d\u540c\u200b\u7684\u200b\u5411\u4e0b\u200b\u904d\u5386\u200b digit \u200b\u7684\u200b\u8def\u5f84\u200b\u5bf9\u5e94\u200b\u4e00\u4e2a\u200b key\u3002</li> </ul> <p></p> <p>Trie Tree \u200b\u7684\u200b\u7279\u70b9\u200b\uff1a</p> <ol> <li>Trie Tree \u200b\u7684\u200b\u5f62\u72b6\u200b\u53d6\u51b3\u4e8e\u200b key \u200b\u7684\u200b\u5206\u5e03\u200b\u4ee5\u53ca\u200b\u957f\u5ea6\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u786e\u5b9a\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\uff0c\u200b\u4e0d\u7ba1\u200b\u63d2\u5165\u200b key \u200b\u7684\u200b\u987a\u5e8f\u200b\u5982\u4f55\u200b\uff0c\u200b\u6700\u7ec8\u200b\u90fd\u200b\u4f1a\u200b\u5f97\u5230\u200b\u76f8\u540c\u200b\u7684\u200b\u7269\u7406\u200b\u6570\u636e\u7ed3\u6784\u200b\uff08\u200b\u5373\u200b\u7ed3\u70b9\u200b\u5e03\u5c40\u200b\uff09VS. B+ Tree \u200b\u7684\u200b\u9ad8\u5ea6\u200b\u53d6\u51b3\u4e8e\u200b key \u200b\u7684\u200b\u6570\u76ee\u200b\uff0c\u200b\u4e14\u200b\u7ed3\u70b9\u200b\u5e03\u5c40\u200b\u4e0e\u200b key \u200b\u7684\u200b\u63d2\u5165\u200b\u987a\u5e8f\u200b\u6709\u5173\u200b\uff0c\u200b\u8fd9\u200b\u53d6\u51b3\u4e8e\u200b B+Tree \u200b\u5982\u4f55\u200b\u8fdb\u884c\u200b\u62c6\u5206\u200b\u4e0e\u200b\u5408\u5e76\u200b</li> <li>Trie Tree \u200b\u4e0d\u7528\u200b\u8fdb\u884c\u200b\u91cd\u65b0\u200b\u5e73\u8861\u200b\uff08\u200b\u5782\u76f4\u200b\u5c42\u9762\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b rebalance\uff0c\u200b\u6c34\u5e73\u200b\u5c42\u9762\u200b\u4e0d\u200b\u9700\u8981\u200b\uff09VS. B+Tree \u200b\u9700\u8981\u200b\u91cd\u65b0\u200b\u5e73\u8861\u200b</li> <li>Tire Tree \u200b\u4e2d\u200b\u64cd\u4f5c\u200b\u590d\u6742\u5ea6\u200b\u90fd\u200b\u4e3a\u200b \\(O(K)\\)\uff0cK \u200b\u4e3a\u200b key \u200b\u7684\u200b\u957f\u5ea6\u200b  VS. B+Tree \u200b\u4e2d\u200b\u64cd\u4f5c\u200b\u590d\u6742\u5ea6\u200b\u90fd\u200b\u4e3a\u200b \\(O(logn)\\)</li> <li>Trie Tree \u200b\u7684\u200b\u70b9\u200b\u67e5\u8be2\u200b\u901f\u5ea6\u200b\u5feb\u200b\u4e8e\u200b B+Tree\uff0c\u200b\u4f46\u200b\u626b\u63cf\u200b\u901f\u5ea6\u6162\u200b\u4e8e\u200b B+Tree\uff0c\u200b\u56e0\u4e3a\u200b Tire Tree \u200b\u8981\u200b\u4e00\u4e2a\u4e2a\u200b\u901a\u8fc7\u200b\u904d\u5386\u200b\u56de\u6eaf\u200b\u91cd\u5efa\u200b key \u200b\u800c\u200b B+Tree \u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u6cbf\u7740\u200b leaf node \u200b\u626b\u63cf\u200b\u3002</li> </ol> <p><code>span</code>\uff1a\u200b\u6811\u679d\u200b\u5411\u5916\u200b\u5206\u53c9\u200b\u7684\u200b\u4e2a\u6570\u200b\uff0c\u200b\u5373\u200b\u5728\u200b\u6811\u200b\u7684\u200b\u6bcf\u5c42\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u4e2d\u200b digit \u200b\u7684\u200b\u4e2a\u6570\u200b\u3002\u200b\u67d0\u5c42\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5b58\u5728\u200b\u7684\u200b digit \u200b\u4f1a\u200b\u6709\u200b\u6307\u5411\u200b\u5176\u4ed6\u200b\u5206\u652f\u200b\u7684\u200b\u6307\u9488\u200b\uff08leaf node \u200b\u7684\u200b digit \u200b\u6307\u5411\u200b tuple\uff09\uff0c\u200b\u82e5\u200b digit \u200b\u4e0d\u200b\u5b58\u5728\u200b\u5219\u200b\u6307\u9488\u200b\u5904\u5b58\u200b null \u200b\u6216\u200b\u5176\u4ed6\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u4e1c\u897f\u200b\u3002</p> <ul> <li>span \u200b\u88ab\u200b\u7528\u6765\u200b\u7ea6\u5b9a\u200b\u662f\u5426\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u8fdb\u884c\u200b\u6247\u51fa\u200b\uff08fan-out\uff09\u200b\u64cd\u4f5c\u200b</li> <li>n-way Trie = Fan-Out of n\uff08n \u200b\u8def\u200b Trie \u200b\u8868\u793a\u200b\u6bcf\u4e2a\u200b\u8282\u70b9\u200b\u6700\u591a\u200b\u6709\u200b n \u200b\u6761\u200b\u8def\u7ebf\u200b\uff0cfan-out \u200b\u4e3a\u200b n\uff0cTrie \u200b\u6bcf\u5c42\u200b\u80fd\u200b\u4fdd\u5b58\u200b n \u200b\u4e2a\u200b digit\uff09</li> </ul> <p></p> <p>\ud83d\udc46\u200b\u4f18\u5316\u200b\u601d\u8def\u200b\uff1a</p> <ol> <li>\u200b\u65e0\u9700\u200b\u4f7f\u7528\u200b\u7a7a\u95f4\u200b\u6765\u200b\u6807\u8bb0\u200b0\u200b\u548c\u200b1\uff0c\u200b\u76f4\u63a5\u200b\u4fdd\u5b58\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6307\u9488\u200b\u3002\u200b\u82e5\u200bbit=0,offset=0;\u200b\u82e5\u200bbit=1,offset=1<ul> <li>\u200b\u6c34\u5e73\u200b\u538b\u7f29\u200b\uff0c\u200b\u51cf\u5c0f\u200b\u6bcf\u4e2a\u200b Trie \u200b\u7ed3\u70b9\u200b\u7684\u200b size\u3002</li> </ul> </li> <li>\u200b\u5f53\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5b50\u200b\u7ed3\u70b9\u200b\u65f6\u200b\uff0c\u200b\u7701\u7565\u200b\u6240\u6709\u200b\u4e4b\u540e\u200b\u7684\u200b\u7ed3\u70b9\u200b\u3002\u3010\u200b\u53c8\u200b\u88ab\u200b\u79f0\u4e3a\u200b Patricia Tree\u3001Radix Tree \u3011<ul> <li>\u200b\u5782\u76f4\u200b\u538b\u7f29\u200b\uff0c\u200b\u79fb\u200b\u9664\u4e86\u200b\u65e0\u7528\u200b\u5206\u652f\u200b\u8def\u5f84\u200b\u3002</li> <li>\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u9519\u8bef\u200b\uff0cDBMS \u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u539f\u59cb\u200b\u7684\u200b tuple \u200b\u770b\u200b\u662f\u5426\u200b\u80fd\u200b match key\u3002</li> </ul> </li> </ol> <p></p>"},{"location":"db/cmu15445/L8/#radix-tree_1","title":"Radix Tree","text":"<p><code>Radix Tree</code>\uff1aTrie \u200b\u6570\u636e\u7ed3\u6784\u200b\u7684\u200b\u53d8\u4f53\u200b\u3010Trie\u200b\u7684\u200b\u5782\u76f4\u200b\u538b\u7f29\u200b\u3011\u3002\u200b\u5b83\u200b\u4f7f\u7528\u200b key \u200b\u7684\u200b digit \u200b\u9010\u4e2a\u200b\u68c0\u67e5\u200b\u524d\u7f00\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u6bd4\u8f83\u200b\u6574\u4e2a\u200b key\u3002\u200b\u5b83\u200b\u4e0e\u200b Trie \u200b\u7684\u200b\u4e0d\u540c\u4e4b\u5904\u200b\u5728\u4e8e\u200b\uff0cTadix Tree \u200b\u7684\u200b node \u200b\u4e0d\u662f\u200b key \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5143\u7d20\u200b\uff0c\u200b\u800c\u662f\u200b\u8868\u793a\u200b key \u200b\u4e0d\u540c\u200b\u7684\u200b\u6700\u5c0f\u200b\u524d\u7f00\u200b\u3002</p> <ul> <li>\u200b\u6811\u200b\u7684\u200b\u9ad8\u5ea6\u200b\u53d6\u51b3\u4e8e\u200b key \u200b\u7684\u200b\u957f\u5ea6\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u50cf\u200bB+\u200b\u6811\u200b\u90a3\u6837\u200b\u53d6\u51b3\u4e8e\u200b key \u200b\u7684\u200b\u6570\u91cf\u200b\u3002</li> <li>\u200b\u5230\u200b leaf node \u200b\u7684\u200b\u8def\u5f84\u200b\u8868\u793a\u200b leaf \u200b\u7684\u200b key\u3002</li> </ul> <p>Radix tree \u200b\u662f\u200b Trie \u200b\u7684\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u7248\u672c\u200b\uff0c\u200b\u6ca1\u4eba\u4f1a\u200b\u5728\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u4f7f\u7528\u200b Trie\uff0c\u200b\u7528\u200b\u7684\u200b\u90fd\u200b\u662f\u200b Radix Tree\u3002</p> <p>Radix Tree \u200b\u4e0d\u540c\u4e8e\u200b B+\u200b\u6811\u200b\uff0c\u200b\u6ca1\u6709\u200b\u6807\u51c6\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u7ef4\u62a4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u91c7\u7528\u200b\u4e0d\u540c\u200b\u7684\u200b\u5b9e\u73b0\u200b\u3002\u200b\u8fd9\u91cc\u200b\u5c55\u793a\u200b\u4e00\u79cd\u200b\u7ef4\u62a4\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff1a</p> <p></p> <p>\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6240\u6709\u200b\u7684\u200b\u5c5e\u6027\u200b\u7c7b\u578b\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5206\u89e3\u200b\u4e3a\u200b radix tree \u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u53ef\u200b\u6bd4\u8f83\u200b\u6570\u5b57\u200b\uff0c\u200b\u8bb8\u591a\u200b\u7c7b\u578b\u200b\u7684\u200b key \u200b\u90fd\u200b\u9700\u8981\u200b\u7279\u6b8a\u200b\u5904\u7406\u200b\uff1a</p> <ul> <li>Unsigned Integers\uff1a\u200b\u5bf9\u200blittle endian mechines \u200b\u8981\u200b\u628a\u200b bits \u200b\u7ffb\u8f6c\u200b\u4e00\u904d\u200b</li> <li>Signed Integers\uff1a\u200b\u9700\u8981\u200b\u7ffb\u8f6c\u200b two\u2019s-complement \u200b\u4ece\u800c\u200b\u4f7f\u5f97\u200b\u8d1f\u6570\u200b\u5c0f\u4e8e\u200b\u6b63\u6570\u200b</li> <li>Floats\uff1a\u200b\u9700\u8981\u200b\u5206\u6210\u200b\u591a\u4e2a\u200b\u7ec4\u200b\uff08neg vs. pos, normalized vs. denormalized\uff09\uff0c\u200b\u7136\u540e\u200b\u5b58\u50a8\u200b\u6210\u200b unsigned integer</li> <li>Compound\uff1a\u200b\u5206\u522b\u200b\u8f6c\u5316\u200b\u5404\u4e2a\u200b attributes \u200b\u7136\u540e\u200b\u7ec4\u5408\u200b\u8d77\u6765\u200b</li> </ul> <p>Info</p> <p>\u200b\u5728\u200b\u8bbe\u8ba1\u200b\u8ba1\u7b97\u673a\u7cfb\u7edf\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6709\u200b\u4e24\u79cd\u200b\u5904\u7406\u200b\u5185\u5b58\u200b\u4e2d\u200b\u6570\u636e\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a</p> <ul> <li>\u200b\u5927\u200b\u7aef\u200b\u6a21\u5f0f\u200b (big-endian)\uff1a\u200b\u5185\u5b58\u200b\u9ad8\u200b\u5730\u5740\u200b\u5b58\u200b\u6570\u636e\u200b\u4f4e\u5b57\u8282\u200b\uff0c\u200b\u4f4e\u200b\u5730\u5740\u200b\u5b58\u200b\u9ad8\u5b57\u8282\u200b\u3002</li> <li>\u200b\u5c0f\u7aef\u200b\u6a21\u5f0f\u200b (little-endian)\uff1a\u200b\u5185\u5b58\u200b\u9ad8\u200b\u5730\u5740\u200b\u5b58\u200b\u6570\u636e\u200b\u9ad8\u5b57\u8282\u200b\uff0c\u200b\u4f4e\u200b\u5730\u5740\u200b\u5b58\u200b\u4f4e\u5b57\u8282\u200b\u3002</li> </ul> <p></p>"},{"location":"db/cmu15445/L8/#inverted-indexes","title":"Inverted Indexes","text":"<p>Info</p> <p>\u200b\u5c3d\u7ba1\u200b tree index \u200b\u975e\u5e38\u200b\u6709\u5229\u4e8e\u200b\u70b9\u200b\u67e5\u8be2\u200b\u548c\u200b\u8303\u56f4\u200b\u67e5\u8be2\u200b\uff0c\u200b\u5982\u200b\uff1a</p> <ul> <li>Find all customers in the 15217 zip code</li> <li>Find all orders between June 2018 and September 2018</li> </ul> <p>\u200b\u4f46\u200b\u5bf9\u4e8e\u200b keyword search\uff0ctree index \u200b\u5c31\u200b\u663e\u5f97\u200b\u65e0\u80fd\u4e3a\u529b\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8981\u200b\u627e\u200b\u7684\u200b\u662f\u200b\u67d0\u4e2a\u200b\u5c5e\u6027\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b50\u200b\u5143\u7d20\u200b\u3002\u200b\u5982\u200b\uff1a</p> <ul> <li>Find all Wikipedia articles that contain the word \"Pavlo\"</li> </ul> <p>\u200b\u5bf9\u200b B+Tree\u3001Hash Table \u200b\u800c\u8a00\u200b\uff0c\u200b\u8fdb\u884c\u200b\u5173\u952e\u8bcd\u200b\u641c\u7d22\u200b\u7684\u200b\u6548\u679c\u200b\u90fd\u200b\u4e0d\u597d\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5173\u952e\u8bcd\u200b\u641c\u7d22\u200b\u662f\u200b\u6a21\u7cca\u200b\u67e5\u627e\u200b\uff0c\u200b\u5373\u8981\u200b\u627e\u200b\u67d0\u4e2a\u200b\u5c5e\u6027\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b50\u200b\u5143\u7d20\u200b\u3002Hash Table \u200b\u5fc5\u987b\u200b\u4f7f\u7528\u200b\u5b8c\u6574\u200b key \u200b\u8fdb\u884c\u200b\u641c\u7d22\u200b\uff1bB+Tree \u200b\u867d\u7136\u200b\u80fd\u200b\u4f7f\u7528\u200b\u90e8\u5206\u200b key \u200b\u8fdb\u884c\u200b\u641c\u7d22\u200b\uff0c\u200b\u4f46\u200b\u8fd9\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u5b83\u200b\u5c06\u200b\u591a\u4e2a\u200b\u5c5e\u6027\u200b\u4f5c\u4e3a\u200b key\uff0c\u200b\u80fd\u200b\u4f7f\u7528\u200b\u5355\u4e2a\u200b\u6216\u200b\u5bf9\u200b\u4e2a\u200b\u5c5e\u6027\u200b\uff08\u200b\u90e8\u5206\u200b key\uff09\u200b\u8fdb\u884c\u200b\u641c\u7d22\u200b\uff0c\u200b\u8fd9\u200b\u8981\u6c42\u200b\u5355\u4e2a\u200b\u5c5e\u6027\u200b\u7684\u200b\u503c\u200b\u5fc5\u987b\u200b\u662f\u200b\u5b8c\u6574\u200b\u7684\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\u5355\u4e2a\u200b\u5c5e\u6027\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u8fdb\u884c\u200b\u67e5\u627e\u200b\u3002\u2014\u2014 Inverted Indexes</p> <p>\u200b\u5012\u6392\u200b\u7d22\u5f15\u200b(Inverted Indexes)\uff1a\u200b\u5b58\u50a8\u200b word \u200b\u5230\u200b record \u200b\u7684\u200b\u6620\u5c04\u200b\uff0c\u200b\u8fd9\u4e9b\u200b record \u200b\u7684\u200b\u76ee\u6807\u200b\u5c5e\u6027\u200b\u5305\u542b\u200b\u4e86\u200b\u8fd9\u4e9b\u200b word\u3002</p> <ul> <li>\u200b\u53c8\u200b\u79f0\u4e3a\u200b\uff1a\u200b\u5168\u6587\u200b\u641c\u7d22\u200b\u7d22\u5f15\u200b (full-text search index)\u3001concordance\u3002</li> <li>\u200b\u5927\u591a\u6570\u200b\u4e3b\u8981\u200b\u7684\u200b DBMS \u200b\u672c\u8eab\u200b\u90fd\u200b\u652f\u6301\u200b\u5012\u6392\u200b\u7d22\u5f15\u200b\uff0c\u200b\u4f46\u200b\u5728\u200b\u4e00\u4e9b\u200b\u4e13\u95e8\u200b\u7684\u200b DBMS \u200b\u4e2d\u200b\uff0c\u200b\u5012\u6392\u200b\u7d22\u5f15\u200b\u662f\u200b\u552f\u4e00\u200b\u53ef\u7528\u200b\u7684\u200b\u8868\u200b\u7d22\u5f15\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002</li> </ul> <p>Info</p> <p>\u200b\u5168\u6587\u200b\u641c\u7d22\u200b\u6570\u636e\u5e93\u200b\u6709\u200b\u5f88\u591a\u200b\uff0c\u200b\u6bd4\u5982\u200b ElasticSearch\uff0c\u200b\u5b83\u200b\u662f\u200b\u5efa\u7acb\u200b\u5728\u200b Lucene \u200b\u4e4b\u4e0a\u200b\u7684\u200b DBMS\uff0cLucene \u200b\u662f\u200b\u7531\u200b\u4e00\u4e2a\u200b\u53d1\u660e\u200b\u4e86\u200b Hadoop \u200b\u7684\u200b\u4eba\u200b\u7f16\u5199\u200b\u7684\u200b\uff0cElasticSearch \u200b\u4e3a\u200b\u641c\u7d22\u200b\u65f6\u200b\u7528\u5230\u200b\u7684\u200b\u7d22\u5f15\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u670d\u52a1\u7aef\u200b\u63a5\u53e3\u200b\u5de5\u5177\u200b\u3002 Xapain \u200b\u662f\u200b\u4e00\u4e2a\u200b C++ \u200b\u6807\u51c6\u200b\u5e93\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u7528\u6765\u200b\u8fdb\u884c\u200b\u5168\u6587\u200b\u641c\u7d22\u200b\u548c\u200b\u7d22\u5f15\u200b\u67e5\u627e\u200b\u7684\u200b\uff0c\u200b\u6bd4\u200b MySQL \u200b\u7684\u200b\u5168\u6587\u200b\u641c\u7d22\u200b\u7d22\u5f15\u200b\u6548\u679c\u200b\u597d\u200b\u3002</p> <p>\u200b\u67e5\u8be2\u200b\u7c7b\u578b\u200b \uff08\u200b\u8fd9\u4e9b\u200b\u90fd\u200b\u65e0\u6cd5\u200b\u5728\u200b\u5728\u200bB+\u200b\u6811\u200b\u8fd0\u884c\u200b\uff0c\u200b\u4f46\u200b\u53ef\u200b\u5728\u200b\u5012\u6392\u200b\u7d22\u5f15\u200b\u4e2d\u200b\u8fd0\u884c\u200b\uff09\uff1a</p> <ul> <li>\u200b\u8bcd\u7ec4\u200b\u641c\u7d22\u200b\uff1a\u200b\u67e5\u627e\u200b\u5305\u542b\u200b\u7ed9\u5b9a\u200b\u987a\u5e8f\u200b\u7684\u200b words list \u200b\u7684\u200b record\u3002</li> <li>\u200b\u8fd1\u4f3c\u200b\u641c\u7d22\u200b\uff1a\u200b\u67e5\u627e\u200b\u4e24\u4e2a\u200b words \u200b\u5728\u200b n \u200b\u4e2a\u200b words \u200b\u5185\u200b\u51fa\u73b0\u200b\u7684\u200b record\u3002</li> <li>\u200b\u901a\u914d\u7b26\u200b\u641c\u7d22\u200b\uff1a\u200b\u67e5\u627e\u200b\u5305\u542b\u200b\u5339\u914d\u200b\u67d0\u4e9b\u200b\u6a21\u5f0f\u200b\uff08\u200b\u4f8b\u5982\u200b\uff0c\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\uff09\u200b\u7684\u200b words \u200b\u7684\u200b record\u3002</li> </ul> <p>\u200b\u8bbe\u8ba1\u200b\u51b3\u7b56\u200b \uff08\u200b\u5982\u4f55\u200b\u6784\u5efa\u200b\u5012\u6392\u200b\u7d22\u5f15\u200b\uff09\uff1a</p> <ol> <li>\u200b\u5b58\u50a8\u200b\u4ec0\u4e48\u200b\uff1a\u200b\u7d22\u5f15\u200b\u81f3\u5c11\u200b\u9700\u8981\u200b\u5b58\u50a8\u200b\u6bcf\u6761\u200b record \u200b\u4e2d\u200b\u5305\u542b\u200b\u7684\u200b words\uff08\u200b\u7528\u200b\u6807\u70b9\u7b26\u53f7\u200b\u5206\u9694\u200b\uff09\u3002\u200b\u5b83\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u5305\u542b\u200b\u5176\u4ed6\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5982\u200b\u8bcd\u9891\u200b\u3001\u200b\u4f4d\u7f6e\u200b\u548c\u200b\u5176\u4ed6\u200b\u5143\u200b\u6570\u636e\u200b\u3002<ul> <li>\u200b\u6700\u200b\u7b80\u5355\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5c31\u662f\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u5355\u8bcd\u200b\u6620\u5c04\u200b\u5230\u200b\u4e00\u4e2a\u200b record ID \u200b\u4e0a\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u8fd9\u4e2a\u200b\u5355\u8bcd\u200b\u5468\u56f4\u200b\u7684\u200b\u5176\u4ed6\u200b\u5355\u8bcd\u200b\u4e5f\u200b\u52a0\u8fdb\u53bb\u200b\uff0c\u200b\u8fd9\u4f1a\u200b\u51b3\u5b9a\u200b\u6211\u200b\u6240\u80fd\u200b\u2f40\u200b\u6301\u200b\u7684\u200b\u67e5\u8be2\u200b\u7684\u200b\u590d\u6742\u7a0b\u5ea6\u200b\u6709\u200b\u591a\u200b\u590d\u6742\u200b\u3002</li> </ul> </li> <li>\u200b\u4f55\u65f6\u200b\u66f4\u65b0\u200b\uff1a\u200b\u6bcf\u6b21\u200b\u4fee\u6539\u200b\u8868\u200b\u7684\u200b\u65f6\u5019\u200b\u66f4\u65b0\u200b\u5012\u6392\u200b\u7d22\u5f15\u200b\u65e2\u200b\u6602\u8d35\u200b\u53c8\u200b\u7f13\u6162\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5927\u591a\u6570\u200bDBMS\u200b\u5c06\u200b\u7ef4\u62a4\u200b\u8f85\u52a9\u200b\u6570\u636e\u7ed3\u6784\u200b\u6765\u200b \u201cstage\u201d updates\uff0c\u200b\u7136\u540e\u200b\u6279\u91cf\u200b\u66f4\u65b0\u200b\u7d22\u5f15\u200b\u3002</li> </ol> <p>\u200b\u66f4\u200b\u591a\u200b\u5012\u6392\u200b\u7d22\u5f15\u200b\u6709\u5173\u200b\u4fe1\u606f\u200b\uff0c\u200b\u53ef\u200b\u67e5\u770b\u200b CMU 11-442/11-642 \u200b\u4e2d\u200b\u641c\u7d22\u5f15\u64ce\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p> <p>Info</p> <p>PS\uff1a\u200b\u9664\u4e86\u200b B+Tree \u200b\u548c\u200b Hast Table \u200b\u5916\u200b\uff0c\u200b\u8fd8\u200b\u5b58\u5728\u200b\u8bb8\u591a\u200b\u5176\u4ed6\u200b\u53ef\u200b\u2f64\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5b83\u4eec\u200b\u53ef\u4ee5\u200b\u505a\u200b\u9664\u4e86\u200b\u70b9\u200b\u67e5\u8be2\u200b\u4ee5\u53ca\u200b\u8303\u56f4\u200b\u67e5\u8be2\u200b\u5916\u200b\u7684\u200b\u67e5\u8be2\u200b\u3002\u200b\u6bd4\u5982\u200b\uff1a</p> <ul> <li>geo-spatial index\uff08\u200b\u5730\u7406\u200b\u7a7a\u95f4\u200b\u7d22\u5f15\u200b\uff09\uff1a\u200b\u5141\u8bb8\u200b\u8fdb\u200b\u2f8f\u200b\u591a\u7ef4\u5ea6\u200b\u67e5\u627e\u200b\uff0c\u200b\u53ef\u200b\u5e94\u7528\u200b\u5728\u200b\u51e0\u4f55\u200b\u7a7a\u95f4\u200b\u573a\u666f\u200b\uff0c\u200b\u5e38\u89c1\u4e8e\u200b\u89c6\u9891\u200b/\u200b\u56fe\u50cf\u200b\u6570\u636e\u5e93\u200b\u3002\u200b\u6570\u636e\u7ed3\u6784\u200b\u6709\u200b\uff1aR-Tree, Quad-Tree, KD-Tree\u3002</li> </ul> <p>\u200b\u5728\u200b\u2f24\u200b\u591a\u6570\u200b\u65f6\u5019\u200b\uff0cB+Tree \u200b\u90fd\u200b\u80fd\u200b\u6ee1\u8db3\u200b\u6211\u4eec\u200b\u7684\u200b\u9700\u8981\u200b\uff0c\u200b\u5b83\u200b\u80fd\u200b\u2f64\u200b\u4e8e\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5e76\u4e14\u200b\u975e\u5e38\u200b\u5f39\u6027\u200b\u5316\u200b\u3002</p>"},{"location":"db/cmu15445/L9/","title":"Index Concurrency Control","text":"<p> \u200b\u7ea6\u200b 2853 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 10 \u200b\u5206\u949f\u200b</p>"},{"location":"db/cmu15445/L9/#index-concurrency-control","title":"Index Concurrency Control","text":"<p>\u200b\u5e76\u53d1\u200b\u63a7\u5236\u534f\u8bae\u200b\uff0c\u200b\u662f\u200bDBMS\u200b\u4f7f\u7528\u200b\u4ee5\u200b\u4fdd\u8bc1\u200b\u5e76\u53d1\u200b\u64cd\u4f5c\u200b\u6b63\u786e\u6027\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u5e76\u53d1\u200b\u63a7\u5236\u534f\u8bae\u200b\u6b63\u786e\u6027\u200b\u6807\u51c6\u200b\u6709\u200b\uff1a</p> <ul> <li>Logical Correctness \uff0c\u200b\u7ebf\u7a0b\u200b\u53ef\u4ee5\u200b\u8bfb\u200b\u5b83\u200b\u671f\u671b\u200b\u8bfb\u5230\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u5982\u200b\u5728\u200b\u4e00\u4e2a\u200b transaction \u200b\u4e2d\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u5728\u200b\u5199\u200b\u5b8c\u200b\u4e00\u4e2a\u200b\u503c\u200b\u4e4b\u540e\u200b\uff0c\u200b\u518d\u8bfb\u200b\u5b83\u200b\uff0c\u200b\u5e94\u8be5\u200b\u662f\u200b\u5b83\u200b\u4e4b\u524d\u200b\u5199\u200b\u7684\u200b\u503c\u200b\u3002</li> <li>Physical Correctness \uff0c\u200b\u5171\u4eab\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5185\u90e8\u200b\u8868\u793a\u200b\u662f\u200b\u5b89\u5168\u200b\u7684\u200b\uff0c\u200b\u5982\u200b\u5171\u4eab\u200b\u5bf9\u8c61\u200b\u5185\u90e8\u200b\u6307\u9488\u200b\u4e0d\u80fd\u200b\u6307\u5411\u200b\u975e\u6cd5\u200b\u7269\u7406\u200b\u4f4d\u7f6e\u200b\u3002</li> </ul> <p>\u200b\u672c\u200b\u8bb2\u200b\u7740\u91cd\u4e8e\u200bPhysical Correctness\uff0cLogical Correctness\u200b\u540e\u9762\u200b\u4f1a\u200b\u8bb2\u200b\u3002</p>"},{"location":"db/cmu15445/L9/#locks-vs-latches","title":"Locks VS. Latches","text":"<p>Locks\uff1a</p> <p>Locks \u200b\u4e0d\u540c\u4e8e\u200b OS \u200b\u4e2d\u200b\u7684\u200b\u9501\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b lock\u200b\u662f\u200b\u4e00\u4e2a\u200b higher-level \u200b\u7684\u200b\uff0c\u200b\u6982\u5ff5\u200b\u4e0a\u200b\u7684\u200b\u3002DBMS \u200b\u4f7f\u7528\u200b lock \u200b\u907f\u514d\u200b\u4e0d\u540c\u200b transactions \u200b\u7684\u200b\u7ade\u4e89\u200b\uff0c\u200b\u5982\u5bf9\u200b tuples\u3001tables\u3001databases \u200b\u7684\u200b lock\u3002Transactions \u200b\u4f1a\u200b\u5728\u200b\u5b83\u200b\u6574\u4e2a\u200b\u751f\u547d\u5468\u671f\u200b\u6301\u6709\u200b lock\u3002lock \u200b\u53ef\u4ee5\u200b\u56de\u6eda\u200b\u3002</p> <p>Latches\uff1a</p> <p>Latches\u200b\u662f\u200b\u4e00\u4e2a\u200b low-level \u200b\u7684\u200b\u4fdd\u62a4\u200b\u539f\u8bed\u200b\uff0cDBMS \u200b\u5c06\u200b latch \u200b\u7528\u4e8e\u200b\u5176\u200b\u5185\u90e8\u200b\u6570\u636e\u7ed3\u6784\u200b\u4e2d\u200b\u7684\u200b\u4e34\u754c\u200b\u533a\u200b\uff0c\u200b\u5982\u200b hash table \u200b\u7b49\u200b\u3002Latch \u200b\u53ea\u200b\u5728\u200b\u64cd\u4f5c\u200b\u6267\u884c\u200b\u7684\u200b\u65f6\u5019\u200b\u88ab\u200b\u6301\u6709\u200b\u3002latch \u200b\u4e0d\u200b\u652f\u6301\u200b\u56de\u6eda\u200b\u3002</p> <p>Note</p> <p>lock \u200b\u4e13\u6307\u200b\u7684\u200b\u662f\u200b\u4e8b\u52a1\u200b\u8bed\u4e49\u200b\u5c42\u9762\u200b\u7684\u200b\u9501\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4e24\u200b\u9636\u6bb5\u200b\u63d0\u4ea4\u200b\u9501\u200b\u3002</p> <p>latch \u200b\u6307\u200b\u7684\u200b\u662f\u200b\u7a0b\u5e8f\u200b\u5c42\u9762\u200b\u5bf9\u200b\u4ee3\u7801\u200b\u7684\u200b\u9501\u200b\u4fdd\u62a4\u200b\uff0c\u200b\u4e3b\u8981\u200b\u4e3a\u4e86\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5e38\u89c1\u200b\u7684\u200b mutex \u200b\u7b49\u200b\u3002</p> <p></p> <p>\u200b\u672c\u200b\u8282\u200b\u4e3b\u8981\u200b\u4e13\u6ce8\u200b\u4e8e\u200b latch \u200b\u76f8\u5173\u200b\u7684\u200b\u6982\u5ff5\u200b\uff0c\u200b\u4e8b\u52a1\u200b\u5c42\u9762\u200b\u7684\u200b lock \u200b\u4f1a\u200b\u5728\u200b\u540e\u7eed\u200b\u8fdb\u884c\u200b\u4ecb\u7ecd\u200b\u3002</p> <p>latch \u200b\u7684\u200b\u8bed\u4e49\u200b\u6bd4\u8f83\u200b\u7c7b\u4f3c\u200b\u6211\u4eec\u200b\u5728\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e2d\u200b\u89c1\u5230\u200b\u7684\u200b\u5404\u79cd\u200b\u9501\u200b\uff0c\u200b\u5b83\u200b\u6709\u200b\u4e24\u79cd\u200b\u6a21\u5f0f\u200b\uff1a\u200b\u8bfb\u200b\u548c\u200b\u5199\u200b\u3002</p> <ul> <li>\u200b\u8bfb\u200b\u6a21\u5f0f\u200b<ul> <li>\u200b\u591a\u4e2a\u200b\u7ebf\u7a0b\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u8bbf\u95ee\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u800c\u200b\u4e0d\u200b\u963b\u585e\u200b</li> <li>\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u5360\u636e\u200b\u4e86\u200b\u8bfb\u9501\u200b\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u7ee7\u7eed\u200b\u7533\u8bf7\u200b\u8bfb\u9501\u200b</li> </ul> </li> <li>\u200b\u5199\u200b\u6a21\u5f0f\u200b<ul> <li>\u200b\u540c\u4e00\u200b\u65f6\u523b\u200b\u53ea\u80fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u8bbf\u95ee\u200b\u5bf9\u8c61\u200b</li> <li>\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u5df2\u7ecf\u200b\u6709\u200b\u5199\u200b\u9501\u200b\u4e86\u200b\uff0c\u200b\u5219\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u4e0d\u80fd\u200b\u7533\u8bf7\u200b\u8bfb\u9501\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u7533\u8bf7\u200b\u5199\u9501\u200b</li> </ul> </li> </ul>"},{"location":"db/cmu15445/L9/#latch-implementations","title":"Latch Implementations","text":"<p>\u200b\u7528\u6765\u200b\u5b9e\u73b0\u200blatch\u200b\u7684\u200b\u57fa\u672c\u539f\u7406\u200b\u662f\u200b\u901a\u8fc7\u200b\u73b0\u4ee3\u200b CPU \u200b\u63d0\u4f9b\u200b\u7684\u200b atomic compare-and-swap (CAS) \u200b\u6307\u4ee4\u200b\u3002\u200b\u501f\u6b64\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u53ef\u4ee5\u200b\u68c0\u67e5\u200b\u4e00\u4e2a\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u770b\u200b\u5b83\u200b\u662f\u5426\u200b\u7528\u200b\u67d0\u4e2a\u200b\u503c\u200b\u3002\u200b\u5982\u679c\u200b\u6709\u200b\uff0c\u200b\u5219\u200bCPU\u200b\u5c06\u200b\u7528\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u503c\u6765\u200b\u4ea4\u6362\u200b\u65e7\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u5426\u5219\u200b\uff0c\u200b\u8be5\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\u5c06\u200b\u4fdd\u6301\u200b\u4e0d\u200b\u88ab\u200b\u4fee\u6539\u200b\u3002</p> <p>\u200b\u5728\u200bDBMS \u200b\u5b9e\u73b0\u200b latch \u200b\u7528\u200b\u51e0\u79cd\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u6bcf\u79cd\u200b\u90fd\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u6743\u8861\u200b\u3002\u200b\u5de5\u7a0b\u200b\u590d\u6742\u6027\u200b\u548c\u200b\u8fd0\u884c\u200b\u65f6\u200b\u6027\u80fd\u200b\u90fd\u200b\u6709\u200b\u4e0d\u540c\u200b\u6743\u8861\u200b\u3002\u200b\u8fd9\u4e9b\u200b test-and-set \u200b\u662f\u200b\u4ee5\u200b\u539f\u5b50\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u7684\u200b\u3002</p> <p>Blocking OS Mutex</p> <ul> <li>Latch \u200b\u7684\u200b\u4e00\u4e2a\u200b\u53ef\u80fd\u200b\u7684\u200b\u5b9e\u73b0\u200b\u662f\u200b OS \u200b\u7684\u200b\u5185\u7f6e\u200b\u4e92\u65a5\u200b\u673a\u5236\u200b\u3002Linux \u200b\u63d0\u4f9b\u200b\u4e86\u200b Futex\uff08\u200b\u5feb\u901f\u200b\u7528\u6237\u200b\u63a7\u4ef6\u200b\u4e92\u65a5\u200b\uff09\u3002\u200b\u7531\u200b (1) \u200b\u7528\u6237\u200b\u7a7a\u95f4\u200b\u7684\u200b\u81ea\u65cb\u200blatch \u200b\u548c\u200b (2) OS \u200b\u7ea7\u200b\u4e92\u65a5\u200b\u7ec4\u6210\u200b\u3002\u200b\u5982\u679c\u200b DBMS \u200b\u80fd\u591f\u200b\u83b7\u5f97\u200b\u7528\u6237\u200b\u7a7a\u95f4\u200b\u7684\u200b latch\uff0c\u200b\u90a3\u4e48\u200b latch \u200b\u5c31\u200b\u4f1a\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\u3002\u200b\u5728\u200b DBMS \u200b\u770b\u6765\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5355\u4e00\u200b\u7684\u200b latch\uff0c\u200b\u5c3d\u7ba1\u200b\u5185\u90e8\u200b\u5176\u5b9e\u200b\u6709\u200b 2 \u200b\u4e2a\u200b\u3002\u200b\u5982\u679c\u200b DBMS \u200b\u4e0d\u80fd\u200b\u83b7\u53d6\u200b\u7528\u6237\u200b\u7a7a\u95f4\u200b\u7684\u200b latch\uff0c\u200b\u5219\u200b\u4f1a\u200b\u8fdb\u5165\u200b\u5185\u6838\u200b\u5e76\u200b\u8bd5\u56fe\u200b\u83b7\u53d6\u200b\u66f4\u52a0\u200b\u6602\u8d35\u200b\u7684\u200bmutex\u3002\u200b\u5982\u679c\u200b\u53c8\u200b\u4e0d\u80fd\u200b\u83b7\u5f97\u200b\uff0c\u200b\u5219\u200b\u7ebf\u7a0b\u200b\u4f1a\u200b\u901a\u77e5\u200b OS \u200b\u5b83\u200b\u5728\u200b mutex \u200b\u88ab\u200b\u963b\u585e\u200b\uff0c\u200b\u7136\u540e\u200b\u53d6\u6d88\u200b\u8c03\u5ea6\u200b\u3002</li> <li>OS mutex \u200b\u5728\u200b DBMS \u200b\u4e2d\u200b\uff0c\u200b\u4e00\u822c\u200b\u662f\u200b\u4e0d\u597d\u200b\u7684\u200b\u51b3\u5b9a\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u6709\u200b OS \u200b\u63a7\u5236\u200b\uff0c\u200b\u800c\u4e14\u200b\u5f00\u9500\u200b\u5927\u200b\u3002<ul> <li>\u200b\u4f8b\u5b50\u200b\uff1a<code>std::mutex</code></li> <li>\u200b\u4f18\u70b9\u200b\uff1a\u200b\u4f7f\u7528\u200b\u7b80\u5355\u200b</li> <li>\u200b\u7f3a\u70b9\u200b\uff1a\u200b\u6d88\u8017\u200b\u5927\u200b\u3002\u200b\u4e0d\u53ef\u200b\u6269\u5c55\u200b\u3002\u200b\u56e0\u4e3a\u200bOS\u200b\u7684\u200b\u8c03\u5ea6\u200b\u3002</li> </ul> </li> </ul> <p>Test-and-Set Spin Latch (TAS)</p> <ul> <li>\u200b\u81ea\u65cb\u200b\u9501\u200b\u6bd4\u200b OS mutex \u200b\u66f4\u200b\u6709\u6548\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u88ab\u200b DBMS \u200b\u63a7\u5236\u200b\u3002\u200b\u81ea\u65cb\u200b\u9501\u200b\u57fa\u672c\u4e0a\u200b\u662f\u200b\u7ebf\u7a0b\u200b\u8bd5\u56fe\u200b\u66f4\u65b0\u200b\u7684\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\uff08\u200b\u6bd4\u5982\u200b\u5c06\u200b\u4e00\u4e2a\u200b bool \u200b\u8bbe\u200b\u4e3a\u200b true\uff09\u3002\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u6267\u884c\u200b CAS \u200b\u6765\u200b\u5c1d\u8bd5\u200b\u66f4\u65b0\u200b\u5185\u5b58\u200b\u4f4d\u7f6e\u200b\u3002DBMS \u200b\u53ef\u4ee5\u200b\u63a7\u5236\u200b\u5982\u679c\u200b\u4e0d\u80fd\u200b\u83b7\u5f97\u200b latch \u200b\u4f1a\u200b\u53d1\u751f\u200b\u4ec0\u4e48\u200b\u3002\u200b\u6bd4\u5982\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u5c1d\u8bd5\u200b\u518d\u6b21\u200b\u5c1d\u8bd5\u200b\uff08while \u200b\u5faa\u73af\u200b\uff09\u200b\u6216\u200b\u5141\u8bb8\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u53d6\u6d88\u200b\u8c03\u5ea6\u200b\u3002\u200b\u6240\u4ee5\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u7ed9\u200b\u4e86\u200b DBMS \u200b\u66f4\u200b\u591a\u200b\u63a7\u5236\u6743\u200b\u3002<ul> <li>\u200b\u4f8b\u5b50\u200b\uff1a<code>std::atomic&lt;T&gt;</code></li> <li>\u200b\u4f18\u70b9\u200b\uff1a\u200b\u4e0a\u9501\u200b\u89e3\u9501\u200b\u66f4\u200b\u9ad8\u6548\u200b\u3002\u200b\u5355\u4e00\u200b\u6307\u4ee4\u200b\u5373\u53ef\u200b\u3002</li> <li>\u200b\u7f3a\u70b9\u200b\uff1a\u200b\u4e0d\u200b\u5177\u6709\u200b\u6269\u5c55\u6027\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u200b\u9002\u5408\u200b\u7f13\u5b58\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5728\u200b\u591a\u7ebf\u7a0b\u200b\u4e2d\u200b\uff0cCAS \u200b\u6307\u4ee4\u200b\u5c06\u200b\u5728\u200b\u4e0d\u540c\u200b\u6307\u4ee4\u200b\u591a\u6b21\u200b\u6267\u884c\u200b\u3002\u200b\u6d6a\u8d39\u200b\u7684\u200b\u6307\u4ee4\u200b\u4f1a\u200b\u5728\u200b\u9ad8\u200b\u7ade\u4e89\u200b\u73af\u5883\u200b\u4e2d\u200b\u5806\u79ef\u8d77\u6765\u200b\u3002\u200b\u6bd4\u8f83\u200b\u6d6a\u8d39\u200b CPU\u3002\uff08\u200b\u4e00\u76f4\u200b\u505c\u200b\u5728\u200b while \u200b\u5faa\u73af\u200b\u4e0a\u200b\uff09</li> </ul> </li> </ul> <p>Reader-Writer Latches</p> <ul> <li>Mutex \u200b\u548c\u200b\u81ea\u65cb\u200b\u9501\u200b\u4e0d\u200b\u533a\u5206\u200b\u8bfb\u5199\u200b\u3002DBMS \u200b\u9700\u8981\u200b\u4e00\u79cd\u200b\u5141\u8bb8\u200b\u5e76\u53d1\u200b\u8bfb\u53d6\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5982\u679c\u200b\u7528\u200b\u7a0b\u5e8f\u200b\u5927\u91cf\u200b\u8bfb\u53d6\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u6709\u200b\u66f4\u597d\u200b\u7684\u200b\u6027\u80fd\u200b\u3002\u200b\u56e0\u4e3a\u200b\u8bfb\u200b\u53ef\u4ee5\u200b\u5171\u4eab\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u7b49\u5f85\u200b\u3002</li> <li>\u200b\u8bfb\u5199\u200b\u9501\u200b\u5141\u8bb8\u200b latch \u200b\u4ee5\u8bfb\u200b\u6216\u8005\u200b\u5199\u200b\u7684\u200b\u6a21\u5f0f\u200b\u4fdd\u6301\u200b\u3002\u200b\u53ef\u4ee5\u200b\u8ddf\u8e2a\u200b\u6709\u200b\u591a\u5c11\u200b\u7ebf\u7a0b\u200b\u6301\u6709\u200b\u8be5\u200b latch\uff0c\u200b\u5e76\u200b\u5728\u200b\u6bcf\u79cd\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u7b49\u5f85\u200b\u83b7\u53d6\u200b latch\u3002\u200b\u8bfb\u5199\u200b\u9501\u200b\u4f7f\u7528\u200b\u524d\u200b\u4e24\u79cd\u200b latch \u200b\u73b0\u200b\u7684\u200b\u4e00\u79cd\u200b\u4f5c\u4e3a\u200b\u57fa\u7840\u200b\uff0c\u200b\u5e76\u7528\u200b\u989d\u5916\u200b\u7684\u200b\u903b\u8f91\u200b\u6765\u200b\u5904\u7406\u200b\u8bfb\u5199\u200b\u961f\u5217\u200b\u3002\u200b\u4e0d\u540c\u200b\u7684\u200b DBMS \u200b\u53ef\u4ee5\u200b\u6709\u200b\u4e0d\u540c\u200b\u7684\u200b\u7b56\u7565\u200b\u6765\u200b\u5904\u7406\u200b\u3002<ul> <li>\u200b\u4f8b\u5b50\u200b\uff1a<code>std::shared_mutex</code></li> <li>\u200b\u4f18\u70b9\u200b\uff1a\u200b\u5e76\u53d1\u200b\u8bfb\u53d6\u200b</li> <li>\u200b\u7f3a\u70b9\u200b\uff1a\u200b\u5fc5\u987b\u200b\u7ef4\u62a4\u200b\u8bfb\u5199\u200b\u961f\u5217\u200b\u3002\u200b\u4ee5\u9632\u200b\u9965\u997f\u200b\u3002\u200b\u6240\u4ee5\u200b\u5185\u5b58\u200b\u5f00\u9500\u200b\u66f4\u5927\u200b\u3002</li> </ul> </li> </ul> <p>Note</p> <p>\u200b\u603b\u7ed3\u200b latch \u200b\u7684\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\uff1a</p> <ol> <li> <p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e92\u65a5\u200b\u539f\u8bed\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5927\u591a\u6570\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u4e2d\u200b\u90fd\u200b\u5185\u7f6e\u200b\u4e86\u200b\u7684\u200b\u9501\u200b\uff0cC \u200b\u8bed\u8a00\u200b\u4e2d\u200b\u7684\u200b pthread_mutex\uff0cC++ \u200b\u4e2d\u200b\u7684\u200b std::mutex\uff0cGo \u200b\u4e2d\u200b\u7684\u200b Mutex\u3002</p> </li> <li> <p>\u200b\u4f7f\u7528\u200b CAS \u200b\u6307\u4ee4\u200b\uff0c\u200b\u8fd9\u200b\u4e3b\u8981\u200b\u4f9d\u8d56\u4e8e\u200b CPU \u200b\u7684\u200b cas \u200b\u539f\u5b50\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u57fa\u4e8e\u200b\u786c\u4ef6\u5e73\u53f0\u200b\u7684\u200b\u6c47\u7f16\u200b\u6307\u4ee4\u200b\uff0c\u200b\u6548\u7387\u200b\u5f88\u200b\u9ad8\u200b\u3002\u200b\u5927\u591a\u6570\u200b\u8bed\u8a00\u200b\u4e2d\u200b\u7684\u200b atomic \u200b\u90fd\u200b\u4f9d\u8d56\u4e8e\u200b cas \u200b\u5b9e\u73b0\u200b\u3002</p> </li> <li> <p>\u200b\u5229\u7528\u200b\u4e0a\u8ff0\u200b\u7684\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u5c06\u200b\u9501\u200b\u7684\u200b\u7c92\u5ea6\u200b\u51cf\u5c0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5206\u79bb\u200b\u4e3a\u200b\u8bfb\u9501\u200b\u548c\u200b\u5199\u200b\u9501\u200b\uff0c\u200b\u5206\u522b\u200b\u9501\u5b9a\u200b\u4e0d\u540c\u200b\u7684\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u51cf\u5c11\u200b\u83b7\u53d6\u200b\u9501\u200b\u7684\u200b\u51b2\u7a81\u200b\u3002</p> </li> </ol>"},{"location":"db/cmu15445/L9/#hash-table-latching","title":"Hash Table Latching","text":"<p>\u200b\u4e86\u89e3\u200b\u8fc7\u200b latch \u200b\u7684\u200b\u6982\u5ff5\u200b\uff0c\u200b\u518d\u200b\u6765\u200b\u770b\u770b\u200b\u5728\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u5982\u4f55\u200b\u4fdd\u8bc1\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b\u3002</p> <p>\u200b\u9759\u6001\u200b\u54c8\u5e0c\u200b\u8868\u200b\u6bd4\u8f83\u200b\u597d\u200b\u52a0\u9501\u200b\uff0c\u200b\u5982\u200b\u5f00\u653e\u200b\u5730\u5740\u200b\u54c8\u5e0c\u200b\uff0c\u200b\u8fdb\u884c\u200b\u67e5\u627e\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u90fd\u200b\u662f\u200b\u4ece\u4e0a\u5230\u4e0b\u200b\u67e5\u627e\u200b\uff0c\u200b\u4ece\u4e0a\u5230\u4e0b\u200b\u5730\u200b\u83b7\u53d6\u200b slot \u200b\u7684\u200b\u9501\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u6b7b\u9501\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u5982\u679c\u200b\u8981\u200b\u8c03\u6574\u200b\u54c8\u5e0c\u200b\u8868\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u5219\u200b\u5bf9\u200b\u6574\u4e2a\u200b\u54c8\u5e0c\u200b\u8868\u4e0a\u200b\u628a\u200b\u5927\u9501\u200b\u5c31\u200b\u884c\u200b\u3002</p> <p>\u200b\u52a8\u6001\u200b\u54c8\u5e0c\u200b\u65b9\u6cd5\u200b(\u200b\u5982\u53ef\u200b\u6269\u5c55\u200b\u54c8\u5e0c\u200b)\u200b\u52a0\u9501\u200b\u66f4\u200b\u590d\u6742\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6709\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5171\u4eab\u200b\u72b6\u6001\u200b\uff0c\u200b\u66f4\u96be\u200b\u8fdb\u884c\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b\u3002\u200b\u4e00\u822c\u200b\u6709\u200b\u4e24\u79cd\u200b\u52a0\u9501\u200b\u65b9\u5f0f\u200b\uff1a</p> <ul> <li>Page Latches \uff1a\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b page \u200b\u4e0a\u200b\u8bfb\u5199\u200b\u9501\u200b\uff0c\u200b\u7ebf\u7a0b\u200b\u8bbf\u95ee\u200b\u9875\u200b\u4e4b\u524d\u200b\u4e0a\u9501\u200b\uff0c\u200b\u4f46\u4f1a\u200b\u964d\u4f4e\u200b\u4e00\u4e9b\u200b\u5e76\u884c\u6027\u200b\u3002</li> <li>Slot Latches \uff1a\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b slot \u200b\u4e0a\u200b\u8bfb\u5199\u200b\u9501\u200b\uff0c\u200b\u589e\u52a0\u200b\u4e86\u200b\u5e76\u884c\u6027\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e5f\u200b\u589e\u52a0\u200b\u4e86\u200b\u5185\u5b58\u200b\u548c\u200b\u8ba1\u7b97\u200b\u5f00\u9500\u200b (\u200b\u56e0\u4e3a\u200b\u7ebf\u7a0b\u200b\u8981\u200b\u4e3a\u200b\u8bbf\u95ee\u200b\u7684\u200b\u6bcf\u4e2a\u200b slot \u200b\u90fd\u200b\u83b7\u53d6\u200b\u9501\u200b)\u3002\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5355\u200b\u6a21\u5f0f\u200b\u9501\u200b\uff08\u200b\u5373\u200b\u81ea\u65cb\u200b\u9501\u200b\uff09\u200b\u6765\u200b\u51cf\u5c11\u200b\u5185\u5b58\u200b\u548c\u200b\u8ba1\u7b97\u200b\u5f00\u9500\u200b\uff0c\u200b\u4ee3\u4ef7\u200b\u662f\u200b\u964d\u4f4e\u200b\u4e86\u200b\u5e76\u884c\u6027\u200b\u3002</li> </ul> <p>\u200b\u5bf9\u200b page \u200b\u52a0\u9501\u200b\uff0c\u200b\u7406\u89e3\u200b\u8d77\u6765\u200b\u4e5f\u200b\u6bd4\u8f83\u7b80\u5355\u200b\uff0c\u200b\u4f8b\u5982\u200b\u4e0b\u9762\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u83b7\u53d6\u200b\u5230\u200b\u9501\u200b\uff0c\u200b\u8bbf\u95ee\u200b\u5230\u200b page \u200b\u4e4b\u540e\u200b\uff0c\u200b\u5982\u679c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u540c\u65f6\u200b\u9700\u8981\u200b\u52a0\u5199\u200b\u9501\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u4f1a\u200b\u963b\u585e\u200b\u3002</p> <p></p> <p>\u200b\u5bf9\u200b slot \u200b\u52a0\u9501\u200b\uff0c\u200b\u51cf\u5c0f\u200b\u4e86\u200b\u9501\u200b\u7684\u200b\u7c92\u5ea6\u200b\u3002\u200b\u591a\u4e2a\u200b\u7ebf\u7a0b\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u8bbf\u95ee\u200b\u4e00\u4e2a\u200b page\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u8bbf\u95ee\u200b\u5177\u4f53\u200b\u7684\u200b slot \u200b\u65f6\u200b\u4ecd\u7136\u200b\u9700\u8981\u200b\u52a0\u9501\u200b\u3002</p> <p></p>"},{"location":"db/cmu15445/L9/#btree-latching","title":"B+Tree Latching","text":"<p>\u200b\u54c8\u5e0c\u200b\u8868\u4e2d\u200b\u7684\u200b\u52a0\u9501\u200b\u64cd\u4f5c\u200b\u76f8\u5bf9\u200b\u7b80\u5355\u200b\u5bb9\u6613\u200b\u7406\u89e3\u200b\uff0cB+ \u200b\u6811\u4e2d\u200b\u7684\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u4fdd\u8bc1\u200b\u5c31\u200b\u7a0d\u5fae\u200b\u9ebb\u70e6\u200b\u70b9\u200b\u4e86\u200b\uff0c\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u7c7b\u4f3c\u200b\u4e0b\u9762\u200b\u8fd9\u6837\u200b\u7684\u200b\u95ee\u9898\u200b\uff1a</p> <ul> <li>\u200b\u591a\u4e2a\u200b\u7ebf\u7a0b\u200b\u5728\u200b\u540c\u4e00\u200b\u65f6\u523b\u200b\u53bb\u200b\u4fee\u6539\u200b B+ \u200b\u6811\u4e2d\u200b\u7684\u200b\u540c\u4e00\u4e2a\u200b\u7ed3\u70b9\u200b</li> <li>\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u5728\u200b\u904d\u5386\u200b B+ \u200b\u6811\u200b\uff0c\u200b\u800c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u5728\u200b\u6267\u884c\u200b split/merge \u200b\u64cd\u4f5c\u200b</li> </ul> <p>\ud83c\udf30 \u200b\u4f8b\u5982\u200b\u4e0b\u9762\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff0c\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u5728\u200b B+ \u200b\u6811\u4e2d\u200b\u8bfb\u5199\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b\u95ee\u9898\u200b\u3002</p> <p>\u200b\u9996\u5148\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b T1 \u200b\u8981\u200b\u5220\u9664\u200b B+ \u200b\u6811\u4e2d\u200b\u7684\u200b\u8282\u70b9\u200b 44\uff0c\u200b\u5b83\u4f1a\u200b\u4ece\u200b\u6839\u200b\u8282\u70b9\u200b\u5f00\u59cb\u67e5\u627e\u200b\uff0c\u200b\u5e76\u200b\u4ece\u200b\u8fd9\u4e2a\u200b\u94fe\u8def\u200b\u627e\u5230\u200b\u4f4d\u4e8e\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u7684\u200b 44\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u5176\u200b\u5220\u9664\u200b\u3002</p> <p></p> <p>\u200b\u5982\u679c\u200b\u6b64\u65f6\u200b\u5220\u9664\u200b\u4e86\u200b 44 \u200b\u4e4b\u540e\u200b\uff0c\u200b\u89e6\u53d1\u200b\u4e86\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u7684\u200b borrow\uff0c\u200b\u5e76\u4e14\u200b\u6b64\u65f6\u200b\u6709\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b T2 \u200b\u9700\u8981\u200b\u8bfb\u53d6\u200b\u8282\u70b9\u200b 41\u3002\u200b\u5728\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u5e76\u53d1\u200b\u5b89\u5168\u200b\u7684\u200b\u4fdd\u8bc1\u200b\u4e0b\u200b\uff0c\u200b\u5c3d\u7ba1\u200b\u8282\u70b9\u200b 41 \u200b\u662f\u200b\u5b58\u5728\u200b\u7684\u200b\uff0c\u200b\u4f46\u662f\u200b T2 \u200b\u6709\u200b\u53ef\u80fd\u200b\u6839\u672c\u200b\u62ff\u200b\u4e0d\u5230\u200b\u6570\u636e\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6b64\u65f6\u200b T1 \u200b\u6709\u200b\u53ef\u80fd\u200b\u56e0\u4e3a\u200b borrow\uff0c\u200b\u800c\u200b\u5c06\u200b\u8282\u70b9\u200b 41 \u200b\u79fb\u52a8\u200b\u5f00\u200b\u4e86\u200b\u3002\u200b\u8fd9\u6837\u200b\u5c31\u200b\u9020\u6210\u200b\u4e86\u200b\u6570\u636e\u200b\u7684\u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u9700\u8981\u200b\u5e76\u53d1\u200b\u5b89\u5168\u200b\u6765\u200b\u4fdd\u8bc1\u200b\u3002</p> <p></p> <p>Latch Crabbing &amp; Coupling</p> <p>B+ \u200b\u6811\u200b\u4e2d\u5c06\u200b\u4fdd\u8bc1\u200b\u7ebf\u7a0b\u200b\u5b89\u5168\u200b\u7684\u200b\u52a0\u9501\u200b\u65b9\u5f0f\u200b\u7edf\u4e00\u200b\u53eb\u505a\u200b latch crabbing/coupling\u3002</p> <p>Latch Crabing \u200b\u7684\u200b\u57fa\u672c\u200b\u601d\u60f3\u200b\uff1a\u200b\u7ebf\u7a0b\u200b\u5728\u200b\u904d\u200b\u5386\u65f6\u200b\uff0c\u200b\u5148\u200b\u83b7\u53d6\u200b parent \u200b\u7684\u200b latch\uff0c\u200b\u518d\u200b\u83b7\u53d6\u200b child \u200b\u7684\u200b latch\uff0c\u200b\u82e5\u200b child \"safe\"\uff0c\u200b\u5219\u200b\u91ca\u653e\u200b parent \u200b\u7684\u200b latch\u3002</p> <p>\u200b\u8fd9\u91cc\u200b <code>safe</code> \u200b\u7684\u200b\u5b9a\u4e49\u200b\u662f\u200b\uff1a \u200b\u8282\u70b9\u200b\u5728\u200b\u8fdb\u884c\u200b\u64cd\u4f5c\u200b\u540e\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u89e6\u53d1\u200b split \u200b\u6216\u200b merge\uff0c\u200b\u4ece\u800c\u200b\u5f71\u54cd\u200b\u7236\u200b\u8282\u70b9\u200b \u3002</p> <ul> <li>\u200b\u63d2\u5165\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\u200b\u7ed3\u70b9\u200b\u672a\u6ee1\u200b\uff1b</li> <li>\u200b\u5220\u9664\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\u200b\u7ed3\u70b9\u200b\u8d85\u8fc7\u200b\u534a\u6ee1\u200b\uff1b</li> <li>\u200b\u641c\u7d22\u200b\u5143\u7d20\u200b\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u8282\u70b9\u200b\u90fd\u200b\u4e3a\u200b safe node\u3002</li> </ul> <p>Basic Latch Crabbing Protocol:</p> <ul> <li>Search\uff1a\u200b\u4ece\u6839\u200b\u5f00\u59cb\u200b\u5f80\u200b\u4e0b\u200b\uff0c\u200b\u91cd\u590d\u200b\u83b7\u53d6\u200b child \u200b\u7ed3\u70b9\u200b\u7684\u200b\u8bfb\u9501\u200b\uff0c\u200b\u5e76\u200b\u91ca\u653e\u200b\u7236\u200b\u7ed3\u70b9\u200b\u7684\u200b\u8bfb\u9501\u200b\u3002</li> <li>Insert/Delete\uff1a\u200b\u4ece\u6839\u200b\u5f00\u59cb\u200b\u5f80\u200b\u4e0b\u200b\uff0c\u200b\u5bf9\u200b child \u200b\u7ed3\u70b9\u200b\u52a0\u5199\u200b\u9501\u200b\uff0c\u200b\u8fdb\u4e00\u6b65\u200b\u5224\u65ad\u200b child \u200b\u662f\u5426\u200b\u5b89\u5168\u200b\uff0c\u200b\u82e5\u200b\u5b89\u5168\u200b\u5219\u200b\u91ca\u653e\u200b\u6240\u6709\u200b\u7956\u5148\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5199\u200b\u9501\u200b\u3002</li> </ul> <p>Improved Lock Crabbing Protocol:</p> <p>\u200b\u57fa\u672c\u200b\u7684\u200bLatch Crabbing\u200b\u7b97\u6cd5\u200b\u7684\u200b\u95ee\u9898\u200b\u662f\u200b\uff1a\u200b\u4e8b\u52a1\u200b\u5728\u200b\u6bcf\u6b21\u200b\u63d2\u5165\u200b/\u200b\u5220\u9664\u200b\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u5019\u200b\u603b\u662f\u200b\u83b7\u5f97\u200b\u6839\u4e0a\u200b\u7684\u200b\u5199\u200b\u9501\u200b\uff0c\u200b\u8fd9\u200b\u9650\u5236\u200b\u4e86\u200b\u5e76\u884c\u6027\u200b\u3002 \u200b\u8fd9\u200b\u5176\u5b9e\u200b\u662f\u200b\u4e00\u79cd\u200b\u60b2\u89c2\u200b\u9501\u200b\u7684\u200b\u7b56\u7565\u200b\uff0c\u200b\u5bf9\u6839\u200b\u8282\u70b9\u200b\u52a0\u5199\u200b\u9501\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u5047\u8bbe\u200b\u6211\u4eec\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4f1a\u200b\u6d89\u53ca\u200b\u5230\u200b split/merge\uff0c\u200b\u4f46\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u5927\u591a\u6570\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u6709\u200b split/merge \u200b\u64cd\u4f5c\u200b\u3002\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e50\u89c2\u200b\u9501\u200b\u7684\u200b\u7b56\u7565\u200b\u6765\u200b\u4f18\u5316\u200b\u6574\u4e2a\u200b\u52a0\u9501\u200b\u6d41\u7a0b\u200b\u3002</p> <ul> <li>Search\uff1a\u200b\u4ecd\u7136\u200b\u4f1a\u52a0\u200b\u8bfb\u9501\u200b\uff0c\u200b\u8fd9\u200b\u548c\u200b\u524d\u9762\u200b\u7684\u200b\u65b9\u6848\u200b\u6ca1\u6709\u200b\u53d8\u5316\u200b\u3002</li> <li>Insert/Delete\uff1a\u200b\u641c\u7d22\u200b root \u200b\u5230\u200bleaf \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u52a0\u200b\u8bfb\u9501\u200b\uff0c\u200b\u6700\u540e\u200b\u5bf9\u200b leaf \u200b\u52a0\u5199\u200b\u9501\u200b\u3002\u200b\u7136\u540e\u200b\u5224\u65ad\u200b\u53f6\u200b\u7ed3\u70b9\u200b\u662f\u5426\u200b\u5b89\u5168\u200b\u3002\u200b\u82e5\u200b\u5b89\u5168\u200b\u5219\u200b\u64cd\u4f5c\u200b\u6210\u529f\u200b\uff1b\u200b\u82e5\u200b\u4e0d\u200b\u5b89\u5168\u200b\u5219\u200b\u91ca\u653e\u200b\u5199\u9501\u200b\uff0c\u200b\u4ee5\u200b\u60b2\u89c2\u200b\u9501\u200b\u7684\u200b\u65b9\u6848\u200b\u91cd\u8bd5\u200b\u8fd9\u4e2a\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5373\u200b\u5bf9\u200b\u6240\u6709\u200b\u7684\u200b\u8282\u70b9\u200b\u52a0\u5199\u200b\u9501\u200b\u3002</li> </ul>"},{"location":"db/cmu15445/L9/#leaf-node-scans","title":"Leaf Node Scans","text":"<p>\u200b\u4e4b\u524d\u200b\u4e24\u4e2a\u200b\u7b97\u6cd5\u200b\u90fd\u200b\u662f\u200b\u4ece\u4e0a\u5230\u4e0b\u200b\u7684\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200b\u7ebf\u7a0b\u200b\u53ea\u80fd\u200b\u4ece\u200b\u4f4e\u4e8e\u200b\u5f53\u524d\u200b\u7ed3\u70b9\u200b\u4e2d\u200b\u83b7\u53d6\u200b\u9501\u200b\u5b58\u5668\u200b\u3002\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u7684\u200b\u9501\u200b\u5b58\u5668\u200b\u4e0d\u80fd\u200b\u7528\u200b\uff0c\u200b\u5219\u200b\u7ebf\u7a0b\u200b\u5fc5\u987b\u200b\u7b49\u5f85\u200b\uff0c\u200b\u76f4\u5230\u200b\u5b83\u200b\u53d8\u5f97\u200b\u53ef\u7528\u200b\u3002\u200b\u9274\u4e8e\u200b\u6b64\u200b\uff0c\u200b\u6c38\u8fdc\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u51fa\u73b0\u200b\u6b7b\u9501\u200b</p> <p>\u200b\u7136\u800c\u200b\uff0c\u200b\u53f6\u5b50\u200b\u7ed3\u70b9\u200b\u626b\u63cf\u200b\u5f88\u200b\u5bb9\u6613\u200b\u51fa\u73b0\u200b\u6b7b\u9501\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u53ef\u80fd\u200b\u6211\u4eec\u200b\u6709\u200b\u7ebf\u7a0b\u200b\u4ece\u200b\u4e24\u4e2a\u200b\u65b9\u5411\u200b\u540c\u65f6\u200b\u83b7\u5f97\u200b\u72ec\u5360\u200b\u9501\u200b(\u200b\u5199\u9501\u200b)\u3002Index latch \u200b\u4e0d\u200b\u652f\u6301\u200b\u6b7b\u9501\u200b\u68c0\u6d4b\u200b\u548c\u200b\u9884\u9632\u200b\u3002</p> <p>\ud83c\udf30 T1 \u200b\u9700\u8981\u200b\u5220\u9664\u200b 4\uff0cT2 \u200b\u9700\u8981\u200b\u626b\u63cf\u200b\u6570\u636e\u200b\uff0c\u200b\u6b64\u65f6\u200b\u4ed6\u4eec\u200b\u90fd\u200b\u5728\u200b\u5404\u81ea\u200b\u7684\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u4e0a\u200b\u52a0\u4e0a\u200b\u4e86\u200b\u9501\u200b\uff0cT1 \u200b\u662f\u200b\u5199\u200b\u9501\u200b\uff0cT2 \u200b\u662f\u200b\u8bfb\u9501\u200b\u3002</p> <p></p> <p>\u200b\u6b64\u65f6\u200b\u4e24\u4e2a\u200b\u7ebf\u7a0b\u200b\u90fd\u200b\u65e0\u6cd5\u200b\u83b7\u53d6\u200b\u5230\u200b\u53e6\u200b\u4e00\u4e2a\u200b page \u200b\u7684\u200b\u9501\u200b\uff0cT2 \u200b\u7684\u200b\u529e\u6cd5\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u51e0\u79cd\u200b\uff1a</p> <ul> <li>T2 \u200b\u7acb\u523b\u200b\u4e3b\u52a8\u200b\u91ca\u653e\u200b\u9501\u200b\uff0c\u200b\u5e76\u4e14\u200b\u91cd\u5934\u200b\u5f00\u59cb\u200b</li> <li>T2 \u200b\u8ba9\u200b T1 \u200b\u653e\u5f03\u200b\u9501\u200b\uff0cT2 \u200b\u83b7\u5f97\u200b\u4e86\u200b Page C \u200b\u7684\u200b\u9501\u200b\uff0c\u200b\u8ba9\u200b T1 \u200b\u91cd\u65b0\u200b\u5f00\u59cb\u200b</li> <li>T2 \u200b\u7b49\u5f85\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u6b7b\u9501\u200b\uff0c\u200b\u5e94\u8be5\u200b\u5728\u200b timeout \u200b\u4e4b\u540e\u200b\u91ca\u653e\u200b\u6389\u200b\u9501\u200b\u91cd\u5934\u200b\u5f00\u59cb\u200b</li> </ul> <p>\u200b\u7ecf\u5e38\u200b\u91c7\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u7b2c\u4e00\u79cd\u200b\uff0c\u200b\u5373\u53f6\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5144\u5f1f\u200b\u7ed3\u70b9\u200b\u7684\u200b\u9501\u200b\u91c7\u7528\u200b \u201c\u200b\u65e0\u200b\u7b49\u5f85\u200b\u6a21\u5f0f\u200b\u201d\uff0c\u200b\u82e5\u200b\u7ebf\u7a0b\u200b\u8bd5\u56fe\u200b\u83b7\u53d6\u200b\u53f6\u200b\u7ed3\u70b9\u200b\u7684\u200b\u5144\u5f1f\u200b\u7ed3\u70b9\u200b\u7684\u200b\u9501\u200b\uff0c\u200b\u4f46\u9501\u200b\u4e0d\u53ef\u200b\u7528\u200b\uff0c\u200b\u5219\u200b\u8fc5\u901f\u200b\u4e2d\u6b62\u200b\u64cd\u4f5c\u200b (\u200b\u91ca\u653e\u200b\u5b83\u200b\u6240\u200b\u6301\u6709\u200b\u7684\u200b\u6240\u6709\u200b\u9501\u200b)\uff0c\u200b\u5e76\u200b\u91cd\u65b0\u542f\u52a8\u200b\u64cd\u4f5c\u200b\u3002</p>"},{"location":"db/cmu15445/L9/#delayed-parent-updates","title":"Delayed Parent Updates","text":"<p>\u200b\u5728\u200b B+ \u200b\u6811\u4e2d\u200b\uff0c\u200b\u5f53\u6709\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u5206\u88c2\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6d89\u53ca\u200b\u5230\u200b\u8fd9\u200b\u51e0\u4e2a\u200b\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u672c\u8eab\u200b\u5206\u88c2\u200b</li> <li>\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b</li> <li>\u200b\u7236\u200b\u8282\u70b9\u200b\u66f4\u65b0\u200b</li> </ul> <p>\u200b\u5728\u200b Blink Tree \u200b\u5f53\u4e2d\u200b\uff0c\u200b\u6709\u200b\u4e00\u79cd\u200b\u9488\u5bf9\u200b\u6b64\u200b\u7684\u200b\u4f18\u5316\u200b\uff0c\u200b\u5c31\u662f\u200b\u5c06\u200b\u66f4\u65b0\u200b\u7236\u200b\u8282\u70b9\u200b\u7684\u200b\u64cd\u4f5c\u200b\u5ef6\u8fdf\u200b\u3002</p> <p>\u200b\u5f53\u5bf9\u200b B+ \u200b\u6811\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5982\u679c\u200b\u5224\u65ad\u200b\u5230\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u9700\u8981\u200b\u5206\u88c2\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u4ece\u5934\u200b\u52a0\u5199\u200b\u9501\u200b\uff0c\u200b\u800c\u662f\u200b\u5ef6\u8fdf\u200b\u5bf9\u7236\u200b\u8282\u70b9\u200b\u7684\u200b\u66f4\u65b0\u200b\u3002</p> <p>\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u524d\u9762\u200b\u63d0\u5230\u200b\u7684\u200b\u8fd9\u79cd\u200b B+ \u200b\u6811\u200b\u5e76\u53d1\u200b\u63a7\u5236\u200b\u7684\u200b\u65b9\u6848\u200b\uff0c\u200b\u53ea\u662f\u200b\u4e00\u79cd\u200b\u5f88\u200b\u521d\u7ea7\u200b\u7684\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u9501\u200b\u7684\u200b\u7c92\u5ea6\u200b\u4ecd\u7136\u200b\u5f88\u5927\u200b\u3002</p> <p>\u200b\u5728\u5b9e\u8df5\u4e2d\u200b\u4f7f\u7528\u200b\u66f4\u200b\u591a\u200b\u7684\u200b Blink Tree \u200b\u662f\u200b\u5bf9\u200b\u5e76\u53d1\u200b\u652f\u6301\u200b\u66f4\u597d\u200b\u7684\u200b B+ \u200b\u6811\u7ed3\u6784\u200b\uff0c\u200b\u5176\u200b\u4e13\u95e8\u200b\u5bf9\u200b\u5e76\u53d1\u200b\u8bbf\u95ee\u200b\u505a\u200b\u4e86\u200b\u4f18\u5316\u200b</p>"},{"location":"go/","title":"Golang\u200b\u5b66\u4e60","text":"<p> \u200b\u7ea6\u200b 3 \u200b\u4e2a\u200b\u5b57\u200b </p>"},{"location":"go/gin_learn/basic/","title":"Basic","text":"<p> \u200b\u7ea6\u200b 0 \u200b\u4e2a\u200b\u5b57\u200b </p>"},{"location":"os/","title":"OS \u200b\u5b66\u4e60","text":"<p> \u200b\u7ea6\u200b 105 \u200b\u4e2a\u200b\u5b57\u200b </p>  \u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\uff1a\u200b\u539f\u7406\u200b\u4e0e\u200b\u5b9e\u73b0\u200b\uff08\u200b\u94f6\u674f\u200b\u4e66\u200b\uff09 <p>\u200b\u5b66\u4e60\u200b\u8d44\u6599\u200b\uff1a\u200b\u94f6\u674f\u200b\u4e66\u200b + \u200b\u73b0\u4ee3\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\uff1a\u200b\u539f\u7406\u200b\u4e0e\u200b\u5b9e\u73b0\u200b\uff08\u200b\u4e0a\u6d77\u4ea4\u901a\u5927\u5b66\u200b\uff09\u200b\u8bfe\u7a0b\u200b\u89c6\u9891\u200b</p> <ul> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7b80\u4ecb\u200b</li> <li>ARM64\u200b\u786c\u4ef6\u200b\u7ed3\u6784\u200b\u4e0e\u200b\u7cfb\u7edf\u200b\u63a5\u53e3\u200b</li> <li>\u200b\u4e2d\u65ad\u200b\u3001\u200b\u5f02\u5e38\u200b\u4e0e\u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b</li> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7ed3\u6784\u200b</li> <li>\u200b\u5185\u5b58\u200b\u7ba1\u7406\u200b</li> <li>\u200b\u8fdb\u7a0b\u200b\u7ba1\u7406\u200b</li> <li>\u200b\u8fdb\u7a0b\u200b/\u200b\u7ebf\u7a0b\u200b\u8c03\u5ea6\u200b</li> <li>\u200b\u7528\u6237\u200b\u8fdb\u7a0b\u200b</li> <li>\u200b\u8fdb\u7a0b\u200b\u95f4\u901a\u4fe1\u200b</li> <li>\u200b\u540c\u6b65\u200b\u539f\u8bed\u200b</li> </ul> MIT 6.S081"},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/intro/","title":"\u64cd\u4f5c\u7cfb\u7edf\u200b\u7b80\u4ecb","text":"<p> \u200b\u7ea6\u200b 1111 \u200b\u4e2a\u200b\u5b57\u200b  8 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 4 \u200b\u5206\u949f\u200b</p>"},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/intro/#\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b9a\u4e49","title":"\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u5b9a\u4e49","text":"<p>Reference</p> <p>\"\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u662f\u200b\u7ba1\u7406\u200b\u786c\u4ef6\u8d44\u6e90\u200b\u3001\u200b\u63a7\u5236\u200b\u7a0b\u5e8f\u8fd0\u884c\u200b\u3001\u200b\u6539\u5584\u200b\u4eba\u673a\u754c\u9762\u200b\u548c\u200b\u4e3a\u200b\u5e94\u7528\u8f6f\u4ef6\u200b\u63d0\u4f9b\u200b\u652f\u6301\u200b\u7684\u200b\u4e00\u79cd\u200b\u7cfb\u7edf\u8f6f\u4ef6\u200b\u3002\"  \u2014\u2014\u2014\u200b\u8ba1\u7b97\u673a\u200b\u767e\u79d1\u5168\u4e66\u200b(\u200b\u7b2c\u200b2\u200b\u7248\u200b)</p> <p>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u662f\u200b\u5728\u200b\u786c\u4ef6\u200b\u548c\u200b\u5e94\u7528\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8f6f\u4ef6\u200b\u5c42\u200b </p> <ul> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u6838\u5fc3\u200b\u529f\u80fd\u200b\uff1a<ul> <li>\u200b\u5c06\u200b\u6709\u9650\u200b\u7684\u200b\u3001\u200b\u79bb\u6563\u200b\u7684\u200b\u8d44\u6e90\u200b\uff0c\u200b\u9ad8\u6548\u200b\u5730\u200b\u62bd\u8c61\u200b\u4e3a\u200b\u65e0\u9650\u200b\u7684\u200b\u3001\u200b\u8fde\u7eed\u200b\u7684\u200b\u8d44\u6e90\u200b</li> </ul> </li> <li>\u200b\u4ece\u200b\u8f6f\u4ef6\u200b\u89d2\u5ea6\u200b\u7684\u200b\u5b9a\u4e49\u200b\uff1a<ul> <li>\u200b\u786c\u4ef6\u8d44\u6e90\u200b\u865a\u62df\u5316\u200b+\u200b\u7ba1\u7406\u200b\u529f\u80fd\u200b\u53ef\u7f16\u7a0b\u200b</li> </ul> </li> <li>\u200b\u4ece\u200b\u7ed3\u6784\u200b\u89d2\u5ea6\u200b\u7684\u200b\u5b9a\u4e49\u200b\uff1a<ul> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5185\u6838\u200b+\u200b\u7cfb\u7edf\u200b\u6846\u67b6\u200b</li> </ul> </li> </ul>"},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/intro/#\u64cd\u4f5c\u7cfb\u7edf--\u7ba1\u7406--\u670d\u52a1","title":"\u64cd\u4f5c\u7cfb\u7edf\u200b = \u200b\u7ba1\u7406\u200b + \u200b\u670d\u52a1","text":"<p>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4e3a\u200b\u5e94\u7528\u200b\u63d0\u4f9b\u200b\u7684\u200b\u4e00\u4e9b\u200b\u670d\u52a1\u200b</p> <ul> <li>\u200b\u4e3a\u200b\u5e94\u7528\u200b\u63d0\u4f9b\u200b\u8ba1\u7b97\u8d44\u6e90\u200b\u7684\u200b\u62bd\u8c61\u200b <ul> <li>CPU\uff1a\u200b\u8fdb\u7a0b\u200b/\u200b\u7ebf\u7a0b\u200b\uff0c\u200b\u6570\u91cf\u200b\u4e0d\u200b\u53d7\u200b\u7269\u7406\u200bCPU\u200b\u7684\u200b\u9650\u5236\u200b</li> <li>\u200b\u5185\u5b58\u200b\uff1a\u200b\u865a\u62df\u5185\u5b58\u200b\uff0c\u200b\u5927\u5c0f\u200b\u4e0d\u200b\u53d7\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u7684\u200b\u9650\u5236\u200b</li> <li>I/O\u200b\u8bbe\u5907\u200b\uff1a\u200b\u5c06\u200b\u5404\u79cd\u200b\u8bbe\u5907\u200b\u7edf\u4e00\u200b\u62bd\u8c61\u200b\u4e3a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u7edf\u4e00\u200b\u63a5\u53e3\u200b</li> </ul> </li> <li>\u200b\u4e3a\u200b\u5e94\u7528\u200b\u63d0\u4f9b\u200b\u7ebf\u7a0b\u200b\u95f4\u200b\u7684\u200b\u540c\u6b65\u200b<ul> <li>\u200b\u5e94\u7528\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u81ea\u5df1\u200b\u7684\u200b\u540c\u6b65\u200b\u539f\u8bed\u200b\uff08\u200b\u5982\u200bspinlock\uff09</li> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u66f4\u200b\u9ad8\u6548\u200b\u7684\u200b\u540c\u6b65\u200b\u539f\u8bed\u200b\uff08\u200b\u4e0e\u200b\u7ebf\u7a0b\u200b\u5207\u6362\u200b\u914d\u5408\u200b, \u200b\u5982\u200bpthread_mutex\uff09</li> </ul> </li> <li>\u200b\u4e3a\u200b\u5e94\u7528\u200b\u63d0\u4f9b\u200b\u8fdb\u7a0b\u200b\u95f4\u200b\u7684\u200b\u901a\u4fe1\u200b<ul> <li>\u200b\u5e94\u7528\u200b\u53ef\u4ee5\u200b\u5229\u7528\u7f51\u7edc\u200b\u8fdb\u884c\u200b\u8fdb\u7a0b\u200b\u95f4\u901a\u4fe1\u200b\uff08\u200b\u5982\u200bloopback\u200b\u8bbe\u5907\u200b\uff09</li> <li>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u66f4\u200b\u9ad8\u6548\u200b\u7684\u200b\u672c\u5730\u200b\u901a\u4fe1\u200b\u673a\u5236\u200b\uff08\u200b\u5177\u6709\u200b\u66f4\u200b\u4e30\u5bcc\u200b\u7684\u200b\u8bed\u4e49\u200b\uff0c\u200b\u5982\u200bpipe\uff09</li> </ul> </li> </ul> <p>\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u5bf9\u200b\u5e94\u7528\u200b\u7684\u200b\u7ba1\u7406\u200b</p> <ul> <li>\u200b\u751f\u547d\u5468\u671f\u200b\u7684\u200b\u7ba1\u7406\u200b<ul> <li>\u200b\u5e94\u7528\u200b\u7684\u200b\u52a0\u8f7d\u200b\u3001\u200b\u8fc1\u79fb\u200b\u3001\u200b\u9500\u6bc1\u200b\u7b49\u200b\u64cd\u4f5c\u200b</li> </ul> </li> <li>\u200b\u8ba1\u7b97\u8d44\u6e90\u200b\u7684\u200b\u5206\u914d\u200b<ul> <li>CPU\uff1a\u200b\u7ebf\u7a0b\u200b\u7684\u200b\u8c03\u5ea6\u200b\u673a\u5236\u200b</li> <li>\u200b\u5185\u5b58\u200b\uff1a\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u7684\u200b\u5206\u914d\u200b</li> <li>I/O\u200b\u8bbe\u5907\u200b\uff1a\u200b\u8bbe\u5907\u200b\u7684\u200b\u590d\u7528\u200b\u4e0e\u200b\u5206\u914d\u200b</li> </ul> </li> <li>\u200b\u5b89\u5168\u200b\u4e0e\u200b\u9694\u79bb\u200b<ul> <li>\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u5185\u90e8\u200b\uff1a\u200b\u8bbf\u95ee\u63a7\u5236\u200b\u673a\u5236\u200b</li> <li>\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u4e4b\u95f4\u200b\uff1a\u200b\u9694\u79bb\u200b\u673a\u5236\u200b\uff0c\u200b\u5305\u62ec\u200b\u9519\u8bef\u200b\u9694\u79bb\u200b\u548c\u200b\u6027\u80fd\u200b\u9694\u79bb\u200b</li> </ul> </li> </ul> <p>\u200b\u7ba1\u7406\u200b\u548c\u200b\u670d\u52a1\u200b\u7684\u200b\u76ee\u6807\u200b\u6709\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u51b2\u7a81\u200b</p> <ul> <li>\u200b\u670d\u52a1\u200b\u7684\u200b\u76ee\u6807\u200b\uff1a\u200b\u5355\u4e2a\u200b\u5e94\u7528\u200b\u7684\u200b\u8fd0\u884c\u200b\u6548\u7387\u200b\u6700\u5927\u5316\u200b</li> <li>\u200b\u7ba1\u7406\u200b\u7684\u200b\u76ee\u6807\u200b\uff1a\u200b\u7cfb\u7edf\u200b\u7684\u200b\u8d44\u6e90\u200b\u6574\u4f53\u200b\u5229\u7528\u7387\u200b\u6700\u5927\u5316\u200b</li> <li>\u200b\u4f8b\u200b\uff1a\u200b\u5355\u7eaf\u200b\u5f3a\u8c03\u200b\u516c\u5e73\u6027\u200b\u7684\u200b\u8c03\u5ea6\u200b\u7b56\u7565\u200b\u5f80\u5f80\u200b\u8d44\u6e90\u200b\u5229\u7528\u7387\u200b\u4f4e\u200b\uff08\u200b\u5982\u200b\u7ec6\u7c92\u5ea6\u200b\u7684\u200bround-robin\u200b\u5bfc\u81f4\u200b\u5927\u91cf\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\u5207\u6362\u200b\uff09</li> </ul> <p>Question</p> <p>Q1\uff1a\u200b\u5982\u679c\u200b\u4e00\u53f0\u200b\u673a\u5668\u200b\u6709\u4e14\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\uff0c\u200b\u5f00\u673a\u200b\u540e\u200b\u81ea\u52a8\u200b\u8fd0\u884c\u200b\u4e14\u200b\u4e0d\u4f1a\u200b\u9000\u51fa\u200b\uff0c\u200b\u662f\u5426\u200b\u8fd8\u200b\u9700\u8981\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\uff1f</p> Answer <p>\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5e94\u7528\u200b\u5c31\u200b\u9700\u8981\u200b\u76f4\u63a5\u200b\u548c\u200b\u786c\u4ef6\u200b\u6253\u4ea4\u9053\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5b9e\u73b0\u200b\u5bf9\u200b\u786c\u4ef6\u8d44\u6e90\u200b\u7684\u200b\u7ba1\u7406\u200b\u4e0e\u200b\u62bd\u8c61\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u5982\u679c\u200b\u5e94\u7528\u200b\u51fa\u73b0\u200b\u6545\u969c\u200b\uff0c\u200b\u5c31\u200b\u53ef\u80fd\u200b\u5f15\u8d77\u200b\u8ba1\u7b97\u673a\u200b\u76f4\u63a5\u200b\u5d29\u6e83\u200b\u800c\u200b\u6ca1\u6709\u200b\u8bca\u65ad\u200b\u548c\u200b\u8c03\u8bd5\u200b\u7684\u200b\u673a\u4f1a\u200b\u3002\u200b\u5f53\u7136\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u4e00\u5957\u200b\u786c\u4ef6\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u4e0e\u200b\u62bd\u8c61\u200b\u7684\u200b\u5e93\u200b\u786e\u5b9e\u200b\u53ef\u4ee5\u200b\u89e3\u51b3\u200b\u521a\u624d\u200b\u63d0\u5230\u200b\u7684\u200b\u8d44\u6e90\u200b\u62bd\u8c61\u200b\u3001\u200b\u6545\u969c\u200b\u6062\u590d\u200b\u4e0e\u200b\u8c03\u8bd5\u200b\u7b49\u200b\u95ee\u9898\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u4e2a\u200b\u5e93\u200b\u5b9e\u73b0\u200b\u7684\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u529f\u80fd\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b\u3002\u200b\u4e8b\u5b9e\u4e0a\u200b\uff0c\u200b\u5f53\u524d\u200b\u7684\u200b\u4e00\u4e9b\u200b\u5bf9\u200b\u6027\u80fd\u200b\u548c\u200b\u65f6\u5ef6\u200b\u8981\u6c42\u200b\u6781\u9ad8\u200b\u7684\u200b\u573a\u666f\u200b\u5c31\u662f\u200b\u901a\u8fc7\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200b\u7684\u200b\uff0c\u200b\u4f8b\u5982\u200b\u57fa\u4e8e\u200b\u5916\u6838\u200b(Exokernel)\u200b\u67b6\u6784\u200b\u7684\u200b\u5e93\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b(LibOS)\u200b\u4e0e\u200b\u865a\u62df\u5316\u200b\u5bb9\u5668\u200b\u7b49\u200b\u65b9\u6cd5\u200b</p> <p>Q2\uff1a\u200b\u5982\u679c\u200b\u4e00\u4e2a\u200b\u5e94\u7528\u200b\u5e0c\u671b\u200b\u81ea\u5df1\u200b\u5b8c\u5168\u200b\u63a7\u5236\u200b\u786c\u4ef6\u200b\u800c\u200b\u4e0d\u662f\u200b\u4f7f\u7528\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u63d0\u4f9b\u200b\u7684\u200b\u62bd\u8c61\u200b\uff0c\u200b\u662f\u5426\u200b\u8fd8\u200b\u9700\u8981\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\uff1f</p> Answer <p>\u200b\u5c3d\u7ba1\u200b\u5e94\u7528\u200b\u5e0c\u671b\u200b\u76f4\u63a5\u200b\u63a7\u5236\u200b\u786c\u4ef6\u200b\u4f46\u662f\u200b\u5e94\u7528\u200b\u7684\u200b\u52a0\u8f7d\u200b\u4e0e\u200b\u9500\u6bc1\u200b\u3001\u200b\u591a\u4e2a\u200b\u5e94\u7528\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5207\u6362\u200b\u4e0e\u200b\u9694\u79bb\u200b\u7b49\u200b\u7ba1\u7406\u5de5\u4f5c\u200b\u4f9d\u7136\u200b\u9700\u8981\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u6765\u200b\u5b8c\u6210\u200b\u3002\u200b\u6b64\u5916\u200b,\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4ece\u200b\u5168\u5c40\u200b\u7684\u200b\u89d2\u5ea6\u200b\u66f4\u200b\u5408\u7406\u200b\u5730\u200b\u5bf9\u200b\u5e94\u7528\u200b\u8fdb\u884c\u200b\u8c03\u5ea6\u200b\uff0c\u200b\u4ece\u800c\u200b\u66f4\u52a0\u200b\u9ad8\u6548\u200b\u5730\u200b\u5229\u7528\u200b\u786c\u4ef6\u8d44\u6e90\u200b\u3002</p>"},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/intro/#\u5e94\u7528\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u7684\u4ea4\u4e92\u7cfb\u7edf\u8c03\u7528","title":"\u5e94\u7528\u200b\u4e0e\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u4ea4\u4e92\u200b\uff1a\u200b\u7cfb\u7edf\u200b\u8c03\u7528","text":"<p>\u200b\u4ec0\u4e48\u200b\u662f\u200b\u7cfb\u7edf\u200b\u8c03\u7528\u200b\uff1f</p> <ul> <li> <p>\u200b\u5e94\u7528\u200b\u8c03\u7528\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u673a\u5236\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u5e94\u7528\u200b\u4e0d\u80fd\u200b\u5b9e\u73b0\u200b\u7684\u200b\u529f\u80fd\u200b</p> <p>\u200b\u4f8b\u5982\u200b\uff1a<code>printf() -&gt; write() -&gt; sys_write()</code></p> </li> <li> <p>\u200b\u4f7f\u200b\u5e94\u7528\u200b\u8c03\u7528\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u529f\u80fd\u200b\u5c31\u200b\u50cf\u200b\u666e\u901a\u200b\u51fd\u6570\u8c03\u7528\u200b\u4e00\u6837\u200b</p> </li> </ul>"},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/intro/#\u7cfb\u7edf\u8c03\u7528\u8fc7\u7a0b","title":"\u7cfb\u7edf\u200b\u8c03\u7528\u200b\u8fc7\u7a0b","text":""},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/intro/#\u64cd\u4f5c\u7cfb\u7edf\u7684\u529f\u80fd\u7ba1\u7406","title":"\u64cd\u4f5c\u7cfb\u7edf\u200b\u7684\u200b\u529f\u80fd\u200b\uff1a\u200b\u7ba1\u7406","text":"<p>\u200b\u907f\u514d\u200b\u4e00\u4e2a\u200b\u6d41\u6c13\u200b\u5e94\u7528\u200b\u72ec\u5360\u200b\u6240\u6709\u200b\u8d44\u6e90\u200b</p> <p><pre><code>int main() {\n  while(1);\n}\n</code></pre> OS\u200b\u4f1a\u200b\u5361\u6b7b\u200b\u5417\u200b\uff1f \u200b\u4e0d\u4f1a\u200b\uff0c\u200b\u539f\u56e0\u200b\u662f\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\u4f1a\u200b\uff1a</p> <ul> <li>\u200b\u65b9\u6cd5\u200b-1\uff1a\u200b\u6bcf\u200b10ms\u200b\u53d1\u751f\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u4e2d\u65ad\u200b\uff08\u200b\u65f6\u95f4\u200b\u7247\u200b\uff09<ul> <li>\u200b\u8c03\u5ea6\u200b\u5668\u200b\u51b3\u5b9a\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u8981\u200b\u8fd0\u884c\u200b\u7684\u200b\u4efb\u52a1\u200b</li> </ul> </li> <li>\u200b\u65b9\u6cd5\u200b-2\uff1a\u200b\u53ef\u200b\u901a\u8fc7\u200b\u4fe1\u53f7\u200b\u7b49\u200b\u6253\u65ad\u200b\u5f53\u524d\u4efb\u52a1\u200b\u6267\u884c\u200b<ul> <li>\u200b\u5982\u200b\uff1akill -9 1951</li> </ul> </li> </ul> <p>\u200b\u5982\u4f55\u200b\u5361\u6b7b\u200b\u4e00\u4e2a\u200bOS\uff1f <pre><code>int main() {\n  while(1){\n    fork();\n  }\n}\n</code></pre> \u200b\u5982\u4f55\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff1f</p> <ul> <li>\u200b\u8d44\u6e90\u200b\u914d\u989d\u200b\uff1acgroup/Linux</li> <li>\u200b\u865a\u62df\u5316\u200b\uff1a\u200b\u865a\u62df\u673a\u200b</li> <li>\u200b\u4e07\u80fd\u200b\u65b9\u6cd5\u200b\uff1a\u200b\u91cd\u542f\u200b\u673a\u5668\u200b</li> <li>\u200b\u5236\u5ea6\u200b\u7ea6\u675f\u200b\uff1aAppStore\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u9884\u5ba1\u200b\u51c6\u5165\u200b\u673a\u5236\u200b</li> </ul>"},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/","title":"ARM64\u200b\u786c\u4ef6\u200b\u7ed3\u6784\u200b\u4e0e\u200b\u7cfb\u7edf\u200b\u63a5\u53e3","text":"<p> \u200b\u7ea6\u200b 248 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/#\u51af\u8bfa\u4f9d\u66fc\u7ed3\u6784","title":"\u51af\u8bfa\u200b\u4f9d\u66fc\u7ed3\u6784","text":"<ul> <li>\u200b\u4e2d\u592e\u200b\u5904\u7406\u5355\u5143\u200b(Central Processing Unit\uff0cCPU)\uff1a\u200b\u4e3b\u8981\u200b\u8d1f\u8d23\u200b\u8fd0\u7b97\u200b\u548c\u200b\u903b\u8f91\u200b\u63a7\u5236\u200b\u3002\u200b\u6309\u7167\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u7684\u200b\u6307\u4ee4\u200b\u8fdb\u884c\u200b\u8ba1\u7b97\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6839\u636e\u200b\u6761\u4ef6\u200b\u6267\u884c\u7a0b\u5e8f\u200b\u4e2d\u200b\u7684\u200b\u4e0d\u540c\u200b\u90e8\u5206\u200b(\u200b\u987a\u5e8f\u200b\u6216\u200b\u8df3\u8f6c\u200b\u6267\u884c\u200b)\u3002</li> <li>\u200b\u5b58\u50a8\u5668\u200b(memoryunit)\uff1a\u200b\u8d1f\u8d23\u200b\u5b58\u50a8\u200b\u7a0b\u5e8f\u200b\u6307\u4ee4\u548c\u6570\u636e\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4fdd\u5b58\u200b\u7a0b\u5e8f\u6267\u884c\u200b\u7684\u200b\u4e2d\u95f4\u200b\u7ed3\u679c\u200b\u548c\u200b\u6700\u7ec8\u200b\u7ed3\u679c\u200b\u3002\u200b\u5728\u200b\u73b0\u4ee3\u200b\u8ba1\u7b97\u673a\u200b\u4e2d\u200b\uff0c\u200b\u5b58\u50a8\u5668\u200b\u901a\u5e38\u200b\u5305\u62ec\u200b\u5bc4\u5b58\u5668\u200b\u3001CPU \u200b\u7f13\u5b58\u200b\u3001\u200b\u5185\u5b58\u200b\u7b49\u200b\u5b58\u50a8\u200b\u5c42\u6b21\u200b\u3002</li> <li>\u200b\u8f93\u5165\u8f93\u51fa\u200b(Input and Output\uff0cI/0)\uff1a\u200b\u8d1f\u8d23\u200b\u4e0e\u200b\u5916\u754c\u200b\u8fdb\u884c\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u4ece\u200b\u5916\u754c\u200b\u83b7\u5f97\u200b\u8f93\u5165\u200b\uff0c\u200b\u5c06\u200b\u7ed3\u679c\u200b\u5411\u200b\u5916\u754c\u200b\u8f93\u51fa\u200b\u3002\u200b\u8bf8\u5982\u200b\u952e\u76d8\u200b\u3001\u200b\u9f20\u6807\u200b\u3001\u200b\u663e\u793a\u5668\u200b\u3001\u200b\u6253\u5370\u673a\u200b\u4ee5\u53ca\u200b\u7f51\u5361\u200b\u7b49\u200b\u5916\u8bbe\u200b\uff0c\u200b\u90fd\u200b\u5c5e\u4e8e\u200b\u6b64\u7c7b\u200b\u8bbe\u5907\u200b\u3002</li> </ul> <p>\u200b\u51af\u8bfa\u200b\u4f9d\u66fc\u200b\u67b6\u6784\u200b\u7684\u200b\u5c40\u9650\u200b</p> <ul> <li>CPU\u200b\u4e0e\u200b\u5185\u5b58\u200b\u7684\u200b\u4ea4\u4e92\u200b\u5f15\u8d77\u200b\u7684\u200b\u5185\u5b58\u200b\u5899\u200b\u95ee\u9898\u200b</li> <li>\u200b\u6570\u636e\u200b\u4e0e\u200b\u6307\u4ee4\u200b\u4e0d\u200b\u533a\u5206\u200b\uff0c\u200b\u6307\u4ee4\u200b\u7b49\u200b\u6570\u636e\u200b\u6216\u200b\u6570\u636e\u200b\u7b49\u200b\u6307\u4ee4\u200b</li> <li>\u200b\u4e32\u884c\u200b\u987a\u5e8f\u200b\u5904\u7406\u200b\uff0c\u200b\u7f3a\u4e4f\u200b\u6570\u636e\u200b\u5e76\u884c\u200b\u80fd\u529b\u200b</li> </ul>"},{"location":"os/%E9%93%B6%E6%9D%8F%E4%B9%A6/%E7%A1%AC%E4%BB%B6%E7%BB%93%E6%9E%84/#cpu\u4e0e\u6307\u4ee4\u96c6\u67b6\u6784","title":"CPU\u200b\u4e0e\u200b\u6307\u4ee4\u96c6\u200b\u67b6\u6784","text":""}]}